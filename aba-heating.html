<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AC Unit Health Score Calculator | ABA Heating & Cooling Austin</title>
    <meta name="description" content="Free AC health assessment tool. Check your system's condition and see how much you could save with proper maintenance.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --aba-blue: oklch(0.55 0.15 245);
            --aba-blue-dark: oklch(0.40 0.15 245);
            --aba-blue-light: oklch(0.70 0.12 245);
            --aba-accent: oklch(0.65 0.20 35);
            --text-primary: oklch(0.20 0.01 245);
            --text-secondary: oklch(0.45 0.01 245);
            --bg-primary: oklch(0.99 0.00 0);
            --bg-secondary: oklch(0.96 0.00 0);
            --border-color: oklch(0.88 0.00 0);
            --success: oklch(0.60 0.15 145);
            --warning: oklch(0.65 0.18 65);
            --danger: oklch(0.60 0.20 25);
            --shadow-sm: 0 1px 2px oklch(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px oklch(0 0 0 / 0.08);
            --shadow-lg: 0 10px 15px -3px oklch(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px oklch(0 0 0 / 0.12);
        }

        [data-theme="dark"] {
            --text-primary: oklch(0.95 0.00 0);
            --text-secondary: oklch(0.70 0.00 0);
            --bg-primary: oklch(0.17 0.01 245);
            --bg-secondary: oklch(0.22 0.01 245);
            --border-color: oklch(0.30 0.01 245);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            transition: background 0.3s ease, color 0.3s ease;
        }

        /* Animated Background */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.03;
            background: 
                radial-gradient(circle at 20% 50%, var(--aba-blue) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, var(--aba-accent) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, var(--aba-blue-light) 0%, transparent 50%);
            animation: backgroundShift 20s ease-in-out infinite;
        }

        @keyframes backgroundShift {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(-5%, 5%) scale(1.1); }
            66% { transform: translate(5%, -5%) scale(0.9); }
        }

        /* Austin Skyline SVG Background */
        .skyline {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            z-index: -1;
            opacity: 0.05;
            background: linear-gradient(to top, var(--aba-blue), transparent);
        }

        /* Header */
        header {
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            padding: 1.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-sm);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--aba-blue), var(--aba-blue-light));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 1.25rem;
            box-shadow: var(--shadow-md);
        }

        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .logo-text p {
            font-size: 0.75rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .theme-toggle {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s ease;
        }

        .theme-toggle:hover {
            background: var(--aba-blue);
            border-color: var(--aba-blue);
            color: white;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 1.5rem;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            margin-bottom: 4rem;
            animation: fadeInUp 0.8s ease;
        }

        .hero h2 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--aba-blue), var(--aba-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 2rem;
        }

        .trust-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--bg-secondary);
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-secondary);
            box-shadow: var(--shadow-md);
        }

        /* Form Section */
        .form-section {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s ease 0.2s backwards;
        }

        .form-section h3 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .form-section p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group input,
        .form-group select {
            padding: 0.875rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.2s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--aba-blue);
            box-shadow: 0 0 0 3px oklch(0.55 0.15 245 / 0.1);
        }

        .form-group small {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .calculate-btn {
            background: linear-gradient(135deg, var(--aba-blue), var(--aba-blue-dark));
            color: white;
            border: none;
            padding: 1.25rem 3rem;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            margin: 2rem auto 0;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-lg);
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .calculate-btn:active {
            transform: translateY(0);
        }

        /* Results Section */
        .results-section {
            display: none;
            animation: fadeInUp 0.8s ease;
        }

        .results-section.active {
            display: block;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .result-card {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
        }

        .result-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .result-card h4 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        /* Health Score Gauge */
        .gauge-container {
            position: relative;
            width: 280px;
            height: 280px;
            margin: 0 auto 2rem;
        }

        .gauge-bg {
            width: 100%;
            height: 100%;
        }

        .gauge-fill {
            transition: stroke-dashoffset 2s ease-out;
        }

        .gauge-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .gauge-score {
            font-size: 4rem;
            font-weight: 800;
            line-height: 1;
            background: linear-gradient(135deg, var(--aba-blue), var(--aba-accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .gauge-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .gauge-status {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .gauge-status.excellent { background: oklch(0.60 0.15 145 / 0.15); color: var(--success); }
        .gauge-status.good { background: oklch(0.65 0.18 65 / 0.15); color: var(--warning); }
        .gauge-status.poor { background: oklch(0.60 0.20 25 / 0.15); color: var(--danger); }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 2rem 0;
        }

        .timeline-item {
            position: relative;
            padding-left: 3rem;
            margin-bottom: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 16px;
            height: 16px;
            background: var(--aba-blue);
            border-radius: 50%;
            box-shadow: 0 0 0 4px oklch(0.55 0.15 245 / 0.15);
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            left: 7px;
            top: 16px;
            width: 2px;
            height: calc(100% + 2rem);
            background: var(--border-color);
        }

        .timeline-item:last-child::after {
            display: none;
        }

        .timeline-date {
            font-weight: 700;
            color: var(--aba-blue);
            margin-bottom: 0.25rem;
        }

        .timeline-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .timeline-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Cost Breakdown */
        .cost-comparison {
            display: grid;
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem;
            background: var(--bg-primary);
            border-radius: 12px;
            border-left: 4px solid var(--aba-blue);
        }

        .cost-label {
            font-weight: 600;
        }

        .cost-value {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--aba-blue);
        }

        .cost-savings {
            background: oklch(0.60 0.15 145 / 0.1);
            border-left-color: var(--success);
        }

        .cost-savings .cost-value {
            color: var(--success);
        }

        /* Energy Efficiency */
        .efficiency-bar {
            position: relative;
            height: 40px;
            background: var(--bg-primary);
            border-radius: 10px;
            overflow: hidden;
            margin: 1.5rem 0;
        }

        .efficiency-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 1rem;
            font-weight: 700;
            color: white;
            transition: width 2s ease-out;
        }

        .efficiency-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        /* CTA Section */
        .cta-section {
            background: linear-gradient(135deg, var(--aba-blue), var(--aba-blue-dark));
            color: white;
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            box-shadow: var(--shadow-xl);
            animation: fadeInUp 0.8s ease 0.4s backwards;
        }

        .cta-section h3 {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .cta-section p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-btn {
            background: white;
            color: var(--aba-blue);
            padding: 1.25rem 2.5rem;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-lg);
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .cta-btn.secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .phone-number {
            font-size: 2rem;
            font-weight: 800;
            margin: 2rem 0 1rem;
            letter-spacing: 1px;
        }

        .trust-indicators {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .trust-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            opacity: 0.95;
        }

        /* Climate Factor Alert */
        .climate-alert {
            background: oklch(0.65 0.20 35 / 0.1);
            border: 2px solid var(--aba-accent);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            display: flex;
            gap: 1rem;
        }

        .climate-alert-icon {
            flex-shrink: 0;
            color: var(--aba-accent);
        }

        .climate-alert-content h5 {
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--aba-accent);
        }

        .climate-alert-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h2 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .form-section {
                padding: 1.5rem;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .gauge-container {
                width: 240px;
                height: 240px;
            }

            .gauge-score {
                font-size: 3rem;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }

            .cta-section {
                padding: 2rem 1.5rem;
            }

            .cta-section h3 {
                font-size: 1.5rem;
            }

            .phone-number {
                font-size: 1.5rem;
            }

            .cta-buttons {
                flex-direction: column;
            }

            .cta-btn {
                width: 100%;
                justify-content: center;
            }

            .logo-text h1 {
                font-size: 1.2rem;
            }

            .header-content {
                gap: 1rem;
            }
        }

        /* Loading State */
        .calculating {
            pointer-events: none;
            opacity: 0.6;
        }

        .calculating .calculate-btn {
            background: var(--text-secondary);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .btn-loading {
            animation: spin 1s linear infinite;
        }
    </style>

    <style>
    /* Kimi UI/UX Improvements */
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .radio-option, [class*="option"], [class*="choice"] { 
        min-height: 52px; transition: all 0.15s ease !important; 
    }
    .radio-option:active, [class*="option"]:active { transform: scale(0.98); }
    .btn-primary:active, [class*="btn"]:active { transform: translateY(1px); }
    /* Better progress bar */
    [class*="progress"] { height: 6px !important; border-radius: 3px; }
    </style>
    
</head>
<body>
    <div class="background-animation"></div>
    <div class="skyline"></div>

    <header>
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">ABA</div>
                <div class="logo-text">
                    <h1>ABA Heating & Cooling</h1>
                    <p>Bryant Factory Authorized Dealer • Austin, TX</p>
                </div>
            </div>
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                    <i data-lucide="moon" width="20" height="20"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="container">
        <section class="hero">
            <h2>AC Unit Health Score Calculator</h2>
            <p>Get a free assessment of your air conditioning system's health and discover how much you could save with proper maintenance.</p>
            <div class="trust-badge">
                <i data-lucide="shield-check" width="20" height="20"></i>
                31 Years in Business • 65,000+ Customers Served
            </div>
        </section>

        <section class="form-section">
            <h3>
                <i data-lucide="clipboard-list" width="28" height="28"></i>
                Your AC System Information
            </h3>
            <p>Tell us about your air conditioning unit to get your personalized health score.</p>

            <form id="acForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label>
                            <i data-lucide="calendar" width="16" height="16"></i>
                            Year Installed
                        </label>
                        <input type="number" id="yearInstalled" min="1990" max="2024" required placeholder="2015">
                        <small>When was your AC unit installed?</small>
                    </div>

                    <div class="form-group">
                        <label>
                            <i data-lucide="tag" width="16" height="16"></i>
                            Brand
                        </label>
                        <select id="brand" required>
                            <option value="">Select brand...</option>
                            <option value="Bryant">Bryant</option>
                            <option value="Carrier">Carrier</option>
                            <option value="Trane">Trane</option>
                            <option value="Lennox">Lennox</option>
                            <option value="Goodman">Goodman</option>
                            <option value="Rheem">Rheem</option>
                            <option value="York">York</option>
                            <option value="American Standard">American Standard</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>
                            <i data-lucide="air-vent" width="16" height="16"></i>
                            System Type
                        </label>
                        <select id="systemType" required>
                            <option value="">Select type...</option>
                            <option value="central">Central AC</option>
                            <option value="mini-split">Mini-Split</option>
                            <option value="window">Window Unit</option>
                            <option value="heat-pump">Heat Pump</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>
                            <i data-lucide="wrench" width="16" height="16"></i>
                            Last Service Date
                        </label>
                        <input type="date" id="lastService" required>
                        <small>When was your last professional tune-up?</small>
                    </div>

                    <div class="form-group">
                        <label>
                            <i data-lucide="dollar-sign" width="16" height="16"></i>
                            Monthly Energy Bill (Summer)
                        </label>
                        <input type="number" id="energyBill" min="0" step="1" required placeholder="250">
                        <small>Average summer electricity bill</small>
                    </div>

                    <div class="form-group">
                        <label>
                            <i data-lucide="home" width="16" height="16"></i>
                            Home Square Footage (Optional)
                        </label>
                        <input type="number" id="squareFootage" min="500" step="100" placeholder="2000">
                        <small>For more accurate calculations</small>
                    </div>
                </div>

                <button type="submit" class="calculate-btn">
                    <i data-lucide="calculator" width="24" height="24"></i>
                    Calculate My AC Health Score
                </button>
            </form>
        </section>

        <section class="results-section" id="resultsSection">
            <div class="results-grid">
                <!-- Health Score Card -->
                <div class="result-card" style="grid-column: span 1;">
                    <h4>
                        <i data-lucide="activity" width="24" height="24"></i>
                        Your AC Health Score
                    </h4>
                    <div class="gauge-container">
                        <svg class="gauge-bg" viewBox="0 0 200 200">
                            <circle cx="100" cy="100" r="85" fill="none" stroke="var(--border-color)" stroke-width="20"/>
                            <circle 
                                class="gauge-fill" 
                                id="gaugeFill"
                                cx="100" 
                                cy="100" 
                                r="85" 
                                fill="none" 
                                stroke="url(#gaugeGradient)" 
                                stroke-width="20"
                                stroke-linecap="round"
                                stroke-dasharray="534"
                                stroke-dashoffset="534"
                                transform="rotate(-90 100 100)"
                            />
                            <defs>
                                <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:var(--danger);stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:var(--warning);stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:var(--success);stop-opacity:1" />
                                </linearGradient>
                            </defs>
                        </svg>
                        <div class="gauge-text">
                            <div class="gauge-score" id="gaugeScore">0</div>
                            <div class="gauge-label">Health Score</div>
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <span class="gauge-status" id="gaugeStatus">Calculating...</span>
                    </div>
                </div>

                <!-- Climate Factor Card -->
                <div class="result-card">
                    <h4>
                        <i data-lucide="thermometer-sun" width="24" height="24"></i>
                        Austin Climate Impact
                    </h4>
                    <div class="climate-alert">
                        <div class="climate-alert-icon">
                            <i data-lucide="alert-triangle" width="32" height="32"></i>
                        </div>
                        <div class="climate-alert-content">
                            <h5>100°F+ Summers Accelerate Wear</h5>
                            <p id="climateImpact">Your AC unit works harder in Austin's extreme heat...</p>
                        </div>
                    </div>
                    <div style="margin-top: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span style="font-weight: 600;">National Average Lifespan:</span>
                            <span style="font-weight: 700; color: var(--aba-blue);">15-20 years</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="font-weight: 600;">Austin Average Lifespan:</span>
                            <span style="font-weight: 700; color: var(--aba-accent);">10-15 years</span>
                        </div>
                    </div>
                </div>

                <!-- Energy Efficiency Card -->
                <div class="result-card">
                    <h4>
                        <i data-lucide="zap" width="24" height="24"></i>
                        Energy Efficiency Rating
                    </h4>
                    <div style="margin: 1.5rem 0;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span style="font-weight: 600;">Estimated SEER Rating:</span>
                            <span style="font-weight: 700; color: var(--aba-blue); font-size: 1.5rem;" id="seerRating">14</span>
                        </div>
                        <div class="efficiency-bar">
                            <div class="efficiency-fill" id="efficiencyBar" style="width: 0%;">
                                <span id="efficiencyPercent">0%</span>
                            </div>
                        </div>
                        <div class="efficiency-labels">
                            <span>Poor (8-10)</span>
                            <span>Fair (10-14)</span>
                            <span>Good (14-18)</span>
                            <span>Excellent (18+)</span>
                        </div>
                    </div>
                    <div id="upgradeRecommendation" style="margin-top: 1.5rem; padding: 1rem; background: var(--bg-primary); border-radius: 10px;">
                        <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;"></p>
                    </div>
                </div>

                <!-- Maintenance Timeline Card -->
                <div class="result-card" style="grid-column: span 1;">
                    <h4>
                        <i data-lucide="clock" width="24" height="24"></i>
                        Maintenance Timeline
                    </h4>
                    <div class="timeline" id="timeline">
                        <!-- Timeline items will be inserted here -->
                    </div>
                </div>

                <!-- Cost Savings Card -->
                <div class="result-card" style="grid-column: span 1;">
                    <h4>
                        <i data-lucide="piggy-bank" width="24" height="24"></i>
                        Cost Savings Analysis
                    </h4>
                    <div class="cost-comparison" id="costComparison">
                        <!-- Cost items will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="cta-section">
                <h3>Ready to Improve Your AC's Health?</h3>
                <p>Get a professional assessment from Randy's team — 31 years of experience, 65,000+ satisfied customers.</p>
                <div class="phone-number">
                    <i data-lucide="phone" width="32" height="32" style="display: inline; vertical-align: middle;"></i>
                    (512) 687-1463
                </div>
                <p style="font-size: 0.95rem; margin-bottom: 2rem;">Real humans always answer — 24/7 emergency service</p>
                <div class="cta-buttons">
                    <a href="tel:5126871463" class="cta-btn">
                        <i data-lucide="phone-call" width="24" height="24"></i>
                        Call Now for Free Assessment
                    </a>
                    <a href="https://abaaustin.com" target="_blank" class="cta-btn secondary">
                        <i data-lucide="external-link" width="24" height="24"></i>
                        Visit ABA Austin Website
                    </a>
                </div>
                <div class="trust-indicators">
                    <div class="trust-item">
                        <i data-lucide="award" width="20" height="20"></i>
                        Bryant Factory Authorized
                    </div>
                    <div class="trust-item">
                        <i data-lucide="users" width="20" height="20"></i>
                        65,000+ Customers Served
                    </div>
                    <div class="trust-item">
                        <i data-lucide="clock" width="20" height="20"></i>
                        24/7 Emergency Service
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        
        // Check for saved theme preference or default to light
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', currentTheme);
        
        themeToggle.addEventListener('click', () => {
            const theme = html.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            
            // Update icon
            const icon = themeToggle.querySelector('i');
            icon.setAttribute('data-lucide', theme === 'light' ? 'moon' : 'sun');
            lucide.createIcons();
        });

        // Check URL parameters for branding
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('ref') === 'aba') {
            // Pre-brand is already set in HTML
        }

        // Form submission and calculations
        const form = document.getElementById('acForm');
        const resultsSection = document.getElementById('resultsSection');

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Add loading state
            form.classList.add('calculating');
            const btn = form.querySelector('.calculate-btn');
            const btnIcon = btn.querySelector('i');
            btnIcon.classList.add('btn-loading');

            // Get form values
            const yearInstalled = parseInt(document.getElementById('yearInstalled').value);
            const brand = document.getElementById('brand').value;
            const systemType = document.getElementById('systemType').value;
            const lastService = new Date(document.getElementById('lastService').value);
            const energyBill = parseFloat(document.getElementById('energyBill').value);
            const squareFootage = parseInt(document.getElementById('squareFootage').value) || 2000;

            // Calculate age
            const currentYear = new Date().getFullYear();
            const age = currentYear - yearInstalled;

            // Calculate days since last service
            const today = new Date();
            const daysSinceService = Math.floor((today - lastService) / (1000 * 60 * 60 * 24));
            const monthsSinceService = Math.floor(daysSinceService / 30);

            // Calculate health score (0-100)
            let healthScore = 100;

            // Age penalty (0-40 points)
            if (age <= 5) healthScore -= 0;
            else if (age <= 10) healthScore -= (age - 5) * 4;
            else if (age <= 15) healthScore -= 20 + (age - 10) * 6;
            else healthScore -= 50 + (age - 15) * 5;

            // Service penalty (0-30 points)
            if (monthsSinceService <= 6) healthScore -= 0;
            else if (monthsSinceService <= 12) healthScore -= 5;
            else if (monthsSinceService <= 24) healthScore -= 15;
            else healthScore -= 30;

            // Brand quality bonus
            const premiumBrands = ['Bryant', 'Carrier', 'Trane', 'Lennox'];
            if (premiumBrands.includes(brand)) healthScore += 5;

            // System type factor
            if (systemType === 'window') healthScore -= 10;
            else if (systemType === 'mini-split') healthScore += 5;

            // Clamp score between 0-100
            healthScore = Math.max(0, Math.min(100, Math.round(healthScore)));

            // Calculate SEER rating estimate
            let seerRating;
            if (yearInstalled >= 2020) seerRating = 16;
            else if (yearInstalled >= 2015) seerRating = 14;
            else if (yearInstalled >= 2010) seerRating = 13;
            else if (yearInstalled >= 2006) seerRating = 13;
            else if (yearInstalled >= 2000) seerRating = 10;
            else seerRating = 8;

            // Adjust for maintenance
            if (monthsSinceService > 24) seerRating -= 2;
            else if (monthsSinceService > 12) seerRating -= 1;

            // Calculate efficiency percentage (relative to modern 18+ SEER)
            const efficiencyPercent = Math.min(100, Math.round((seerRating / 18) * 100));

            // Calculate costs
            const tuneUpCost = 149;
            const emergencyRepairMin = 3000;
            const emergencyRepairMax = 8000;
            const replacementMin = 6000;
            const replacementMax = 12000;
            const avgEmergencyRepair = (emergencyRepairMin + emergencyRepairMax) / 2;
            const avgReplacement = (replacementMin + replacementMax) / 2;

            // Estimate annual savings with proper maintenance
            const annualMaintenanceSavings = Math.round(energyBill * 12 * 0.15); // 15% savings

            // Calculate potential savings from upgrade
            const modernSEER = 18;
            const potentialSavings = energyBill * 12 * (1 - (seerRating / modernSEER));
            const upgradeSavings = Math.round(potentialSavings);

            // Simulate loading delay for better UX
            setTimeout(() => {
                // Remove loading state
                form.classList.remove('calculating');
                btnIcon.classList.remove('btn-loading');

                // Update gauge
                updateGauge(healthScore);

                // Update status
                const gaugeStatus = document.getElementById('gaugeStatus');
                if (healthScore >= 80) {
                    gaugeStatus.textContent = 'Excellent Condition';
                    gaugeStatus.className = 'gauge-status excellent';
                } else if (healthScore >= 60) {
                    gaugeStatus.textContent = 'Good Condition';
                    gaugeStatus.className = 'gauge-status good';
                } else if (healthScore >= 40) {
                    gaugeStatus.textContent = 'Fair - Needs Attention';
                    gaugeStatus.className = 'gauge-status good';
                } else {
                    gaugeStatus.textContent = 'Poor - Service Urgently Needed';
                    gaugeStatus.className = 'gauge-status poor';
                }

                // Update climate impact
                const stressMultiplier = age >= 10 ? 2.0 : 1.5;
                document.getElementById('climateImpact').textContent = 
                    `Your ${age}-year-old AC unit runs approximately ${Math.round(stressMultiplier * 100)}% harder in Austin's extreme heat compared to moderate climates. This accelerated wear reduces lifespan by 5-10 years and increases breakdown risk by ${Math.round((stressMultiplier - 1) * 100)}%.`;

                // Update SEER and efficiency
                document.getElementById('seerRating').textContent = seerRating;
                setTimeout(() => {
                    document.getElementById('efficiencyBar').style.width = efficiencyPercent + '%';
                    document.getElementById('efficiencyPercent').textContent = efficiencyPercent + '%';
                }, 300);

                // Update upgrade recommendation
                const upgradeRec = document.getElementById('upgradeRecommendation').querySelector('p');
                if (seerRating < 13) {
                    upgradeRec.innerHTML = `<strong>💡 Upgrade Opportunity:</strong> Modern 18 SEER systems could save you approximately <strong>$${upgradeSavings}/year</strong> on energy costs. With a system this old, upgrading now prevents emergency failures.`;
                } else if (seerRating < 16) {
                    upgradeRec.innerHTML = `<strong>💡 Future Planning:</strong> Your system has decent efficiency, but upgrading to 18+ SEER could still save <strong>$${upgradeSavings}/year</strong>. Consider upgrading in the next 2-3 years.`;
                } else {
                    upgradeRec.innerHTML = `<strong>✅ Good Efficiency:</strong> Your system has modern efficiency. Focus on regular maintenance to keep it running optimally.`;
                }

                // Update timeline
                updateTimeline(lastService, monthsSinceService, age);

                // Update cost comparison
                updateCostComparison(tuneUpCost, avgEmergencyRepair, annualMaintenanceSavings);

                // Show results with smooth scroll
                resultsSection.classList.add('active');
                setTimeout(() => {
                    resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);

                // Re-initialize icons
                lucide.createIcons();
            }, 1500);
        });

        function updateGauge(score) {
            const circumference = 534;
            const offset = circumference - (score / 100) * circumference;
            
            const gaugeFill = document.getElementById('gaugeFill');
            const gaugeScore = document.getElementById('gaugeScore');
            
            gaugeFill.style.strokeDashoffset = offset;
            
            // Animate score counter
            let current = 0;
            const increment = score / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= score) {
                    current = score;
                    clearInterval(timer);
                }
                gaugeScore.textContent = Math.round(current);
            }, 30);
        }

        function updateTimeline(lastService, monthsSinceService, age) {
            const timeline = document.getElementById('timeline');
            const today = new Date();
            const lastServiceFormatted = lastService.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            
            // Calculate next service date (6 months from last)
            const nextService = new Date(lastService);
            nextService.setMonth(nextService.getMonth() + 6);
            const isOverdue = nextService < today;
            const nextServiceFormatted = nextService.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            
            // Calculate predicted end of life (Austin climate: 12 years average)
            const austinLifespan = 12;
            const yearsRemaining = austinLifespan - age;
            const endOfLifeYear = new Date().getFullYear() + yearsRemaining;
            
            timeline.innerHTML = `
                <div class="timeline-item">
                    <div class="timeline-date">${lastServiceFormatted}</div>
                    <div class="timeline-title">Last Professional Service</div>
                    <div class="timeline-desc">${monthsSinceService} months ago</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">${nextServiceFormatted}</div>
                    <div class="timeline-title">Next Service ${isOverdue ? '(OVERDUE)' : 'Due'}</div>
                    <div class="timeline-desc">${isOverdue ? 'Schedule maintenance immediately to prevent breakdowns' : 'Bi-annual tune-ups extend lifespan and prevent emergencies'}</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">${endOfLifeYear}</div>
                    <div class="timeline-title">Predicted End of Life</div>
                    <div class="timeline-desc">${yearsRemaining > 0 ? `Approximately ${yearsRemaining} years remaining with proper maintenance` : 'System is past expected lifespan - plan for replacement'}</div>
                </div>
            `;
        }

        function updateCostComparison(tuneUp, avgRepair, annualSavings) {
            const costComparison = document.getElementById('costComparison');
            
            costComparison.innerHTML = `
                <div class="cost-item">
                    <div class="cost-label">Regular Tune-Up (2x/year)</div>
                    <div class="cost-value">$${tuneUp * 2}</div>
                </div>
                <div class="cost-item">
                    <div class="cost-label">Average Emergency Repair</div>
                    <div class="cost-value">$${avgRepair.toLocaleString()}</div>
                </div>
                <div class="cost-item cost-savings">
                    <div class="cost-label">
                        <div>Annual Savings with Maintenance</div>
                        <small style="font-weight: 400; color: var(--text-secondary);">Lower energy bills + avoided repairs</small>
                    </div>
                    <div class="cost-value">$${annualSavings.toLocaleString()}</div>
                </div>
                <div class="cost-item cost-savings">
                    <div class="cost-label">
                        <div>ROI on $149 Tune-Up</div>
                        <small style="font-weight: 400; color: var(--text-secondary);">Break-even in weeks, not months</small>
                    </div>
                    <div class="cost-value">${Math.round((annualSavings / 298) * 100)}%</div>
                </div>
            `;
        }

        // Set default last service date to 1 year ago
        const oneYearAgo = new Date();
        oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);
        document.getElementById('lastService').valueAsDate = oneYearAgo;
    </script>

<!-- BennyCuTools Purchase CTA — injected by inject-cta.py -->
<style>
#bct-cta-bar {
  position: fixed;
  bottom: 48px;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  border-top: 2px solid #6366f1;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  z-index: 99998;
  flex-wrap: wrap;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
}
#bct-cta-bar .bct-cta-text {
  color: #e4e4e7;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  font-weight: 500;
}
#bct-cta-bar .bct-cta-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 20px;
  background: #6366f1;
  color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  text-decoration: none;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
}
#bct-cta-bar .bct-cta-btn:hover {
  background: #4f46e5;
  transform: translateY(-1px);
}
#bct-cta-bar .bct-cta-btn-secondary {
  background: transparent;
  border: 1px solid #6366f1;
  color: #a5b4fc;
}
#bct-cta-bar .bct-cta-btn-secondary:hover {
  background: rgba(99,102,241,0.15);
}
@media (max-width: 600px) {
  #bct-cta-bar {
    flex-direction: column;
    gap: 8px;
    padding: 8px 12px;
    bottom: 44px;
  }
  #bct-cta-bar .bct-cta-text { font-size: 12px; }
  #bct-cta-bar .bct-cta-btn { font-size: 13px; padding: 7px 16px; width: 100%; justify-content: center; }
}
</style>
<div id="bct-cta-bar" role="banner" aria-label="Purchase this tool">
  <span class="bct-cta-text">Like this tool? Make it yours.</span>
  <a class="bct-cta-btn" id="bct-buy-btn" href="https://bennycutools.com/buy.html">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
    Get It — $200 One-Time
  </a>
  <a class="bct-cta-btn bct-cta-btn-secondary" href="mailto:cuuper225@gmail.com?subject=Question%20about%20my%20custom%20tool">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
    Questions? Email Ben
  </a>
</div>
<script>
// Auto-fill the buy link with the current tool's page name
(function(){
  try {
    var pg = location.pathname.replace(/.*\//, '').replace('.html','');
    var buyBtn = document.getElementById('bct-buy-btn');
    if (buyBtn && pg) {
      buyBtn.href = 'https://bennycutools.com/buy.html?tool=' + encodeURIComponent(pg);
    }
  } catch(e){}
})();
</script>
<!-- End BennyCuTools Purchase CTA -->

</body>
</html>