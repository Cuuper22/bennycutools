<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Better Gutter | Instant Cost Estimator | Rock Hill, SC</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #0b0b7e;
            --primary-blue-dark: #080862;
            --primary-blue-light: #1414a8;
            --accent-gold: #d4a424;
            --accent-gold-light: #f4c94c;
            --accent-gold-dark: #b08818;
            --surface: #ffffff;
            --surface-secondary: #f8f9fc;
            --surface-tertiary: #f0f2f7;
            --border: #e2e5ec;
            --border-light: #eef0f5;
            --text-primary: #1a1e2c;
            --text-secondary: #5a6178;
            --text-tertiary: #8b91a5;
            --success: #0d9668;
            --success-light: #d1fae5;
            --error: #dc2626;
            --error-light: #fee2e2;
            --shadow-sm: 0 1px 2px rgba(11,11,126,0.04);
            --shadow-md: 0 4px 12px rgba(11,11,126,0.08);
            --shadow-lg: 0 8px 24px rgba(11,11,126,0.12);
            --shadow-xl: 0 16px 48px rgba(11,11,126,0.16);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            -webkit-text-size-adjust: 100%;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--surface-secondary);
            color: var(--text-primary);
            line-height: 1.5;
            min-height: 100vh;
            min-height: 100dvh;
            overflow-x: hidden;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            line-height: 1.2;
        }

        /* App Shell */
        .app {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            min-height: 100dvh;
            user-select: none;
            -webkit-user-select: none;
        }

        /* Header */
        .header {
            background: var(--primary-blue);
            padding: 16px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-md);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: white;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--accent-gold);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-icon svg {
            width: 24px;
            height: 24px;
            stroke: var(--primary-blue);
            fill: none;
        }

        .logo-text {
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
            font-size: 1.125rem;
            letter-spacing: -0.02em;
        }

        .logo-tagline {
            font-size: 0.75rem;
            font-weight: 500;
            opacity: 0.8;
            display: none;
        }

        .header-phone {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--accent-gold);
            font-weight: 600;
            text-decoration: none;
            font-size: 0.875rem;
        }

        .header-phone svg {
            width: 18px;
            height: 18px;
            stroke: currentColor;
            fill: none;
        }

        /* Desktop Navigation */
        .desktop-nav {
            display: none;
        }

        /* Main Content */
        .main {
            flex: 1;
            padding: 20px;
            padding-bottom: 100px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: var(--surface);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-light);
            overflow: hidden;
        }

        .card-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-light);
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title svg {
            width: 22px;
            height: 22px;
            stroke: var(--primary-blue);
            fill: none;
        }

        .card-subtitle {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .card-body {
            padding: 24px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 24px;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .form-label-hint {
            font-weight: 400;
            color: var(--text-tertiary);
            margin-left: 4px;
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            font-size: 1rem;
            font-family: inherit;
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            background: var(--surface);
            color: var(--text-primary);
            transition: var(--transition);
            -webkit-appearance: none;
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 4px rgba(11,11,126,0.1);
        }

        .form-input::placeholder {
            color: var(--text-tertiary);
        }

        .form-input-group {
            display: flex;
            gap: 12px;
        }

        .form-input-group .form-input {
            flex: 1;
        }

        /* Select */
        .form-select {
            width: 100%;
            padding: 14px 44px 14px 16px;
            font-size: 1rem;
            font-family: inherit;
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            background: var(--surface) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%235a6178' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E") right 12px center no-repeat;
            background-size: 20px;
            color: var(--text-primary);
            cursor: pointer;
            transition: var(--transition);
            -webkit-appearance: none;
        }

        .form-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 4px rgba(11,11,126,0.1);
        }

        /* Radio Cards */
        .radio-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 12px;
        }

        .radio-card {
            position: relative;
        }

        .radio-card input {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        .radio-card label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 16px 12px;
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            min-height: 80px;
        }

        .radio-card input:checked + label {
            border-color: var(--primary-blue);
            background: rgba(11,11,126,0.04);
        }

        .radio-card label:hover {
            border-color: var(--primary-blue-light);
        }

        .radio-card-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 6px;
            stroke: var(--text-secondary);
            fill: none;
        }

        .radio-card input:checked + label .radio-card-icon {
            stroke: var(--primary-blue);
        }

        .radio-card-label {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .radio-card-sublabel {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-top: 2px;
        }

        /* Toggle Switch */
        .toggle-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            background: var(--surface-secondary);
            border-radius: var(--radius-md);
            gap: 16px;
        }

        .toggle-info {
            flex: 1;
        }

        .toggle-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9375rem;
        }

        .toggle-description {
            font-size: 0.8125rem;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .toggle {
            position: relative;
            width: 52px;
            height: 28px;
            flex-shrink: 0;
        }

        .toggle input {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            z-index: 1;
        }

        .toggle-track {
            position: absolute;
            inset: 0;
            background: var(--border);
            border-radius: 14px;
            transition: var(--transition);
        }

        .toggle-thumb {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }

        .toggle input:checked ~ .toggle-track {
            background: var(--primary-blue);
        }

        .toggle input:checked ~ .toggle-thumb {
            left: 26px;
        }

        /* Range Slider */
        .range-wrapper {
            padding: 8px 0;
        }

        .range-input {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--border);
            -webkit-appearance: none;
            cursor: pointer;
        }

        .range-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary-blue);
            border: 3px solid white;
            box-shadow: var(--shadow-md);
            cursor: pointer;
        }

        .range-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.75rem;
            color: var(--text-tertiary);
        }

        .range-value {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-top: 8px;
            font-family: 'Montserrat', sans-serif;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 16px 28px;
            font-size: 1rem;
            font-weight: 600;
            font-family: inherit;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            min-height: 52px;
            -webkit-tap-highlight-color: transparent;
        }

        .btn svg {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            background: var(--primary-blue-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-lg);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .btn-secondary:hover {
            background: rgba(11,11,126,0.04);
        }

        .btn-gold {
            background: linear-gradient(135deg, var(--accent-gold) 0%, var(--accent-gold-dark) 100%);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-gold:hover {
            background: linear-gradient(135deg, var(--accent-gold-light) 0%, var(--accent-gold) 100%);
            transform: translateY(-1px);
        }

        .btn-block {
            width: 100%;
        }

        .btn-sm {
            padding: 10px 16px;
            font-size: 0.875rem;
            min-height: 40px;
        }

        .btn-icon {
            padding: 10px;
            min-height: auto;
        }

        /* Estimate Result */
        .estimate-result {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
            border-radius: var(--radius-xl);
            padding: 32px 24px;
            text-align: center;
            color: white;
            margin-top: 24px;
            box-shadow: var(--shadow-xl);
        }

        .estimate-label {
            font-size: 0.875rem;
            font-weight: 500;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 8px;
        }

        .estimate-range {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.25rem;
            font-weight: 800;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .estimate-to {
            font-size: 1rem;
            font-weight: 500;
            opacity: 0.7;
        }

        .estimate-disclaimer {
            font-size: 0.8125rem;
            opacity: 0.8;
            max-width: 300px;
            margin: 0 auto;
        }

        .estimate-breakdown {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .breakdown-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            font-size: 0.875rem;
        }

        .breakdown-label {
            opacity: 0.9;
        }

        .breakdown-value {
            font-weight: 600;
        }

        /* Lead Form */
        .lead-form {
            margin-top: 24px;
        }

        .lead-form-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .lead-form-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .lead-form-subtitle {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* Success State */
        .success-message {
            text-align: center;
            padding: 48px 24px;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: var(--success-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
        }

        .success-icon svg {
            width: 40px;
            height: 40px;
            stroke: var(--success);
            fill: none;
        }

        .success-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .success-text {
            font-size: 1rem;
            color: var(--text-secondary);
            max-width: 320px;
            margin: 0 auto;
        }

        /* Saved Quotes List */
        .quotes-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quote-item {
            background: var(--surface);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            padding: 16px;
            transition: var(--transition);
        }

        .quote-item:hover {
            box-shadow: var(--shadow-sm);
        }

        .quote-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .quote-customer {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9375rem;
        }

        .quote-date {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-top: 2px;
        }

        .quote-amount {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--primary-blue);
            font-size: 1rem;
            text-align: right;
        }

        .quote-details {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .quote-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            background: var(--surface-secondary);
            border-radius: 20px;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .quote-tag svg {
            width: 14px;
            height: 14px;
            stroke: currentColor;
            fill: none;
        }

        .quote-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 48px 24px;
        }

        .empty-illustration {
            width: 160px;
            height: 120px;
            margin: 0 auto 24px;
        }

        .empty-illustration svg {
            width: 100%;
            height: 100%;
        }

        .empty-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .empty-text {
            font-size: 0.875rem;
            color: var(--text-secondary);
            max-width: 280px;
            margin: 0 auto 24px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: var(--surface);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            padding: 16px;
            text-align: center;
        }

        .stat-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: var(--text-primary);
            color: white;
            padding: 14px 20px;
            border-radius: var(--radius-md);
            font-size: 0.875rem;
            font-weight: 500;
            box-shadow: var(--shadow-xl);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toast.show {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        .toast svg {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            fill: none;
        }

        .toast.success {
            background: var(--success);
        }

        .toast.error {
            background: var(--error);
        }

        /* Bottom Navigation (Mobile) */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--surface);
            border-top: 1px solid var(--border-light);
            display: flex;
            padding: 8px 12px;
            padding-bottom: max(8px, env(safe-area-inset-bottom));
            z-index: 100;
            box-shadow: 0 -4px 12px rgba(0,0,0,0.06);
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8px 4px;
            color: var(--text-tertiary);
            text-decoration: none;
            border-radius: var(--radius-sm);
            transition: var(--transition);
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
            min-height: 56px;
        }

        .nav-item.active {
            color: var(--primary-blue);
        }

        .nav-item:hover {
            color: var(--primary-blue-light);
        }

        .nav-icon {
            width: 26px;
            height: 26px;
            margin-bottom: 4px;
        }

        .nav-icon svg {
            width: 100%;
            height: 100%;
            stroke: currentColor;
            fill: none;
        }

        .nav-label {
            font-size: 0.6875rem;
            font-weight: 600;
        }

        /* Section Title */
        .section-header {
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .section-subtitle {
            font-size: 0.9375rem;
            color: var(--text-secondary);
        }

        /* Quote Summary Print */
        .quote-summary-print {
            display: none;
        }

        /* Loading Spinner */
        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Service Area Badge */
        .service-area-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: rgba(13,150,104,0.1);
            color: var(--success);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 8px;
        }

        .service-area-badge svg {
            width: 14px;
            height: 14px;
            stroke: currentColor;
            fill: none;
        }

        .service-area-badge.outside {
            background: rgba(220,38,38,0.1);
            color: var(--error);
        }

        /* Calculator Helper */
        .footage-helper {
            background: var(--surface-secondary);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-top: 12px;
        }

        .footage-helper-title {
            font-size: 0.8125rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footage-helper-title svg {
            width: 18px;
            height: 18px;
            stroke: var(--primary-blue);
            fill: none;
        }

        .footage-helper-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .footage-helper .form-input {
            font-size: 0.9375rem;
            padding: 12px;
        }

        .footage-calculated {
            margin-top: 12px;
            padding: 12px;
            background: var(--surface);
            border-radius: var(--radius-sm);
            text-align: center;
        }

        .footage-calculated-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .footage-calculated-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-blue);
        }

        /* Material Info */
        .material-info {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: rgba(11,11,126,0.04);
            border-radius: var(--radius-sm);
            margin-top: 12px;
            font-size: 0.8125rem;
            color: var(--text-secondary);
        }

        .material-info svg {
            width: 18px;
            height: 18px;
            stroke: var(--primary-blue);
            fill: none;
            flex-shrink: 0;
        }

        /* Export Buttons */
        .export-buttons {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .export-buttons .btn {
            flex: 1;
        }

        /* Desktop Styles */
        @media (min-width: 1024px) {
            .header {
                padding: 16px 32px;
            }

            .logo-tagline {
                display: block;
            }

            .desktop-nav {
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .desktop-nav-item {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 10px 16px;
                color: rgba(255,255,255,0.8);
                text-decoration: none;
                border-radius: var(--radius-sm);
                font-size: 0.875rem;
                font-weight: 500;
                cursor: pointer;
                transition: var(--transition);
            }

            .desktop-nav-item:hover {
                color: white;
                background: rgba(255,255,255,0.1);
            }

            .desktop-nav-item.active {
                color: white;
                background: rgba(255,255,255,0.15);
            }

            .desktop-nav-item svg {
                width: 20px;
                height: 20px;
                stroke: currentColor;
                fill: none;
            }

            .bottom-nav {
                display: none;
            }

            .main {
                padding: 40px 32px;
                padding-bottom: 40px;
                max-width: 900px;
            }

            .card-body {
                padding: 32px;
            }

            .estimate-range {
                font-size: 3rem;
            }

            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* Print Styles */
        @media print {
            .header, .bottom-nav, .desktop-nav, .btn, .toast {
                display: none !important;
            }

            .main {
                padding: 0;
                max-width: 100%;
            }

            .card {
                box-shadow: none;
                border: 1px solid #ddd;
            }

            .quote-summary-print {
                display: block;
            }
        }
    
/* === DEMO DISCLAIMER === */
#bct-demo-disclaimer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #f8f8f8;
  border-top: 1px solid #ddd;
  padding: 10px 16px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 12px;
  line-height: 1.4;
  color: #666;
  z-index: 99999;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 8px 16px;
  text-align: center;
}
#bct-demo-disclaimer p {
  margin: 0;
  max-width: 700px;
}
#bct-demo-disclaimer strong {
  color: #333;
  font-weight: 600;
}
#bct-demo-disclaimer a.bct-delete-btn {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: #dc3545;
  color: #fff;
  padding: 5px 12px;
  border-radius: 4px;
  text-decoration: none;
  font-size: 11px;
  font-weight: 500;
  white-space: nowrap;
  transition: background 0.15s;
}
#bct-demo-disclaimer a.bct-delete-btn:hover {
  background: #b02a37;
}
@media (max-width: 600px) {
  #bct-demo-disclaimer {
    flex-direction: column;
    padding: 8px 12px 12px;
    font-size: 11px;
  }
}
/* Add bottom padding to body so disclaimer doesn't cover content */
body { padding-bottom: 60px !important; }
</style>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <a href="#" class="logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <path d="M3 9v2l9-7 9 7v-2"/>
                        </svg>
                    </div>
                    <div>
                        <div class="logo-text">A Better Gutter</div>
                        <div class="logo-tagline">Rock Hill, SC</div>
                    </div>
                </a>

                <!-- Desktop Navigation -->
                <nav class="desktop-nav">
                    <a class="desktop-nav-item active" data-tab="estimator">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="4" y="2" width="16" height="20" rx="2"/>
                            <line x1="8" y1="6" x2="16" y2="6"/>
                            <line x1="8" y1="10" x2="16" y2="10"/>
                            <line x1="8" y1="14" x2="12" y2="14"/>
                        </svg>
                        Estimator
                    </a>
                    <a class="desktop-nav-item" data-tab="quotes">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                        </svg>
                        Saved Quotes
                    </a>
                    <a class="desktop-nav-item" data-tab="info">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="16" x2="12" y2="12"/>
                            <line x1="12" y1="8" x2="12.01" y2="8"/>
                        </svg>
                        About
                    </a>
                </nav>

                <a href="tel:8032097827" class="header-phone">
                    <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                    </svg>
                    <span>(803) 209-7827</span>
                </a>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Estimator Tab -->
            <div id="tab-estimator" class="tab-content active">
                <div class="section-header">
                    <h1 class="section-title">Get Your Estimate</h1>
                    <p class="section-subtitle">Instant ballpark pricing for gutter services in Rock Hill and surrounding areas</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="3"/>
                                <line x1="12" y1="21" x2="12" y2="23"/>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                                <line x1="1" y1="12" x2="3" y2="12"/>
                                <line x1="21" y1="12" x2="23" y2="12"/>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                                <circle cx="12" cy="12" r="5"/>
                            </svg>
                            Project Details
                        </h2>
                        <p class="card-subtitle">Tell us about your home and gutter needs</p>
                    </div>
                    <div class="card-body">
                        <form id="estimate-form">
                            <!-- Linear Footage -->
                            <div class="form-group">
                                <label class="form-label">
                                    Linear Feet of Gutters
                                    <span class="form-label-hint">(perimeter of roofline)</span>
                                </label>
                                <div class="range-wrapper">
                                    <input type="range" class="range-input" id="linear-footage" min="50" max="400" value="150" step="10">
                                    <div class="range-labels">
                                        <span>50 ft</span>
                                        <span>400 ft</span>
                                    </div>
                                    <div class="range-value"><span id="footage-display">150</span> linear feet</div>
                                </div>

                                <div class="footage-helper">
                                    <div class="footage-helper-title">
                                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                            <line x1="3" y1="9" x2="21" y2="9"/>
                                            <line x1="9" y1="21" x2="9" y2="9"/>
                                        </svg>
                                        Calculate from home dimensions
                                    </div>
                                    <div class="footage-helper-grid">
                                        <div>
                                            <label class="form-label" style="font-size: 0.75rem;">Length (ft)</label>
                                            <input type="number" class="form-input" id="home-length" placeholder="60">
                                        </div>
                                        <div>
                                            <label class="form-label" style="font-size: 0.75rem;">Width (ft)</label>
                                            <input type="number" class="form-input" id="home-width" placeholder="40">
                                        </div>
                                    </div>
                                    <div class="footage-calculated" id="calculated-footage" style="display: none;">
                                        <div class="footage-calculated-label">Estimated Linear Feet</div>
                                        <div class="footage-calculated-value" id="calculated-value">200</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Number of Stories -->
                            <div class="form-group">
                                <label class="form-label">Number of Stories</label>
                                <div class="radio-cards">
                                    <div class="radio-card">
                                        <input type="radio" name="stories" id="stories-1" value="1" checked>
                                        <label for="stories-1">
                                            <svg class="radio-card-icon" viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="3" y="13" width="18" height="8" rx="1"/>
                                                <path d="M4 13l8-9 8 9"/>
                                            </svg>
                                            <span class="radio-card-label">1 Story</span>
                                            <span class="radio-card-sublabel">Standard</span>
                                        </label>
                                    </div>
                                    <div class="radio-card">
                                        <input type="radio" name="stories" id="stories-2" value="2">
                                        <label for="stories-2">
                                            <svg class="radio-card-icon" viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="3" y="11" width="18" height="10" rx="1"/>
                                                <line x1="3" y1="16" x2="21" y2="16"/>
                                                <path d="M4 11l8-7 8 7"/>
                                            </svg>
                                            <span class="radio-card-label">2 Stories</span>
                                            <span class="radio-card-sublabel">+15%</span>
                                        </label>
                                    </div>
                                    <div class="radio-card">
                                        <input type="radio" name="stories" id="stories-3" value="3">
                                        <label for="stories-3">
                                            <svg class="radio-card-icon" viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                                <rect x="3" y="9" width="18" height="12" rx="1"/>
                                                <line x1="3" y1="13" x2="21" y2="13"/>
                                                <line x1="3" y1="17" x2="21" y2="17"/>
                                                <path d="M5 9l7-5 7 5"/>
                                            </svg>
                                            <span class="radio-card-label">3+ Stories</span>
                                            <span class="radio-card-sublabel">+30%</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Material Selection -->
                            <div class="form-group">
                                <label class="form-label">Gutter Material</label>
                                <select class="form-select" id="material">
                                    <option value="aluminum-seamless">Seamless Aluminum (Most Popular)</option>
                                    <option value="aluminum-standard">Standard Aluminum</option>
                                    <option value="half-round">Half-Round Aluminum</option>
                                    <option value="copper">Copper (Premium)</option>
                                </select>
                                <div class="material-info" id="material-info">
                                    <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="12" cy="12" r="10"/>
                                        <line x1="12" y1="16" x2="12" y2="12"/>
                                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                                    </svg>
                                    <span>Seamless gutters have no joints, meaning fewer leaks and longer lifespan. Custom-fabricated on-site to fit your home perfectly.</span>
                                </div>
                            </div>

                            <!-- Downspouts -->
                            <div class="form-group">
                                <label class="form-label">
                                    Number of Downspouts
                                    <span class="form-label-hint">(typically 1 per 40 ft)</span>
                                </label>
                                <div class="radio-cards" style="grid-template-columns: repeat(5, 1fr);">
                                    <div class="radio-card">
                                        <input type="radio" name="downspouts" id="ds-2" value="2">
                                        <label for="ds-2">
                                            <span class="radio-card-label">2</span>
                                        </label>
                                    </div>
                                    <div class="radio-card">
                                        <input type="radio" name="downspouts" id="ds-4" value="4" checked>
                                        <label for="ds-4">
                                            <span class="radio-card-label">4</span>
                                        </label>
                                    </div>
                                    <div class="radio-card">
                                        <input type="radio" name="downspouts" id="ds-6" value="6">
                                        <label for="ds-6">
                                            <span class="radio-card-label">6</span>
                                        </label>
                                    </div>
                                    <div class="radio-card">
                                        <input type="radio" name="downspouts" id="ds-8" value="8">
                                        <label for="ds-8">
                                            <span class="radio-card-label">8</span>
                                        </label>
                                    </div>
                                    <div class="radio-card">
                                        <input type="radio" name="downspouts" id="ds-10" value="10">
                                        <label for="ds-10">
                                            <span class="radio-card-label">10+</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Add-ons -->
                            <div class="form-group">
                                <label class="form-label">Add-ons</label>
                                
                                <div class="toggle-row" style="margin-bottom: 12px;">
                                    <div class="toggle-info">
                                        <div class="toggle-label">Gutter Guards</div>
                                        <div class="toggle-description">Keep leaves and debris out, reduce maintenance</div>
                                    </div>
                                    <label class="toggle">
                                        <input type="checkbox" id="gutter-guards">
                                        <span class="toggle-track"></span>
                                        <span class="toggle-thumb"></span>
                                    </label>
                                </div>

                                <div class="toggle-row">
                                    <div class="toggle-info">
                                        <div class="toggle-label">Old Gutter Removal</div>
                                        <div class="toggle-description">We'll remove and dispose of existing gutters</div>
                                    </div>
                                    <label class="toggle">
                                        <input type="checkbox" id="removal" checked>
                                        <span class="toggle-track"></span>
                                        <span class="toggle-thumb"></span>
                                    </label>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-gold btn-block">
                                <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="9 11 12 14 22 4"/>
                                    <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                                </svg>
                                Calculate Estimate
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Estimate Result (hidden by default) -->
                <div id="estimate-result" style="display: none;">
                    <div class="estimate-result">
                        <div class="estimate-label">Your Estimated Cost</div>
                        <div class="estimate-range">
                            <span id="estimate-low">$2,400</span>
                            <span class="estimate-to">to</span>
                            <span id="estimate-high">$3,200</span>
                        </div>
                        <p class="estimate-disclaimer">This is a ballpark estimate. Final pricing requires an on-site inspection.</p>

                        <div class="estimate-breakdown">
                            <div class="breakdown-row">
                                <span class="breakdown-label">Gutters (<span id="breakdown-footage">150</span> ft)</span>
                                <span class="breakdown-value" id="breakdown-gutters">$2,550 - $3,600</span>
                            </div>
                            <div class="breakdown-row">
                                <span class="breakdown-label">Downspouts (<span id="breakdown-ds-count">4</span>)</span>
                                <span class="breakdown-value" id="breakdown-downspouts">$400 - $600</span>
                            </div>
                            <div class="breakdown-row" id="breakdown-guards-row" style="display: none;">
                                <span class="breakdown-label">Gutter Guards</span>
                                <span class="breakdown-value" id="breakdown-guards">+$900 - $1,200</span>
                            </div>
                            <div class="breakdown-row" id="breakdown-removal-row">
                                <span class="breakdown-label">Old Gutter Removal</span>
                                <span class="breakdown-value" id="breakdown-removal">$150 - $300</span>
                            </div>
                            <div class="breakdown-row" id="breakdown-story-row" style="display: none;">
                                <span class="breakdown-label">Multi-Story Surcharge</span>
                                <span class="breakdown-value" id="breakdown-story">+15%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Lead Form -->
                    <div class="card lead-form">
                        <div class="card-body">
                            <div class="lead-form-header">
                                <h3 class="lead-form-title">Get a Precise Quote</h3>
                                <p class="lead-form-subtitle">We'll call within 24 hours to schedule your free on-site estimate</p>
                            </div>

                            <form id="lead-form">
                                <div class="form-group">
                                    <label class="form-label">Your Name</label>
                                    <input type="text" class="form-input" id="lead-name" placeholder="John Smith" required>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Property Address</label>
                                    <input type="text" class="form-input" id="lead-address" placeholder="123 Main St, Rock Hill, SC" required>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Phone Number</label>
                                    <input type="tel" class="form-input" id="lead-phone" placeholder="(803) 555-1234" required>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">
                                        Best Time to Call
                                        <span class="form-label-hint">(optional)</span>
                                    </label>
                                    <select class="form-select" id="lead-time">
                                        <option value="">Select a time</option>
                                        <option value="morning">Morning (8am - 12pm)</option>
                                        <option value="afternoon">Afternoon (12pm - 5pm)</option>
                                        <option value="evening">Evening (5pm - 7pm)</option>
                                        <option value="anytime">Anytime</option>
                                    </select>
                                </div>

                                <button type="submit" class="btn btn-primary btn-block">
                                    <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                    </svg>
                                    Request Free On-Site Estimate
                                </button>
                            </form>
                        </div>
                    </div>

                    <div class="export-buttons">
                        <button class="btn btn-secondary" id="btn-print">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6 9 6 2 18 2 18 9"/>
                                <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/>
                                <rect x="6" y="14" width="12" height="8"/>
                            </svg>
                            Print
                        </button>
                        <button class="btn btn-secondary" id="btn-share">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="18" cy="5" r="3"/>
                                <circle cx="6" cy="12" r="3"/>
                                <circle cx="18" cy="19" r="3"/>
                                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                            </svg>
                            Share
                        </button>
                    </div>

                    <button class="btn btn-secondary btn-block" id="btn-new-estimate" style="margin-top: 12px;">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="1 4 1 10 7 10"/>
                            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
                        </svg>
                        Start New Estimate
                    </button>
                </div>

                <!-- Success State (hidden by default) -->
                <div id="lead-success" style="display: none;">
                    <div class="card">
                        <div class="card-body">
                            <div class="success-message">
                                <div class="success-icon">
                                    <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                </div>
                                <h3 class="success-title">Request Received!</h3>
                                <p class="success-text">Michael will call you within 24 hours to schedule your free on-site estimate. Your quote has been saved.</p>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary btn-block" id="btn-back-home" style="margin-top: 24px;">
                        <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        </svg>
                        Back to Estimator
                    </button>
                </div>
            </div>

            <!-- Saved Quotes Tab -->
            <div id="tab-quotes" class="tab-content">
                <div class="section-header">
                    <h1 class="section-title">Saved Quotes</h1>
                    <p class="section-subtitle">All leads and estimates saved locally</p>
                </div>

                <!-- Stats -->
                <div class="stats-grid" id="quotes-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="stat-total">0</div>
                        <div class="stat-label">Total Quotes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-value">$0</div>
                        <div class="stat-label">Total Value</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-leads">0</div>
                        <div class="stat-label">With Leads</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-avg">$0</div>
                        <div class="stat-label">Avg Quote</div>
                    </div>
                </div>

                <!-- Quotes List -->
                <div class="card">
                    <div class="card-header" style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h2 class="card-title">
                                <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14 2 14 8 20 8"/>
                                </svg>
                                Quote History
                            </h2>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button class="btn btn-sm btn-secondary" id="btn-export-csv">
                                <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="width: 16px; height: 16px;">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="7 10 12 15 17 10"/>
                                    <line x1="12" y1="15" x2="12" y2="3"/>
                                </svg>
                                Export
                            </button>
                            <button class="btn btn-sm btn-secondary" id="btn-import">
                                <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="width: 16px; height: 16px;">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="17 8 12 3 7 8"/>
                                    <line x1="12" y1="3" x2="12" y2="15"/>
                                </svg>
                                Import
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="quotes-list" class="quotes-list"></div>

                        <!-- Empty State -->
                        <div id="quotes-empty" class="empty-state">
                            <div class="empty-illustration">
                                <svg viewBox="0 0 160 120" fill="none">
                                    <!-- House outline -->
                                    <path d="M80 20L30 55V100H130V55L80 20Z" stroke="#e2e5ec" stroke-width="2" fill="#f8f9fc"/>
                                    <path d="M30 55L80 20L130 55" stroke="#0b0b7e" stroke-width="2" stroke-linecap="round"/>
                                    <!-- Gutter -->
                                    <path d="M25 55H135" stroke="#d4a424" stroke-width="3" stroke-linecap="round"/>
                                    <path d="M25 55V70" stroke="#d4a424" stroke-width="2" stroke-linecap="round"/>
                                    <path d="M135 55V70" stroke="#d4a424" stroke-width="2" stroke-linecap="round"/>
                                    <!-- Door -->
                                    <rect x="70" y="75" width="20" height="25" rx="2" stroke="#e2e5ec" stroke-width="2" fill="#f0f2f7"/>
                                    <!-- Windows -->
                                    <rect x="45" y="65" width="15" height="15" rx="1" stroke="#e2e5ec" stroke-width="2" fill="#f0f2f7"/>
                                    <rect x="100" y="65" width="15" height="15" rx="1" stroke="#e2e5ec" stroke-width="2" fill="#f0f2f7"/>
                                    <!-- Clipboard with checkmark -->
                                    <rect x="115" y="85" width="30" height="35" rx="3" fill="white" stroke="#0b0b7e" stroke-width="2"/>
                                    <rect x="125" y="80" width="10" height="8" rx="2" fill="white" stroke="#0b0b7e" stroke-width="2"/>
                                    <path d="M122 100L128 106L138 96" stroke="#0d9668" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                            <h3 class="empty-title">No quotes yet</h3>
                            <p class="empty-text">Quotes created with the estimator will appear here for easy reference and follow-up.</p>
                            <button class="btn btn-primary" id="btn-create-first">
                                <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="5" x2="12" y2="19"/>
                                    <line x1="5" y1="12" x2="19" y2="12"/>
                                </svg>
                                Create First Estimate
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Hidden file input for import -->
                <input type="file" id="import-file" accept=".json,.csv" style="display: none;">
            </div>

            <!-- About Tab -->
            <div id="tab-info" class="tab-content">
                <div class="section-header">
                    <h1 class="section-title">About A Better Gutter</h1>
                    <p class="section-subtitle">Rock Hill's trusted gutter specialists</p>
                </div>

                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-body" style="text-align: center; padding: 32px;">
                        <div style="width: 80px; height: 80px; background: var(--accent-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="width: 40px; height: 40px; stroke: var(--primary-blue); fill: none;">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                        </div>
                        <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 8px;">Michael Thompson</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 16px;">Owner & Founder</p>
                        <p style="font-size: 0.9375rem; color: var(--text-secondary); max-width: 400px; margin: 0 auto;">
                            Born and raised in Richburg, SC with over 30 years of skilled trade experience. 
                            20 years in HVAC and 10 years specializing in gutters.
                        </p>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                <circle cx="12" cy="10" r="3"/>
                            </svg>
                            Service Area
                        </h2>
                    </div>
                    <div class="card-body">
                        <p style="color: var(--text-secondary); margin-bottom: 16px;">
                            We proudly serve Rock Hill and the surrounding communities:
                        </p>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <span class="quote-tag">Rock Hill</span>
                            <span class="quote-tag">Fort Mill</span>
                            <span class="quote-tag">York</span>
                            <span class="quote-tag">Clover</span>
                            <span class="quote-tag">Chester</span>
                            <span class="quote-tag">Lancaster</span>
                            <span class="quote-tag">Tega Cay</span>
                            <span class="quote-tag">Richburg</span>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="9 11 12 14 22 4"/>
                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                            </svg>
                            Our Services
                        </h2>
                    </div>
                    <div class="card-body">
                        <ul style="list-style: none; display: flex; flex-direction: column; gap: 12px;">
                            <li style="display: flex; align-items: center; gap: 12px;">
                                <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 20px; height: 20px; stroke: var(--success); fill: none; flex-shrink: 0;">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                                <span>Seamless Gutter Installation</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 12px;">
                                <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 20px; height: 20px; stroke: var(--success); fill: none; flex-shrink: 0;">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                                <span>Gutter Cleaning & Maintenance</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 12px;">
                                <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 20px; height: 20px; stroke: var(--success); fill: none; flex-shrink: 0;">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                                <span>Gutter Repair & Patching</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 12px;">
                                <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 20px; height: 20px; stroke: var(--success); fill: none; flex-shrink: 0;">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                                <span>Gutter Guards / Leaf Guards</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 12px;">
                                <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 20px; height: 20px; stroke: var(--success); fill: none; flex-shrink: 0;">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                                <span>Downspout Installation</span>
                            </li>
                            <li style="display: flex; align-items: center; gap: 12px;">
                                <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 20px; height: 20px; stroke: var(--success); fill: none; flex-shrink: 0;">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                                <span>Fascia & Soffit Repair</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                            Contact Us
                        </h2>
                    </div>
                    <div class="card-body">
                        <a href="tel:8032097827" class="btn btn-primary btn-block" style="margin-bottom: 12px;">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                            Call (803) 209-7827
                        </a>
                        <a href="mailto:abettergutter3839@gmail.com" class="btn btn-secondary btn-block" style="margin-bottom: 12px;">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                <polyline points="22,6 12,13 2,6"/>
                            </svg>
                            Email Us
                        </a>
                        <a href="https://abgutter.com" target="_blank" class="btn btn-secondary btn-block">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="2" y1="12" x2="22" y2="12"/>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                            </svg>
                            Visit Website
                        </a>
                    </div>
                </div>

                <p style="text-align: center; margin-top: 32px; font-size: 0.8125rem; color: var(--text-tertiary);">
                    Licensed & Insured | 100% Satisfaction Guarantee<br>
                    Same-day or next-day estimates available
                </p>
            </div>
        </main>

        <!-- Bottom Navigation (Mobile) -->
        <nav class="bottom-nav">
            <a class="nav-item active" data-tab="estimator">
                <div class="nav-icon">
                    <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="4" y="2" width="16" height="20" rx="2"/>
                        <line x1="8" y1="6" x2="16" y2="6"/>
                        <line x1="8" y1="10" x2="16" y2="10"/>
                        <line x1="8" y1="14" x2="12" y2="14"/>
                    </svg>
                </div>
                <span class="nav-label">Estimator</span>
            </a>
            <a class="nav-item" data-tab="quotes">
                <div class="nav-icon">
                    <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                    </svg>
                </div>
                <span class="nav-label">Quotes</span>
            </a>
            <a class="nav-item" data-tab="info">
                <div class="nav-icon">
                    <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="16" x2="12" y2="12"/>
                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                    </svg>
                </div>
                <span class="nav-label">About</span>
            </a>
        </nav>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"/>
        </svg>
        <span id="toast-message">Quote saved successfully</span>
    </div>

    <script>
        // ============================================
        // SECURITY & ACCESS CONTROL
        // ============================================
        function _h(s){let h=0;for(let i=0;i<s.length;i++){h=((h<<5)-h)+s.charCodeAt(i);h|=0;}return h;}
        const _V=1387393744;const _k=new URLSearchParams(window.location.search).get('key');if(!_k||_h(_k)!==_V){document.body.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100vh;font-family:sans-serif;background:#111;color:#fff;text-align:center;padding:20px"><div><h1 style="font-size:2rem;margin-bottom:1rem">Access Denied</h1><p style="color:#999">This tool requires a valid access key.</p><p style="margin-top:1rem"><a href="mailto:ben@bennycutools.com" style="color:#4da6ff">ben@bennycutools.com</a></p></div></div>';throw new Error('x');}
        
        // Anti-tampering: Block context menu and dev tools
        document.addEventListener('contextmenu',e=>e.preventDefault());
        document.addEventListener('keydown',e=>{if(e.key==='F12'||(e.ctrlKey&&e.shiftKey&&(e.key==='I'||e.key==='J'))||(e.ctrlKey&&e.key==='u')){e.preventDefault();}});
        
        // ============================================
        // A BETTER GUTTER - COST ESTIMATOR
        // Rock Hill, SC
        // ============================================

        // Pricing constants (Rock Hill, SC market rates)
        const PRICING = {
            materials: {
                'aluminum-seamless': { low: 17, high: 24, name: 'Seamless Aluminum', info: 'Seamless gutters have no joints, meaning fewer leaks and longer lifespan. Custom-fabricated on-site to fit your home perfectly.' },
                'aluminum-standard': { low: 12, high: 17, name: 'Standard Aluminum', info: 'Traditional sectional aluminum gutters. Good value option with reliable performance.' },
                'half-round': { low: 18, high: 28, name: 'Half-Round Aluminum', info: 'Classic curved profile for a distinctive look. Popular for historic homes and upscale properties.' },
                'copper': { low: 35, high: 55, name: 'Copper', info: 'Premium copper gutters develop a beautiful patina over time. Exceptional durability lasting 50+ years.' }
            },
            downspout: { low: 100, high: 150 },
            gutterGuardMultiplier: 0.50, // 50% additional cost
            removalPerFoot: { low: 1, high: 2 },
            storyMultiplier: {
                '1': 1.0,
                '2': 1.15,
                '3': 1.30
            }
        };

        // Demo data (Rock Hill addresses)
        const DEMO_QUOTES = [
            {
                id: 'demo-1',
                customer: 'Sarah Martinez',
                address: '245 Oakland Ave, Rock Hill, SC 29730',
                phone: '(803) 555-2847',
                footage: 180,
                stories: 2,
                material: 'aluminum-seamless',
                downspouts: 6,
                gutterGuards: true,
                removal: true,
                estimateLow: 4850,
                estimateHigh: 6720,
                preferredTime: 'morning',
                createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()
            },
            {
                id: 'demo-2',
                customer: 'Robert Jenkins',
                address: '512 Cherry Rd, Fort Mill, SC 29715',
                phone: '(803) 555-9134',
                footage: 120,
                stories: 1,
                material: 'aluminum-seamless',
                downspouts: 4,
                gutterGuards: false,
                removal: true,
                estimateLow: 2560,
                estimateHigh: 3520,
                preferredTime: 'afternoon',
                createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString()
            },
            {
                id: 'demo-3',
                customer: 'Linda Thompson',
                address: '89 Main St, York, SC 29745',
                phone: '(803) 555-6721',
                footage: 220,
                stories: 2,
                material: 'copper',
                downspouts: 8,
                gutterGuards: true,
                removal: false,
                estimateLow: 14950,
                estimateHigh: 22770,
                preferredTime: 'anytime',
                createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()
            }
        ];

        // Database
        let db = null;
        const DB_NAME = 'ABetterGutterDB';
        const STORE_NAME = 'quotes';

        // Initialize IndexedDB
        async function initDB() {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open(DB_NAME, 1);
                
                request.onerror = () => {
                    console.warn('IndexedDB not available, using localStorage');
                    resolve(null);
                };

                request.onsuccess = (event) => {
                    db = event.target.result;
                    resolve(db);
                };

                request.onupgradeneeded = (event) => {
                    const database = event.target.result;
                    if (!database.objectStoreNames.contains(STORE_NAME)) {
                        const store = database.createObjectStore(STORE_NAME, { keyPath: 'id' });
                        store.createIndex('createdAt', 'createdAt', { unique: false });
                    }
                };
            });
        }

        // Save quote
        async function saveQuote(quote) {
            quote.id = quote.id || 'quote-' + Date.now();
            quote.createdAt = quote.createdAt || new Date().toISOString();

            if (db) {
                return new Promise((resolve, reject) => {
                    const transaction = db.transaction([STORE_NAME], 'readwrite');
                    const store = transaction.objectStore(STORE_NAME);
                    const request = store.put(quote);
                    request.onsuccess = () => resolve(quote);
                    request.onerror = () => reject(request.error);
                });
            } else {
                // Fallback to localStorage
                const quotes = JSON.parse(localStorage.getItem('abg_quotes') || '[]');
                const index = quotes.findIndex(q => q.id === quote.id);
                if (index >= 0) {
                    quotes[index] = quote;
                } else {
                    quotes.push(quote);
                }
                localStorage.setItem('abg_quotes', JSON.stringify(quotes));
                return quote;
            }
        }

        // Get all quotes
        async function getAllQuotes() {
            if (db) {
                return new Promise((resolve, reject) => {
                    const transaction = db.transaction([STORE_NAME], 'readonly');
                    const store = transaction.objectStore(STORE_NAME);
                    const request = store.getAll();
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            } else {
                return JSON.parse(localStorage.getItem('abg_quotes') || '[]');
            }
        }

        // Delete quote
        async function deleteQuote(id) {
            if (db) {
                return new Promise((resolve, reject) => {
                    const transaction = db.transaction([STORE_NAME], 'readwrite');
                    const store = transaction.objectStore(STORE_NAME);
                    const request = store.delete(id);
                    request.onsuccess = () => resolve();
                    request.onerror = () => reject(request.error);
                });
            } else {
                const quotes = JSON.parse(localStorage.getItem('abg_quotes') || '[]');
                const filtered = quotes.filter(q => q.id !== id);
                localStorage.setItem('abg_quotes', JSON.stringify(filtered));
            }
        }

        // Current estimate state
        let currentEstimate = null;

        // Calculate estimate
        function calculateEstimate() {
            const footage = parseInt(document.getElementById('linear-footage').value);
            const stories = document.querySelector('input[name="stories"]:checked').value;
            const material = document.getElementById('material').value;
            const downspouts = parseInt(document.querySelector('input[name="downspouts"]:checked').value);
            const gutterGuards = document.getElementById('gutter-guards').checked;
            const removal = document.getElementById('removal').checked;

            const materialPricing = PRICING.materials[material];
            const storyMultiplier = PRICING.storyMultiplier[stories];

            // Base gutter cost
            let gutterLow = footage * materialPricing.low;
            let gutterHigh = footage * materialPricing.high;

            // Downspouts
            const downspoutLow = downspouts * PRICING.downspout.low;
            const downspoutHigh = downspouts * PRICING.downspout.high;

            // Gutter guards (percentage of gutter cost)
            let guardsLow = 0, guardsHigh = 0;
            if (gutterGuards) {
                guardsLow = gutterLow * PRICING.gutterGuardMultiplier;
                guardsHigh = gutterHigh * PRICING.gutterGuardMultiplier;
            }

            // Removal
            let removalLow = 0, removalHigh = 0;
            if (removal) {
                removalLow = footage * PRICING.removalPerFoot.low;
                removalHigh = footage * PRICING.removalPerFoot.high;
            }

            // Subtotal before story multiplier
            let subtotalLow = gutterLow + downspoutLow + guardsLow + removalLow;
            let subtotalHigh = gutterHigh + downspoutHigh + guardsHigh + removalHigh;

            // Apply story multiplier
            let totalLow = Math.round(subtotalLow * storyMultiplier);
            let totalHigh = Math.round(subtotalHigh * storyMultiplier);

            return {
                footage,
                stories,
                material,
                materialName: materialPricing.name,
                downspouts,
                gutterGuards,
                removal,
                breakdown: {
                    gutters: { low: Math.round(gutterLow), high: Math.round(gutterHigh) },
                    downspouts: { low: downspoutLow, high: downspoutHigh },
                    guards: { low: Math.round(guardsLow), high: Math.round(guardsHigh) },
                    removal: { low: removalLow, high: removalHigh },
                    storyMultiplier: storyMultiplier
                },
                estimateLow: totalLow,
                estimateHigh: totalHigh
            };
        }

        // Display estimate
        function displayEstimate(estimate) {
            currentEstimate = estimate;

            // Update main numbers
            document.getElementById('estimate-low').textContent = '$' + estimate.estimateLow.toLocaleString();
            document.getElementById('estimate-high').textContent = '$' + estimate.estimateHigh.toLocaleString();

            // Update breakdown
            document.getElementById('breakdown-footage').textContent = estimate.footage;
            document.getElementById('breakdown-gutters').textContent = 
                '$' + estimate.breakdown.gutters.low.toLocaleString() + ' - $' + estimate.breakdown.gutters.high.toLocaleString();
            
            document.getElementById('breakdown-ds-count').textContent = estimate.downspouts;
            document.getElementById('breakdown-downspouts').textContent = 
                '$' + estimate.breakdown.downspouts.low.toLocaleString() + ' - $' + estimate.breakdown.downspouts.high.toLocaleString();

            // Guards row
            const guardsRow = document.getElementById('breakdown-guards-row');
            if (estimate.gutterGuards) {
                guardsRow.style.display = 'flex';
                document.getElementById('breakdown-guards').textContent = 
                    '+$' + estimate.breakdown.guards.low.toLocaleString() + ' - $' + estimate.breakdown.guards.high.toLocaleString();
            } else {
                guardsRow.style.display = 'none';
            }

            // Removal row
            const removalRow = document.getElementById('breakdown-removal-row');
            if (estimate.removal) {
                removalRow.style.display = 'flex';
                document.getElementById('breakdown-removal').textContent = 
                    '$' + estimate.breakdown.removal.low.toLocaleString() + ' - $' + estimate.breakdown.removal.high.toLocaleString();
            } else {
                removalRow.style.display = 'none';
            }

            // Story surcharge row
            const storyRow = document.getElementById('breakdown-story-row');
            if (estimate.stories !== '1') {
                storyRow.style.display = 'flex';
                document.getElementById('breakdown-story').textContent = 
                    '+' + Math.round((estimate.breakdown.storyMultiplier - 1) * 100) + '%';
            } else {
                storyRow.style.display = 'none';
            }

            // Show result
            document.getElementById('estimate-result').style.display = 'block';
            document.getElementById('estimate-result').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Format date
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        // Format phone
        function formatPhone(phone) {
            const cleaned = phone.replace(/\D/g, '');
            if (cleaned.length === 10) {
                return '(' + cleaned.slice(0,3) + ') ' + cleaned.slice(3,6) + '-' + cleaned.slice(6);
            }
            return phone;
        }

        // Render quotes list
        async function renderQuotes() {
            const quotes = await getAllQuotes();
            const listEl = document.getElementById('quotes-list');
            const emptyEl = document.getElementById('quotes-empty');
            const statsEl = document.getElementById('quotes-stats');

            if (quotes.length === 0) {
                listEl.innerHTML = '';
                emptyEl.style.display = 'block';
                statsEl.style.display = 'none';
                return;
            }

            emptyEl.style.display = 'none';
            statsEl.style.display = 'grid';

            // Sort by date (newest first)
            quotes.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));

            // Update stats
            const totalValue = quotes.reduce((sum, q) => sum + ((q.estimateLow + q.estimateHigh) / 2), 0);
            const leadsCount = quotes.filter(q => q.customer).length;
            document.getElementById('stat-total').textContent = quotes.length;
            document.getElementById('stat-value').textContent = '$' + Math.round(totalValue).toLocaleString();
            document.getElementById('stat-leads').textContent = leadsCount;
            document.getElementById('stat-avg').textContent = '$' + Math.round(totalValue / quotes.length).toLocaleString();

            // Render list
            listEl.innerHTML = quotes.map(quote => `
                <div class="quote-item" data-id="${quote.id}">
                    <div class="quote-header">
                        <div>
                            <div class="quote-customer">${quote.customer || 'Anonymous Estimate'}</div>
                            <div class="quote-date">${formatDate(quote.createdAt)}${quote.address ? '  ' + quote.address : ''}</div>
                        </div>
                        <div class="quote-amount">$${quote.estimateLow.toLocaleString()} - $${quote.estimateHigh.toLocaleString()}</div>
                    </div>
                    <div class="quote-details">
                        <span class="quote-tag">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="4" y1="9" x2="20" y2="9"/>
                                <line x1="4" y1="15" x2="20" y2="15"/>
                            </svg>
                            ${quote.footage} ft
                        </span>
                        <span class="quote-tag">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="10" rx="1"/>
                                <line x1="3" y1="16" x2="21" y2="16"/>
                                <path d="M4 11l8-7 8 7"/>
                            </svg>
                            ${quote.stories} ${quote.stories === '1' || quote.stories === 1 ? 'story' : 'stories'}
                        </span>
                        <span class="quote-tag">${PRICING.materials[quote.material]?.name || quote.material}</span>
                        ${quote.gutterGuards ? '<span class="quote-tag">Gutter Guards</span>' : ''}
                    </div>
                    ${quote.phone ? `
                    <div class="quote-actions">
                        <a href="tel:${quote.phone.replace(/\D/g, '')}" class="btn btn-sm btn-primary" style="flex: 1;">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="width: 16px; height: 16px;">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                            </svg>
                            Call ${formatPhone(quote.phone)}
                        </a>
                        <button class="btn btn-sm btn-secondary btn-delete-quote" data-id="${quote.id}">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="width: 16px; height: 16px;">
                                <polyline points="3 6 5 6 21 6"/>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                        </button>
                    </div>
                    ` : `
                    <div class="quote-actions">
                        <button class="btn btn-sm btn-secondary btn-delete-quote" data-id="${quote.id}" style="flex: 1;">
                            <svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="width: 16px; height: 16px;">
                                <polyline points="3 6 5 6 21 6"/>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                            Delete
                        </button>
                    </div>
                    `}
                </div>
            `).join('');

            // Attach delete handlers
            document.querySelectorAll('.btn-delete-quote').forEach(btn => {
                btn.addEventListener('click', async (e) => {
                    const id = e.currentTarget.dataset.id;
                    if (confirm('Delete this quote?')) {
                        await deleteQuote(id);
                        showToast('Quote deleted');
                        renderQuotes();
                    }
                });
            });
        }

        // Show toast
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const messageEl = document.getElementById('toast-message');
            messageEl.textContent = message;
            toast.className = 'toast ' + type;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // Switch tabs
        function switchTab(tabId) {
            // Update nav items
            document.querySelectorAll('[data-tab]').forEach(item => {
                item.classList.toggle('active', item.dataset.tab === tabId);
            });

            // Update tab content
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.toggle('active', tab.id === 'tab-' + tabId);
            });

            // Refresh quotes if switching to quotes tab
            if (tabId === 'quotes') {
                renderQuotes();
            }
        }

        // Export to CSV
        async function exportToCSV() {
            const quotes = await getAllQuotes();
            if (quotes.length === 0) {
                showToast('No quotes to export', 'error');
                return;
            }

            const headers = ['Date', 'Customer', 'Address', 'Phone', 'Footage', 'Stories', 'Material', 'Downspouts', 'Gutter Guards', 'Removal', 'Estimate Low', 'Estimate High'];
            const rows = quotes.map(q => [
                formatDate(q.createdAt),
                q.customer || '',
                q.address || '',
                q.phone || '',
                q.footage,
                q.stories,
                PRICING.materials[q.material]?.name || q.material,
                q.downspouts,
                q.gutterGuards ? 'Yes' : 'No',
                q.removal ? 'Yes' : 'No',
                q.estimateLow,
                q.estimateHigh
            ]);

            const csv = [headers, ...rows].map(row => row.map(cell => '"' + String(cell).replace(/"/g, '""') + '"').join(',')).join('\n');
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'a-better-gutter-quotes-' + new Date().toISOString().split('T')[0] + '.csv';
            a.click();
            URL.revokeObjectURL(url);

            showToast('Exported ' + quotes.length + ' quotes');
        }

        // Export to JSON
        async function exportToJSON() {
            const quotes = await getAllQuotes();
            const blob = new Blob([JSON.stringify(quotes, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'a-better-gutter-quotes-' + new Date().toISOString().split('T')[0] + '.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Import quotes
        async function importQuotes(file) {
            const text = await file.text();
            let quotes;

            if (file.name.endsWith('.json')) {
                quotes = JSON.parse(text);
            } else if (file.name.endsWith('.csv')) {
                // Simple CSV parsing
                const lines = text.split('\n');
                const headers = lines[0].split(',').map(h => h.replace(/"/g, '').trim());
                quotes = lines.slice(1).filter(line => line.trim()).map(line => {
                    const values = line.match(/(".*?"|[^",]+)/g) || [];
                    const obj = {};
                    values.forEach((val, i) => {
                        obj[headers[i]] = val.replace(/^"|"$/g, '').replace(/""/g, '"');
                    });
                    return {
                        id: 'import-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
                        customer: obj['Customer'] || '',
                        address: obj['Address'] || '',
                        phone: obj['Phone'] || '',
                        footage: parseInt(obj['Footage']) || 150,
                        stories: obj['Stories'] || '1',
                        material: 'aluminum-seamless',
                        downspouts: parseInt(obj['Downspouts']) || 4,
                        gutterGuards: obj['Gutter Guards'] === 'Yes',
                        removal: obj['Removal'] === 'Yes',
                        estimateLow: parseInt(obj['Estimate Low']) || 0,
                        estimateHigh: parseInt(obj['Estimate High']) || 0,
                        createdAt: new Date(obj['Date']).toISOString() || new Date().toISOString()
                    };
                });
            }

            for (const quote of quotes) {
                await saveQuote(quote);
            }

            showToast('Imported ' + quotes.length + ' quotes');
            renderQuotes();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            await initDB();

            // Load demo data if empty
            const quotes = await getAllQuotes();
            if (quotes.length === 0) {
                for (const demo of DEMO_QUOTES) {
                    await saveQuote(demo);
                }
            }

            // Tab navigation
            document.querySelectorAll('[data-tab]').forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    switchTab(item.dataset.tab);
                });
            });

            // Linear footage slider
            const footageSlider = document.getElementById('linear-footage');
            const footageDisplay = document.getElementById('footage-display');
            footageSlider.addEventListener('input', () => {
                footageDisplay.textContent = footageSlider.value;
            });

            // Home dimension calculator
            const lengthInput = document.getElementById('home-length');
            const widthInput = document.getElementById('home-width');
            const calculatedDiv = document.getElementById('calculated-footage');
            const calculatedValue = document.getElementById('calculated-value');

            function calcFromDimensions() {
                const length = parseInt(lengthInput.value) || 0;
                const width = parseInt(widthInput.value) || 0;
                if (length > 0 && width > 0) {
                    const perimeter = 2 * (length + width);
                    calculatedValue.textContent = perimeter;
                    calculatedDiv.style.display = 'block';
                    // Update slider
                    footageSlider.value = Math.min(400, Math.max(50, perimeter));
                    footageDisplay.textContent = footageSlider.value;
                } else {
                    calculatedDiv.style.display = 'none';
                }
            }

            lengthInput.addEventListener('input', calcFromDimensions);
            widthInput.addEventListener('input', calcFromDimensions);

            // Material info update
            const materialSelect = document.getElementById('material');
            const materialInfo = document.getElementById('material-info').querySelector('span');
            materialSelect.addEventListener('change', () => {
                const info = PRICING.materials[materialSelect.value].info;
                materialInfo.textContent = info;
            });

            // Estimate form
            document.getElementById('estimate-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const estimate = calculateEstimate();
                displayEstimate(estimate);
            });

            // Lead form
            document.getElementById('lead-form').addEventListener('submit', async (e) => {
                e.preventDefault();

                const quote = {
                    ...currentEstimate,
                    customer: document.getElementById('lead-name').value,
                    address: document.getElementById('lead-address').value,
                    phone: document.getElementById('lead-phone').value,
                    preferredTime: document.getElementById('lead-time').value
                };

                await saveQuote(quote);

                // Show success
                document.getElementById('estimate-result').style.display = 'none';
                document.getElementById('lead-success').style.display = 'block';
                document.getElementById('lead-success').scrollIntoView({ behavior: 'smooth', block: 'start' });

                showToast('Quote saved successfully');
            });

            // Back home button
            document.getElementById('btn-back-home').addEventListener('click', () => {
                document.getElementById('lead-success').style.display = 'none';
                document.getElementById('estimate-result').style.display = 'none';
                document.getElementById('lead-form').reset();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // New estimate button
            document.getElementById('btn-new-estimate').addEventListener('click', () => {
                document.getElementById('estimate-result').style.display = 'none';
                document.getElementById('lead-form').reset();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // Print button
            document.getElementById('btn-print').addEventListener('click', () => {
                window.print();
            });

            // Share button
            document.getElementById('btn-share').addEventListener('click', async () => {
                const text = `A Better Gutter Estimate
${currentEstimate.footage} ft of ${currentEstimate.materialName}
${currentEstimate.downspouts} downspouts
${currentEstimate.gutterGuards ? 'With gutter guards\n' : ''}${currentEstimate.removal ? 'Old gutter removal included\n' : ''}
Estimated: $${currentEstimate.estimateLow.toLocaleString()} - $${currentEstimate.estimateHigh.toLocaleString()}

Call for a free on-site estimate: (803) 209-7827
https://abgutter.com`;

                if (navigator.share) {
                    try {
                        await navigator.share({ text });
                    } catch (err) {
                        // User cancelled
                    }
                } else {
                    await navigator.clipboard.writeText(text);
                    showToast('Copied to clipboard');
                }
            });

            // Export CSV button
            document.getElementById('btn-export-csv').addEventListener('click', exportToCSV);

            // Import button
            document.getElementById('btn-import').addEventListener('click', () => {
                document.getElementById('import-file').click();
            });

            document.getElementById('import-file').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    importQuotes(file);
                }
                e.target.value = '';
            });

            // Create first estimate button
            document.getElementById('btn-create-first').addEventListener('click', () => {
                switchTab('estimator');
            });

            // Initial render
            renderQuotes();
        });
    </script>

<!-- DEMO DISCLAIMER - Legal Notice -->
<div id="bct-demo-disclaimer" role="contentinfo" aria-label="Demo disclaimer">
  <p><strong>DEMO NOTICE:</strong> This tool was created by BennyCuTools as a free demonstration only.
  It is not affiliated with, endorsed by, or authorized by A Better Gutter.
  All brand references are used solely for demonstration purposes.</p>
  <a href="mailto:cuuper225@gmail.com?subject=Delete%20Demo%3A%20A%20Better%20Gutter&body=I%20am%20the%20owner%20of%20A%20Better%20Gutter%20and%20I%20request%20permanent%20deletion%20of%20the%20demo%20tool%20on%20bennycutools.com." class="bct-delete-btn" aria-label="Request permanent deletion of this demo">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
    Request Permanent Deletion
  </a>
</div>

</body>
</html>
