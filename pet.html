<!DOCTYPE html>
<html lang="en">
<head>
<meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Grooming & Boarding Pro</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2dd4bf;
            --secondary: #fb7185;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--card);
            border-right: 1px solid var(--border);
            padding: 2rem 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .sidebar.mobile-hidden {
            transform: translateX(-100%);
        }

        .logo {
            padding: 0 1.5rem 2rem;
            border-bottom: 1px solid var(--border);
        }

        .logo h1 {
            font-size: 1.5rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo .tagline {
            font-size: 0.75rem;
            color: var(--text-light);
            margin-top: 0.25rem;
            font-weight: normal;
        }

        .nav-menu {
            list-style: none;
            padding: 1rem 0;
        }

        .nav-item {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 500;
            color: var(--text-light);
        }

        .nav-item:hover {
            background: var(--bg);
            color: var(--primary);
        }

        .nav-item.active {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border-left: 4px solid var(--primary);
        }

        .nav-item .icon {
            font-size: 1.25rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 2rem;
            transition: margin-left 0.3s ease;
        }

        .main-content.full-width {
            margin-left: 0;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-header {
            margin-bottom: 2rem;
        }

        .page-header h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .page-header p {
            color: var(--text-light);
        }

        /* Cards */
        .card {
            background: var(--card);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            margin-bottom: 1.5rem;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Dashboard Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow-lg);
        }

        .stat-card .label {
            font-size: 0.875rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
        }

        .stat-card .value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .stat-card .subtext {
            font-size: 0.875rem;
            opacity: 0.8;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #22c1aa;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background: #f43f5e;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-outline {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }

        /* Forms */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
            font-family: inherit;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            text-align: left;
            padding: 1rem;
            background: var(--bg);
            font-weight: 600;
            border-bottom: 2px solid var(--border);
        }

        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .data-table tr:hover {
            background: var(--bg);
        }

        /* Calendar */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .time-slots {
            display: grid;
            gap: 0.5rem;
        }

        .time-slot {
            display: grid;
            grid-template-columns: 100px 1fr;
            gap: 1rem;
            align-items: start;
        }

        .time-label {
            font-weight: 600;
            color: var(--text-light);
            padding-top: 0.5rem;
        }

        .appointments-row {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .appointment-card {
            background: var(--primary);
            color: white;
            padding: 0.75rem;
            border-radius: 8px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: transform 0.2s;
            min-width: 200px;
        }

        .appointment-card:hover {
            transform: scale(1.05);
        }

        .appointment-card.bath { background: #3b82f6; }
        .appointment-card.groom { background: #8b5cf6; }
        .appointment-card.nail { background: #ec4899; }
        .appointment-card.boarding { background: #f59e0b; }

        .appointment-card strong {
            display: block;
            margin-bottom: 0.25rem;
        }

        /* Pet Grid */
        .pet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .pet-card {
            background: var(--card);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .pet-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .pet-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .pet-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .pet-breed {
            color: var(--text-light);
            font-size: 0.875rem;
        }

        .pet-icon {
            font-size: 2rem;
        }

        .pet-details {
            display: grid;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .pet-detail {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
        }

        .pet-detail .label {
            color: var(--text-light);
        }

        .pet-detail .value {
            font-weight: 600;
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-success {
            background: #d1fae5;
            color: var(--success);
        }

        .badge-warning {
            background: #fef3c7;
            color: var(--warning);
        }

        .badge-danger {
            background: #fee2e2;
            color: var(--danger);
        }

        .badge-info {
            background: #dbeafe;
            color: #3b82f6;
        }

        /* Boarding Grid */
        .boarding-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .kennel-cell {
            aspect-ratio: 1;
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .kennel-cell.occupied {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .kennel-cell.available {
            background: white;
        }

        .kennel-cell:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
        }

        .kennel-number {
            font-weight: 700;
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
        }

        .kennel-pet {
            font-size: 0.875rem;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            padding: 2rem;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
            padding: 0.5rem;
            line-height: 1;
        }

        .close-btn:hover {
            color: var(--text);
        }

        /* Search */
        .search-box {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        /* Invoice */
        .invoice-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border);
        }

        .invoice-items {
            margin: 2rem 0;
        }

        .invoice-item {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border);
        }

        .invoice-item .description {
            flex: 1;
        }

        .invoice-item .price {
            font-weight: 600;
            min-width: 100px;
            text-align: right;
        }

        .invoice-total {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 2px solid var(--text);
        }

        .invoice-total-row {
            display: flex;
            justify-content: space-between;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        /* Mobile Menu Toggle */
        .mobile-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 101;
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.25rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.mobile-visible {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .mobile-toggle {
                display: block;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .pet-grid {
                grid-template-columns: 1fr;
            }

            .boarding-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }

            .form-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Print Styles */
        @media print {
            .sidebar, .mobile-toggle, .btn, .nav-menu {
                display: none;
            }

            .main-content {
                margin-left: 0;
            }

            .card {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid var(--border);
            }
        }

        /* Animations */
        @keyframes slideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .slide-in {
            animation: slideIn 0.3s ease;
        }

        /* Additional Utilities */
        .text-success { color: var(--success); }
        .text-warning { color: var(--warning); }
        .text-danger { color: var(--danger); }
        .text-muted { color: var(--text-light); }

        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }

        .flex { display: flex; }
        .flex-between { display: flex; justify-content: space-between; }
        .flex-center { display: flex; align-items: center; }
        .gap-1 { gap: 0.5rem; }
        .gap-2 { gap: 1rem; }

        .hidden { display: none; }
    </style>

    <style>
    /* Kimi UI/UX Improvements */
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .radio-option, [class*="option"], [class*="choice"] { 
        min-height: 52px; transition: all 0.15s ease !important; 
    }
    .radio-option:active, [class*="option"]:active { transform: scale(0.98); }
    .btn-primary:active, [class*="btn"]:active { transform: translateY(1px); }
    /* Better progress bar */
    [class*="progress"] { height: 6px !important; border-radius: 3px; }
    </style>
    
</head>
<body>
    <button class="mobile-toggle" onclick="toggleSidebar()">☰</button>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="logo">
                <h1>
                    <span>🐾</span>
                    <span id="businessName">PawsPro</span>
                </h1>
                <p class="tagline" id="tagline">Premium Pet Care Management</p>
                <p class="text-muted mt-1" style="font-size: 0.875rem;">
                    <span id="businessPhone">📞 (555) 123-4567</span><br>
                    <span id="businessCity">📍 San Francisco, CA</span>
                </p>
            </div>

            <nav>
                <ul class="nav-menu">
                    <li class="nav-item active" onclick="showPage('dashboard')">
                        <span class="icon">📊</span>
                        <span>Dashboard</span>
                    </li>
                    <li class="nav-item" onclick="showPage('calendar')">
                        <span class="icon">📅</span>
                        <span>Appointments</span>
                    </li>
                    <li class="nav-item" onclick="showPage('pets')">
                        <span class="icon">🐕</span>
                        <span>Pet Profiles</span>
                    </li>
                    <li class="nav-item" onclick="showPage('owners')">
                        <span class="icon">👥</span>
                        <span>Owners</span>
                    </li>
                    <li class="nav-item" onclick="showPage('boarding')">
                        <span class="icon">🏠</span>
                        <span>Boarding</span>
                    </li>
                    <li class="nav-item" onclick="showPage('vaccinations')">
                        <span class="icon">💉</span>
                        <span>Vaccinations</span>
                    </li>
                    <li class="nav-item" onclick="showPage('invoice')">
                        <span class="icon">💰</span>
                        <span>Checkout</span>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <!-- Dashboard Page -->
            <div class="page active" id="dashboard">
                <div class="page-header">
                    <h2>Dashboard</h2>
                    <p>Welcome back! Here's what's happening today.</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="label">Today's Appointments</div>
                        <div class="value" id="todayAppointments">8</div>
                        <div class="subtext">3 grooming, 2 baths, 2 nail trims, 1 check-in</div>
                    </div>
                    <div class="stat-card">
                        <div class="label">Pets Checked In</div>
                        <div class="value" id="checkedInPets">12</div>
                        <div class="subtext">Out of 24 boarding capacity</div>
                    </div>
                    <div class="stat-card">
                        <div class="label">Today's Revenue</div>
                        <div class="value" id="todayRevenue">$1,245</div>
                        <div class="subtext">+18% from yesterday</div>
                    </div>
                    <div class="stat-card">
                        <div class="label">Occupancy Rate</div>
                        <div class="value" id="occupancyRate">50%</div>
                        <div class="subtext">12 of 24 kennels occupied</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <span>📅</span>
                            Today's Appointments
                        </h3>
                        <button class="btn btn-primary btn-sm" onclick="showPage('calendar')">View Calendar</button>
                    </div>
                    <div id="dashboardAppointments"></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <span>🏠</span>
                            Currently Boarding
                        </h3>
                        <button class="btn btn-primary btn-sm" onclick="showPage('boarding')">Manage Boarding</button>
                    </div>
                    <div id="dashboardBoarding"></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <span>⚠️</span>
                            Vaccination Alerts
                        </h3>
                        <button class="btn btn-primary btn-sm" onclick="showPage('vaccinations')">View All</button>
                    </div>
                    <div id="dashboardVaccinations"></div>
                </div>
            </div>

            <!-- Calendar Page -->
            <div class="page" id="calendar">
                <div class="page-header">
                    <h2>Appointment Calendar</h2>
                    <p>Manage your daily schedule</p>
                </div>

                <div class="card">
                    <div class="calendar-header">
                        <h3 id="currentDate"></h3>
                        <button class="btn btn-primary" onclick="openAppointmentModal()">+ New Appointment</button>
                    </div>
                    <div class="time-slots" id="timeSlots"></div>
                </div>
            </div>

            <!-- Pets Page -->
            <div class="page" id="pets">
                <div class="page-header">
                    <h2>Pet Profiles</h2>
                    <p>Complete database of all pets</p>
                </div>

                <div class="card">
                    <div class="search-box">
                        <span class="search-icon">🔍</span>
                        <input type="text" class="search-input" placeholder="Search pets by name, breed, or owner..." id="petSearch" oninput="filterPets()">
                    </div>
                    <button class="btn btn-primary mb-2" onclick="openPetModal()">+ Add New Pet</button>
                </div>

                <div class="pet-grid" id="petGrid"></div>
            </div>

            <!-- Owners Page -->
            <div class="page" id="owners">
                <div class="page-header">
                    <h2>Owner Database</h2>
                    <p>Manage client information</p>
                </div>

                <div class="card">
                    <div class="search-box">
                        <span class="search-icon">🔍</span>
                        <input type="text" class="search-input" placeholder="Search owners..." id="ownerSearch" oninput="filterOwners()">
                    </div>
                    <button class="btn btn-primary mb-2" onclick="openOwnerModal()">+ Add New Owner</button>

                    <table class="data-table" id="ownerTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Phone</th>
                                <th>Email</th>
                                <th>Pets</th>
                                <th>Visits</th>
                                <th>Lifetime Spend</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ownerTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Boarding Page -->
            <div class="page" id="boarding">
                <div class="page-header">
                    <h2>Boarding Manager</h2>
                    <p>Visual kennel occupancy and management</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <span>🏠</span>
                            Kennel Grid (24 Suites)
                        </h3>
                        <div>
                            <span class="badge badge-success">Available</span>
                            <span class="badge badge-warning">Occupied</span>
                        </div>
                    </div>
                    <div class="boarding-grid" id="boardingGrid"></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <span>📋</span>
                            Today's Feeding & Medication Schedule
                        </h3>
                    </div>
                    <div id="feedingSchedule"></div>
                </div>
            </div>

            <!-- Vaccinations Page -->
            <div class="page" id="vaccinations">
                <div class="page-header">
                    <h2>Vaccination Tracker</h2>
                    <p>Monitor and manage pet vaccination records</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <span>💉</span>
                            Vaccination Status
                        </h3>
                        <div>
                            <span class="badge badge-success">Current</span>
                            <span class="badge badge-warning">Expiring Soon</span>
                            <span class="badge badge-danger">Expired</span>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Pet</th>
                                <th>Vaccine</th>
                                <th>Last Date</th>
                                <th>Expiry Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="vaccinationTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Invoice Page -->
            <div class="page" id="invoice">
                <div class="page-header">
                    <h2>Checkout & Invoice</h2>
                    <p>Create invoices and process payments</p>
                </div>

                <div class="card">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Select Owner</label>
                            <select class="form-select" id="invoiceOwner" onchange="updateInvoicePets()">
                                <option value="">Choose owner...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Select Pet</label>
                            <select class="form-select" id="invoicePet">
                                <option value="">Choose pet...</option>
                            </select>
                        </div>
                    </div>

                    <div class="invoice-header">
                        <div>
                            <h3 id="invoiceBusinessName">PawsPro</h3>
                            <p class="text-muted" id="invoiceBusinessInfo"></p>
                        </div>
                        <div style="text-align: right;">
                            <strong>Invoice #<span id="invoiceNumber"></span></strong>
                            <p class="text-muted" id="invoiceDate"></p>
                        </div>
                    </div>

                    <h4 class="mb-2">Services</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Service</label>
                            <select class="form-select" id="serviceType">
                                <option value="">Select service...</option>
                                <option value="bath:35">Bath - $35</option>
                                <option value="groom:75">Full Groom - $75</option>
                                <option value="nail:15">Nail Trim - $15</option>
                                <option value="teeth:20">Teeth Brushing - $20</option>
                                <option value="boarding:45">Boarding (per night) - $45</option>
                                <option value="daycare:30">Daycare - $30</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Quantity/Nights</label>
                            <input type="number" class="form-input" id="serviceQuantity" value="1" min="1">
                        </div>
                    </div>
                    <button class="btn btn-primary btn-sm mb-2" onclick="addInvoiceItem()">+ Add Item</button>

                    <div class="invoice-items" id="invoiceItems">
                        <div class="text-muted text-center" style="padding: 2rem;">
                            No items added yet
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Tip (Optional)</label>
                        <input type="number" class="form-input" id="invoiceTip" value="0" min="0" step="0.01" oninput="calculateInvoiceTotal()">
                    </div>

                    <div class="invoice-total">
                        <div class="invoice-total-row">
                            <span>Total:</span>
                            <span id="invoiceTotal">$0.00</span>
                        </div>
                    </div>

                    <div class="flex gap-2 mt-3">
                        <button class="btn btn-primary" onclick="saveInvoice()">💾 Save Invoice</button>
                        <button class="btn btn-secondary" onclick="window.print()">🖨️ Print</button>
                        <button class="btn btn-outline" onclick="clearInvoice()">Clear</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Pet Modal -->
    <div class="modal" id="petModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="petModalTitle">Add New Pet</h3>
                <button class="close-btn" onclick="closePetModal()">×</button>
            </div>
            <form onsubmit="savePet(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Pet Name *</label>
                        <input type="text" class="form-input" id="petName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Breed *</label>
                        <input type="text" class="form-input" id="petBreed" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Species</label>
                        <select class="form-select" id="petSpecies">
                            <option value="dog">🐕 Dog</option>
                            <option value="cat">🐱 Cat</option>
                            <option value="other">🐾 Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Weight (lbs)</label>
                        <input type="number" class="form-input" id="petWeight" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Age</label>
                        <input type="text" class="form-input" id="petAge" placeholder="e.g., 3 years">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Owner *</label>
                        <select class="form-select" id="petOwner" required>
                            <option value="">Select owner...</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Temperament</label>
                    <select class="form-select" id="petTemperament">
                        <option value="friendly">😊 Friendly</option>
                        <option value="calm">😌 Calm</option>
                        <option value="energetic">⚡ Energetic</option>
                        <option value="anxious">😰 Anxious</option>
                        <option value="aggressive">⚠️ Caution</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Grooming Preferences</label>
                    <textarea class="form-textarea" id="petGrooming" placeholder="e.g., Prefers specific shampoo, sensitive ears..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Medical Alerts</label>
                    <textarea class="form-textarea" id="petMedical" placeholder="e.g., Allergies, medications, conditions..."></textarea>
                </div>
                <input type="hidden" id="petId">
                <div class="flex gap-2">
                    <button type="submit" class="btn btn-primary">Save Pet</button>
                    <button type="button" class="btn btn-outline" onclick="closePetModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Owner Modal -->
    <div class="modal" id="ownerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add New Owner</h3>
                <button class="close-btn" onclick="closeOwnerModal()">×</button>
            </div>
            <form onsubmit="saveOwner(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Full Name *</label>
                        <input type="text" class="form-input" id="ownerName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone *</label>
                        <input type="tel" class="form-input" id="ownerPhone" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="ownerEmail">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Address</label>
                        <input type="text" class="form-input" id="ownerAddress">
                    </div>
                </div>
                <input type="hidden" id="ownerId">
                <div class="flex gap-2">
                    <button type="submit" class="btn btn-primary">Save Owner</button>
                    <button type="button" class="btn btn-outline" onclick="closeOwnerModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Appointment Modal -->
    <div class="modal" id="appointmentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">New Appointment</h3>
                <button class="close-btn" onclick="closeAppointmentModal()">×</button>
            </div>
            <form onsubmit="saveAppointment(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Owner *</label>
                        <select class="form-select" id="appointmentOwner" required onchange="updateAppointmentPets()">
                            <option value="">Select owner...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pet *</label>
                        <select class="form-select" id="appointmentPet" required>
                            <option value="">Select pet...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Service *</label>
                        <select class="form-select" id="appointmentService" required>
                            <option value="bath">Bath</option>
                            <option value="groom">Full Groom</option>
                            <option value="nail">Nail Trim</option>
                            <option value="boarding">Boarding Check-in</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Date *</label>
                        <input type="date" class="form-input" id="appointmentDate" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Time *</label>
                        <select class="form-select" id="appointmentTime" required>
                            <option value="09:00">9:00 AM</option>
                            <option value="10:00">10:00 AM</option>
                            <option value="11:00">11:00 AM</option>
                            <option value="12:00">12:00 PM</option>
                            <option value="13:00">1:00 PM</option>
                            <option value="14:00">2:00 PM</option>
                            <option value="15:00">3:00 PM</option>
                            <option value="16:00">4:00 PM</option>
                            <option value="17:00">5:00 PM</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Notes</label>
                    <textarea class="form-textarea" id="appointmentNotes" placeholder="Special instructions..."></textarea>
                </div>
                <input type="hidden" id="appointmentId">
                <div class="flex gap-2">
                    <button type="submit" class="btn btn-primary">Save Appointment</button>
                    <button type="button" class="btn btn-outline" onclick="closeAppointmentModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Kennel Modal -->
    <div class="modal" id="kennelModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="kennelModalTitle">Kennel Details</h3>
                <button class="close-btn" onclick="closeKennelModal()">×</button>
            </div>
            <div id="kennelModalContent"></div>
        </div>
    </div>

    <script>
        // Initialize app with URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const config = {
            businessName: urlParams.get('business') || 'PawsPro',
            color1: urlParams.get('color1') || '#2dd4bf',
            color2: urlParams.get('color2') || '#fb7185',
            phone: urlParams.get('phone') || '(555) 123-4567',
            city: urlParams.get('city') || 'San Francisco, CA',
            tagline: urlParams.get('tagline') || 'Premium Pet Care Management'
        };

        // Apply branding
        document.getElementById('businessName').textContent = config.businessName;
        document.getElementById('tagline').textContent = config.tagline;
        document.getElementById('businessPhone').innerHTML = `📞 ${config.phone}`;
        document.getElementById('businessCity').innerHTML = `📍 ${config.city}`;
        document.documentElement.style.setProperty('--primary', config.color1);
        document.documentElement.style.setProperty('--secondary', config.color2);

        // LocalStorage keys
        const STORAGE_KEYS = {
            pets: 'pawspro_pets',
            owners: 'pawspro_owners',
            appointments: 'pawspro_appointments',
            boarding: 'pawspro_boarding',
            vaccinations: 'pawspro_vaccinations',
            invoices: 'pawspro_invoices'
        };

        // Initialize with sample data if empty
        function initializeData() {
            if (!localStorage.getItem(STORAGE_KEYS.owners)) {
                const sampleOwners = [
                    { id: '1', name: 'Sarah Johnson', phone: '(555) 234-5678', email: 'sarah.j@email.com', address: '123 Oak Street', visits: 24, lifetimeSpend: 2840 },
                    { id: '2', name: 'Michael Chen', phone: '(555) 345-6789', email: 'mchen@email.com', address: '456 Maple Ave', visits: 18, lifetimeSpend: 1950 },
                    { id: '3', name: 'Emily Rodriguez', phone: '(555) 456-7890', email: 'emily.r@email.com', address: '789 Pine Road', visits: 31, lifetimeSpend: 4230 },
                    { id: '4', name: 'David Thompson', phone: '(555) 567-8901', email: 'dthompson@email.com', address: '321 Birch Lane', visits: 12, lifetimeSpend: 1560 },
                    { id: '5', name: 'Lisa Martinez', phone: '(555) 678-9012', email: 'lisa.m@email.com', address: '654 Cedar Court', visits: 27, lifetimeSpend: 3190 }
                ];
                localStorage.setItem(STORAGE_KEYS.owners, JSON.stringify(sampleOwners));
            }

            if (!localStorage.getItem(STORAGE_KEYS.pets)) {
                const samplePets = [
                    { id: '1', name: 'Max', breed: 'Golden Retriever', species: 'dog', weight: 72, age: '4 years', ownerId: '1', temperament: 'friendly', grooming: 'Loves water, prefers unscented shampoo', medical: 'None' },
                    { id: '2', name: 'Bella', breed: 'Poodle', species: 'dog', weight: 45, age: '2 years', ownerId: '1', temperament: 'calm', grooming: 'Requires regular trimming, sensitive skin', medical: 'Seasonal allergies' },
                    { id: '3', name: 'Charlie', breed: 'Labrador Mix', species: 'dog', weight: 68, age: '6 years', ownerId: '2', temperament: 'energetic', grooming: 'Sheds heavily, likes treats during grooming', medical: 'Hip dysplasia - gentle handling' },
                    { id: '4', name: 'Luna', breed: 'Siamese', species: 'cat', weight: 9, age: '3 years', ownerId: '2', temperament: 'anxious', grooming: 'Dislikes water, needs calm environment', medical: 'On anxiety medication' },
                    { id: '5', name: 'Cooper', breed: 'Beagle', species: 'dog', weight: 28, age: '5 years', ownerId: '3', temperament: 'friendly', grooming: 'Standard grooming, ear cleaning important', medical: 'None' },
                    { id: '6', name: 'Daisy', breed: 'Persian', species: 'cat', weight: 11, age: '7 years', ownerId: '3', temperament: 'calm', grooming: 'Daily brushing needed, long coat', medical: 'Kidney diet' },
                    { id: '7', name: 'Rocky', breed: 'German Shepherd', species: 'dog', weight: 85, age: '3 years', ownerId: '4', temperament: 'energetic', grooming: 'Double coat, thorough brushing', medical: 'None' },
                    { id: '8', name: 'Milo', breed: 'Tabby', species: 'cat', weight: 13, age: '4 years', ownerId: '5', temperament: 'friendly', grooming: 'Low maintenance', medical: 'None' }
                ];
                localStorage.setItem(STORAGE_KEYS.pets, JSON.stringify(samplePets));
            }

            if (!localStorage.getItem(STORAGE_KEYS.appointments)) {
                const today = new Date().toISOString().split('T')[0];
                const sampleAppointments = [
                    { id: '1', petId: '1', ownerId: '1', service: 'bath', date: today, time: '09:00', notes: '' },
                    { id: '2', petId: '3', ownerId: '2', service: 'groom', date: today, time: '10:00', notes: 'Full spa treatment' },
                    { id: '3', petId: '5', ownerId: '3', service: 'nail', date: today, time: '11:00', notes: '' },
                    { id: '4', petId: '7', ownerId: '4', service: 'bath', date: today, time: '13:00', notes: '' },
                    { id: '5', petId: '2', ownerId: '1', service: 'groom', date: today, time: '14:00', notes: 'Breed-specific cut' },
                    { id: '6', petId: '8', ownerId: '5', service: 'nail', date: today, time: '15:00', notes: '' },
                    { id: '7', petId: '6', ownerId: '3', service: 'groom', date: today, time: '16:00', notes: 'Lion cut' },
                    { id: '8', petId: '4', ownerId: '2', service: 'boarding', date: today, time: '17:00', notes: 'Check-in for 3 nights' }
                ];
                localStorage.setItem(STORAGE_KEYS.appointments, JSON.stringify(sampleAppointments));
            }

            if (!localStorage.getItem(STORAGE_KEYS.boarding)) {
                const sampleBoarding = [
                    { kennelNumber: 1, petId: '1', checkIn: '2024-01-15', checkOut: '2024-01-18', feedingSchedule: '2x daily', medication: 'None' },
                    { kennelNumber: 3, petId: '2', checkIn: '2024-01-14', checkOut: '2024-01-20', feedingSchedule: '2x daily, small portions', medication: 'Allergy pill daily' },
                    { kennelNumber: 5, petId: '3', checkIn: '2024-01-16', checkOut: '2024-01-19', feedingSchedule: '3x daily (active dog)', medication: 'Hip supplement with dinner' },
                    { kennelNumber: 7, petId: '5', checkIn: '2024-01-15', checkOut: '2024-01-22', feedingSchedule: '2x daily', medication: 'None' },
                    { kennelNumber: 9, petId: '7', checkIn: '2024-01-17', checkOut: '2024-01-24', feedingSchedule: '2x daily, high protein', medication: 'None' },
                    { kennelNumber: 11, petId: '8', checkIn: '2024-01-16', checkOut: '2024-01-21', feedingSchedule: '2x daily', medication: 'None' },
                    { kennelNumber: 14, petId: '6', checkIn: '2024-01-14', checkOut: '2024-01-25', feedingSchedule: '2x daily, kidney diet', medication: 'Kidney support supplement' },
                    { kennelNumber: 16, petId: '4', checkIn: '2024-01-17', checkOut: '2024-01-20', feedingSchedule: '2x daily, quiet feeding area', medication: 'Anxiety medication morning' },
                    { kennelNumber: 18, petId: null, checkIn: null, checkOut: null, feedingSchedule: '', medication: '' },
                    { kennelNumber: 20, petId: null, checkIn: null, checkOut: null, feedingSchedule: '', medication: '' },
                    { kennelNumber: 22, petId: null, checkIn: null, checkOut: null, feedingSchedule: '', medication: '' },
                    { kennelNumber: 23, petId: null, checkIn: null, checkOut: null, feedingSchedule: '', medication: '' }
                ];
                
                // Initialize all 24 kennels
                const allKennels = [];
                for (let i = 1; i <= 24; i++) {
                    const existing = sampleBoarding.find(k => k.kennelNumber === i);
                    allKennels.push(existing || { kennelNumber: i, petId: null, checkIn: null, checkOut: null, feedingSchedule: '', medication: '' });
                }
                localStorage.setItem(STORAGE_KEYS.boarding, JSON.stringify(allKennels));
            }

            if (!localStorage.getItem(STORAGE_KEYS.vaccinations)) {
                const sampleVaccinations = [
                    { id: '1', petId: '1', vaccine: 'Rabies', lastDate: '2023-06-15', expiryDate: '2024-06-15' },
                    { id: '2', petId: '1', vaccine: 'DHPP', lastDate: '2023-08-20', expiryDate: '2024-08-20' },
                    { id: '3', petId: '2', vaccine: 'Rabies', lastDate: '2023-11-10', expiryDate: '2024-11-10' },
                    { id: '4', petId: '3', vaccine: 'Rabies', lastDate: '2023-03-15', expiryDate: '2024-03-15' },
                    { id: '5', petId: '3', vaccine: 'Bordetella', lastDate: '2023-12-01', expiryDate: '2024-06-01' },
                    { id: '6', petId: '5', vaccine: 'Rabies', lastDate: '2023-09-20', expiryDate: '2024-09-20' },
                    { id: '7', petId: '7', vaccine: 'Rabies', lastDate: '2023-07-10', expiryDate: '2024-07-10' },
                    { id: '8', petId: '7', vaccine: 'DHPP', lastDate: '2023-07-10', expiryDate: '2024-07-10' },
                    { id: '9', petId: '4', vaccine: 'FVRCP', lastDate: '2023-10-15', expiryDate: '2024-10-15' },
                    { id: '10', petId: '6', vaccine: 'FVRCP', lastDate: '2023-04-20', expiryDate: '2024-04-20' },
                    { id: '11', petId: '8', vaccine: 'Rabies', lastDate: '2023-05-10', expiryDate: '2024-05-10' }
                ];
                localStorage.setItem(STORAGE_KEYS.vaccinations, JSON.stringify(sampleVaccinations));
            }

            if (!localStorage.getItem(STORAGE_KEYS.invoices)) {
                localStorage.setItem(STORAGE_KEYS.invoices, JSON.stringify([]));
            }
        }

        // Helper functions
        function getData(key) {
            return JSON.parse(localStorage.getItem(key) || '[]');
        }

        function saveData(key, data) {
            localStorage.setItem(key, JSON.stringify(data));
        }

        function generateId() {
            return Date.now().toString() + Math.random().toString(36).substr(2, 9);
        }

        // Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            event.target.closest('.nav-item').classList.add('active');

            // Load page-specific data
            switch(pageId) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'calendar':
                    loadCalendar();
                    break;
                case 'pets':
                    loadPets();
                    break;
                case 'owners':
                    loadOwners();
                    break;
                case 'boarding':
                    loadBoarding();
                    break;
                case 'vaccinations':
                    loadVaccinations();
                    break;
                case 'invoice':
                    loadInvoicePage();
                    break;
            }

            // Close sidebar on mobile
            if (window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('mobile-visible');
            }
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('mobile-visible');
        }

        // Dashboard
        function loadDashboard() {
            const appointments = getData(STORAGE_KEYS.appointments);
            const boarding = getData(STORAGE_KEYS.boarding);
            const pets = getData(STORAGE_KEYS.pets);
            const owners = getData(STORAGE_KEYS.owners);
            const vaccinations = getData(STORAGE_KEYS.vaccinations);

            const today = new Date().toISOString().split('T')[0];
            const todayAppts = appointments.filter(a => a.date === today);

            // Update stats
            document.getElementById('todayAppointments').textContent = todayAppts.length;
            const occupied = boarding.filter(k => k.petId !== null).length;
            document.getElementById('checkedInPets').textContent = occupied;
            document.getElementById('occupancyRate').textContent = Math.round((occupied / 24) * 100) + '%';

            // Calculate today's revenue (estimate)
            const serviceRevenue = { bath: 35, groom: 75, nail: 15, boarding: 45 };
            const revenue = todayAppts.reduce((sum, a) => sum + (serviceRevenue[a.service] || 0), 0);
            document.getElementById('todayRevenue').textContent = '$' + revenue.toLocaleString();

            // Today's appointments
            let apptHtml = '<table class="data-table"><thead><tr><th>Time</th><th>Pet</th><th>Owner</th><th>Service</th></tr></thead><tbody>';
            todayAppts.sort((a, b) => a.time.localeCompare(b.time)).forEach(appt => {
                const pet = pets.find(p => p.id === appt.petId);
                const owner = owners.find(o => o.id === appt.ownerId);
                const serviceNames = { bath: 'Bath', groom: 'Full Groom', nail: 'Nail Trim', boarding: 'Boarding Check-in' };
                apptHtml += `<tr>
                    <td><strong>${formatTime(appt.time)}</strong></td>
                    <td>${pet ? pet.name : 'Unknown'}</td>
                    <td>${owner ? owner.name : 'Unknown'}</td>
                    <td><span class="badge badge-info">${serviceNames[appt.service]}</span></td>
                </tr>`;
            });
            apptHtml += '</tbody></table>';
            document.getElementById('dashboardAppointments').innerHTML = apptHtml;

            // Currently boarding
            let boardingHtml = '<table class="data-table"><thead><tr><th>Kennel</th><th>Pet</th><th>Owner</th><th>Check-out</th></tr></thead><tbody>';
            boarding.filter(k => k.petId).slice(0, 8).forEach(kennel => {
                const pet = pets.find(p => p.id === kennel.petId);
                const owner = owners.find(o => o.id === pet?.ownerId);
                boardingHtml += `<tr>
                    <td><strong>#${kennel.kennelNumber}</strong></td>
                    <td>${pet ? pet.name : 'Unknown'}</td>
                    <td>${owner ? owner.name : 'Unknown'}</td>
                    <td>${kennel.checkOut ? formatDate(kennel.checkOut) : 'N/A'}</td>
                </tr>`;
            });
            boardingHtml += '</tbody></table>';
            document.getElementById('dashboardBoarding').innerHTML = boardingHtml;

            // Vaccination alerts
            const vaccinationAlerts = getVaccinationAlerts(vaccinations, pets);
            let vaccHtml = '<table class="data-table"><thead><tr><th>Pet</th><th>Vaccine</th><th>Expiry</th><th>Status</th></tr></thead><tbody>';
            vaccinationAlerts.slice(0, 5).forEach(v => {
                const pet = pets.find(p => p.id === v.petId);
                vaccHtml += `<tr>
                    <td>${pet ? pet.name : 'Unknown'}</td>
                    <td>${v.vaccine}</td>
                    <td>${formatDate(v.expiryDate)}</td>
                    <td>${getVaccineBadge(v.status)}</td>
                </tr>`;
            });
            vaccHtml += '</tbody></table>';
            document.getElementById('dashboardVaccinations').innerHTML = vaccHtml;
        }

        // Calendar
        function loadCalendar() {
            const today = new Date();
            document.getElementById('currentDate').textContent = today.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });

            const appointments = getData(STORAGE_KEYS.appointments);
            const pets = getData(STORAGE_KEYS.pets);
            const owners = getData(STORAGE_KEYS.owners);
            const todayStr = today.toISOString().split('T')[0];
            const todayAppts = appointments.filter(a => a.date === todayStr);

            const hours = ['09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00'];
            let html = '';

            hours.forEach(hour => {
                const hourAppts = todayAppts.filter(a => a.time === hour);
                html += `<div class="time-slot">
                    <div class="time-label">${formatTime(hour)}</div>
                    <div class="appointments-row">`;
                
                if (hourAppts.length === 0) {
                    html += '<span class="text-muted">No appointments</span>';
                } else {
                    hourAppts.forEach(appt => {
                        const pet = pets.find(p => p.id === appt.petId);
                        const owner = owners.find(o => o.id === appt.ownerId);
                        html += `<div class="appointment-card ${appt.service}" onclick="viewAppointment('${appt.id}')">
                            <strong>${pet ? pet.name : 'Unknown'}</strong>
                            <div>${owner ? owner.name : 'Unknown'}</div>
                            <div style="font-size: 0.75rem; margin-top: 0.25rem;">${getServiceName(appt.service)}</div>
                        </div>`;
                    });
                }
                
                html += '</div></div>';
            });

            document.getElementById('timeSlots').innerHTML = html;
        }

        // Pets
        function loadPets() {
            const pets = getData(STORAGE_KEYS.pets);
            const owners = getData(STORAGE_KEYS.owners);
            
            let html = '';
            pets.forEach(pet => {
                const owner = owners.find(o => o.id === pet.ownerId);
                const icon = pet.species === 'cat' ? '🐱' : pet.species === 'dog' ? '🐕' : '🐾';
                const temperamentEmoji = {
                    'friendly': '😊',
                    'calm': '😌',
                    'energetic': '⚡',
                    'anxious': '😰',
                    'aggressive': '⚠️'
                };

                html += `<div class="pet-card" onclick="editPet('${pet.id}')">
                    <div class="pet-header">
                        <div>
                            <div class="pet-name">${pet.name}</div>
                            <div class="pet-breed">${pet.breed}</div>
                        </div>
                        <div class="pet-icon">${icon}</div>
                    </div>
                    <div class="pet-details">
                        <div class="pet-detail">
                            <span class="label">Owner:</span>
                            <span class="value">${owner ? owner.name : 'Unknown'}</span>
                        </div>
                        <div class="pet-detail">
                            <span class="label">Weight:</span>
                            <span class="value">${pet.weight} lbs</span>
                        </div>
                        <div class="pet-detail">
                            <span class="label">Age:</span>
                            <span class="value">${pet.age || 'Unknown'}</span>
                        </div>
                        <div class="pet-detail">
                            <span class="label">Temperament:</span>
                            <span class="value">${temperamentEmoji[pet.temperament] || ''} ${capitalize(pet.temperament)}</span>
                        </div>
                        ${pet.medical ? `<div class="pet-detail" style="color: var(--danger);"><span class="label">⚠️ Medical:</span><span class="value">${pet.medical}</span></div>` : ''}
                    </div>
                </div>`;
            });

            document.getElementById('petGrid').innerHTML = html;
        }

        function filterPets() {
            const search = document.getElementById('petSearch').value.toLowerCase();
            const pets = getData(STORAGE_KEYS.pets);
            const owners = getData(STORAGE_KEYS.owners);

            const filtered = pets.filter(pet => {
                const owner = owners.find(o => o.id === pet.ownerId);
                return pet.name.toLowerCase().includes(search) ||
                       pet.breed.toLowerCase().includes(search) ||
                       (owner && owner.name.toLowerCase().includes(search));
            });

            // Render filtered pets (simplified for brevity)
            loadPets();
        }

        // Owners
        function loadOwners() {
            const owners = getData(STORAGE_KEYS.owners);
            const pets = getData(STORAGE_KEYS.pets);

            let html = '';
            owners.forEach(owner => {
                const ownerPets = pets.filter(p => p.ownerId === owner.id);
                html += `<tr>
                    <td><strong>${owner.name}</strong></td>
                    <td>${owner.phone}</td>
                    <td>${owner.email || 'N/A'}</td>
                    <td>${ownerPets.length} pet(s)</td>
                    <td>${owner.visits || 0}</td>
                    <td><strong>$${(owner.lifetimeSpend || 0).toLocaleString()}</strong></td>
                    <td><button class="btn btn-sm btn-outline" onclick="editOwner('${owner.id}')">Edit</button></td>
                </tr>`;
            });

            document.getElementById('ownerTableBody').innerHTML = html;
        }

        function filterOwners() {
            const search = document.getElementById('ownerSearch').value.toLowerCase();
            const owners = getData(STORAGE_KEYS.owners);

            const filtered = owners.filter(owner => 
                owner.name.toLowerCase().includes(search) ||
                owner.phone.includes(search) ||
                (owner.email && owner.email.toLowerCase().includes(search))
            );

            // Render filtered (simplified)
            loadOwners();
        }

        // Boarding
        function loadBoarding() {
            const boarding = getData(STORAGE_KEYS.boarding);
            const pets = getData(STORAGE_KEYS.pets);

            let html = '';
            boarding.forEach(kennel => {
                const pet = kennel.petId ? pets.find(p => p.id === kennel.petId) : null;
                const occupied = pet !== null;
                
                html += `<div class="kennel-cell ${occupied ? 'occupied' : 'available'}" onclick="viewKennel(${kennel.kennelNumber})">
                    <div class="kennel-number">#${kennel.kennelNumber}</div>
                    <div class="kennel-pet">${pet ? pet.name : 'Available'}</div>
                </div>`;
            });

            document.getElementById('boardingGrid').innerHTML = html;

            // Feeding schedule
            let feedingHtml = '<table class="data-table"><thead><tr><th>Kennel</th><th>Pet</th><th>Feeding</th><th>Medication</th></tr></thead><tbody>';
            boarding.filter(k => k.petId).forEach(kennel => {
                const pet = pets.find(p => p.id === kennel.petId);
                feedingHtml += `<tr>
                    <td><strong>#${kennel.kennelNumber}</strong></td>
                    <td>${pet ? pet.name : 'Unknown'}</td>
                    <td>${kennel.feedingSchedule || 'N/A'}</td>
                    <td>${kennel.medication || 'None'}</td>
                </tr>`;
            });
            feedingHtml += '</tbody></table>';
            document.getElementById('feedingSchedule').innerHTML = feedingHtml;
        }

        function viewKennel(kennelNumber) {
            const boarding = getData(STORAGE_KEYS.boarding);
            const pets = getData(STORAGE_KEYS.pets);
            const owners = getData(STORAGE_KEYS.owners);

            const kennel = boarding.find(k => k.kennelNumber === kennelNumber);
            const pet = kennel.petId ? pets.find(p => p.id === kennel.petId) : null;
            const owner = pet ? owners.find(o => o.id === pet.ownerId) : null;

            document.getElementById('kennelModalTitle').textContent = `Kennel #${kennelNumber}`;

            let content = '';
            if (pet) {
                content = `
                    <div class="mb-2"><strong>Status:</strong> <span class="badge badge-warning">Occupied</span></div>
                    <div class="mb-2"><strong>Pet:</strong> ${pet.name} (${pet.breed})</div>
                    <div class="mb-2"><strong>Owner:</strong> ${owner ? owner.name : 'Unknown'}</div>
                    <div class="mb-2"><strong>Check-in:</strong> ${formatDate(kennel.checkIn)}</div>
                    <div class="mb-2"><strong>Check-out:</strong> ${formatDate(kennel.checkOut)}</div>
                    <div class="mb-2"><strong>Feeding Schedule:</strong> ${kennel.feedingSchedule}</div>
                    <div class="mb-2"><strong>Medication:</strong> ${kennel.medication}</div>
                    <div class="mt-3">
                        <button class="btn btn-secondary" onclick="checkOutPet(${kennelNumber})">Check Out</button>
                    </div>
                `;
            } else {
                content = `
                    <div class="mb-2"><strong>Status:</strong> <span class="badge badge-success">Available</span></div>
                    <p class="text-muted">This kennel is currently available for boarding.</p>
                    <div class="mt-3">
                        <button class="btn btn-primary" onclick="checkInPet(${kennelNumber})">Check In Pet</button>
                    </div>
                `;
            }

            document.getElementById('kennelModalContent').innerHTML = content;
            document.getElementById('kennelModal').classList.add('active');
        }

        function closeKennelModal() {
            document.getElementById('kennelModal').classList.remove('active');
        }

        function checkOutPet(kennelNumber) {
            if (confirm('Check out this pet?')) {
                const boarding = getData(STORAGE_KEYS.boarding);
                const kennel = boarding.find(k => k.kennelNumber === kennelNumber);
                kennel.petId = null;
                kennel.checkIn = null;
                kennel.checkOut = null;
                kennel.feedingSchedule = '';
                kennel.medication = '';
                saveData(STORAGE_KEYS.boarding, boarding);
                closeKennelModal();
                loadBoarding();
                loadDashboard();
            }
        }

        function checkInPet(kennelNumber) {
            alert('Full check-in form would appear here. For demo purposes, this is simplified.');
            closeKennelModal();
        }

        // Vaccinations
        function loadVaccinations() {
            const vaccinations = getData(STORAGE_KEYS.vaccinations);
            const pets = getData(STORAGE_KEYS.pets);

            const vaccinationData = getVaccinationAlerts(vaccinations, pets);

            let html = '';
            vaccinationData.forEach(v => {
                const pet = pets.find(p => p.id === v.petId);
                html += `<tr>
                    <td><strong>${pet ? pet.name : 'Unknown'}</strong></td>
                    <td>${v.vaccine}</td>
                    <td>${formatDate(v.lastDate)}</td>
                    <td>${formatDate(v.expiryDate)}</td>
                    <td>${getVaccineBadge(v.status)}</td>
                    <td><button class="btn btn-sm btn-outline" onclick="updateVaccination('${v.id}')">Update</button></td>
                </tr>`;
            });

            document.getElementById('vaccinationTableBody').innerHTML = html;
        }

        function getVaccinationAlerts(vaccinations, pets) {
            const today = new Date();
            return vaccinations.map(v => {
                const expiryDate = new Date(v.expiryDate);
                const daysUntilExpiry = Math.floor((expiryDate - today) / (1000 * 60 * 60 * 24));
                
                let status = 'current';
                if (daysUntilExpiry < 0) status = 'expired';
                else if (daysUntilExpiry <= 30) status = 'expiring';

                return { ...v, status, daysUntilExpiry };
            }).sort((a, b) => a.daysUntilExpiry - b.daysUntilExpiry);
        }

        function getVaccineBadge(status) {
            const badges = {
                'current': '<span class="badge badge-success">Current</span>',
                'expiring': '<span class="badge badge-warning">Expiring Soon</span>',
                'expired': '<span class="badge badge-danger">Expired</span>'
            };
            return badges[status] || '';
        }

        function updateVaccination(id) {
            alert('Update vaccination form would appear here. For demo purposes, this is simplified.');
        }

        // Invoice
        let invoiceItems = [];

        function loadInvoicePage() {
            const owners = getData(STORAGE_KEYS.owners);
            
            // Populate owner dropdown
            let ownerOptions = '<option value="">Choose owner...</option>';
            owners.forEach(o => {
                ownerOptions += `<option value="${o.id}">${o.name}</option>`;
            });
            document.getElementById('invoiceOwner').innerHTML = ownerOptions;

            // Set invoice details
            document.getElementById('invoiceBusinessName').textContent = config.businessName;
            document.getElementById('invoiceBusinessInfo').innerHTML = `${config.phone}<br>${config.city}`;
            document.getElementById('invoiceNumber').textContent = generateId().substr(0, 8).toUpperCase();
            document.getElementById('invoiceDate').textContent = new Date().toLocaleDateString();

            clearInvoice();
        }

        function updateInvoicePets() {
            const ownerId = document.getElementById('invoiceOwner').value;
            const pets = getData(STORAGE_KEYS.pets);
            const ownerPets = pets.filter(p => p.ownerId === ownerId);

            let petOptions = '<option value="">Choose pet...</option>';
            ownerPets.forEach(p => {
                petOptions += `<option value="${p.id}">${p.name}</option>`;
            });
            document.getElementById('invoicePet').innerHTML = petOptions;
        }

        function addInvoiceItem() {
            const serviceSelect = document.getElementById('serviceType');
            const quantity = parseInt(document.getElementById('serviceQuantity').value);

            if (!serviceSelect.value) {
                alert('Please select a service');
                return;
            }

            const [service, price] = serviceSelect.value.split(':');
            const serviceNames = {
                'bath': 'Bath',
                'groom': 'Full Groom',
                'nail': 'Nail Trim',
                'teeth': 'Teeth Brushing',
                'boarding': 'Boarding (per night)',
                'daycare': 'Daycare'
            };

            invoiceItems.push({
                id: generateId(),
                service: serviceNames[service],
                price: parseFloat(price),
                quantity: quantity
            });

            renderInvoiceItems();
            calculateInvoiceTotal();

            // Reset form
            document.getElementById('serviceType').value = '';
            document.getElementById('serviceQuantity').value = '1';
        }

        function renderInvoiceItems() {
            if (invoiceItems.length === 0) {
                document.getElementById('invoiceItems').innerHTML = '<div class="text-muted text-center" style="padding: 2rem;">No items added yet</div>';
                return;
            }

            let html = '';
            invoiceItems.forEach(item => {
                const total = item.price * item.quantity;
                html += `<div class="invoice-item">
                    <div class="description">
                        <strong>${item.service}</strong>
                        <div class="text-muted" style="font-size: 0.875rem;">$${item.price.toFixed(2)} × ${item.quantity}</div>
                    </div>
                    <div class="price">$${total.toFixed(2)}</div>
                    <button class="btn btn-sm btn-outline" onclick="removeInvoiceItem('${item.id}')" style="margin-left: 1rem;">Remove</button>
                </div>`;
            });

            document.getElementById('invoiceItems').innerHTML = html;
        }

        function removeInvoiceItem(id) {
            invoiceItems = invoiceItems.filter(item => item.id !== id);
            renderInvoiceItems();
            calculateInvoiceTotal();
        }

        function calculateInvoiceTotal() {
            const subtotal = invoiceItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const tip = parseFloat(document.getElementById('invoiceTip').value) || 0;
            const total = subtotal + tip;

            document.getElementById('invoiceTotal').textContent = '$' + total.toFixed(2);
        }

        function saveInvoice() {
            const ownerId = document.getElementById('invoiceOwner').value;
            const petId = document.getElementById('invoicePet').value;

            if (!ownerId || invoiceItems.length === 0) {
                alert('Please select an owner and add at least one item');
                return;
            }

            const invoices = getData(STORAGE_KEYS.invoices);
            const invoice = {
                id: generateId(),
                invoiceNumber: document.getElementById('invoiceNumber').textContent,
                date: new Date().toISOString(),
                ownerId: ownerId,
                petId: petId,
                items: [...invoiceItems],
                tip: parseFloat(document.getElementById('invoiceTip').value) || 0,
                total: parseFloat(document.getElementById('invoiceTotal').textContent.replace('$', ''))
            };

            invoices.push(invoice);
            saveData(STORAGE_KEYS.invoices, invoices);

            // Update owner lifetime spend
            const owners = getData(STORAGE_KEYS.owners);
            const owner = owners.find(o => o.id === ownerId);
            if (owner) {
                owner.lifetimeSpend = (owner.lifetimeSpend || 0) + invoice.total;
                owner.visits = (owner.visits || 0) + 1;
                saveData(STORAGE_KEYS.owners, owners);
            }

            alert('Invoice saved successfully!');
            clearInvoice();
        }

        function clearInvoice() {
            invoiceItems = [];
            document.getElementById('invoiceOwner').value = '';
            document.getElementById('invoicePet').value = '';
            document.getElementById('serviceType').value = '';
            document.getElementById('serviceQuantity').value = '1';
            document.getElementById('invoiceTip').value = '0';
            renderInvoiceItems();
            calculateInvoiceTotal();
        }

        // Modals
        function openPetModal() {
            const owners = getData(STORAGE_KEYS.owners);
            let ownerOptions = '<option value="">Select owner...</option>';
            owners.forEach(o => {
                ownerOptions += `<option value="${o.id}">${o.name}</option>`;
            });
            document.getElementById('petOwner').innerHTML = ownerOptions;

            document.getElementById('petModalTitle').textContent = 'Add New Pet';
            document.getElementById('petId').value = '';
            document.getElementById('petName').value = '';
            document.getElementById('petBreed').value = '';
            document.getElementById('petSpecies').value = 'dog';
            document.getElementById('petWeight').value = '';
            document.getElementById('petAge').value = '';
            document.getElementById('petOwner').value = '';
            document.getElementById('petTemperament').value = 'friendly';
            document.getElementById('petGrooming').value = '';
            document.getElementById('petMedical').value = '';

            document.getElementById('petModal').classList.add('active');
        }

        function closePetModal() {
            document.getElementById('petModal').classList.remove('active');
        }

        function editPet(id) {
            const pets = getData(STORAGE_KEYS.pets);
            const pet = pets.find(p => p.id === id);
            if (!pet) return;

            const owners = getData(STORAGE_KEYS.owners);
            let ownerOptions = '<option value="">Select owner...</option>';
            owners.forEach(o => {
                ownerOptions += `<option value="${o.id}" ${o.id === pet.ownerId ? 'selected' : ''}>${o.name}</option>`;
            });
            document.getElementById('petOwner').innerHTML = ownerOptions;

            document.getElementById('petModalTitle').textContent = 'Edit Pet';
            document.getElementById('petId').value = pet.id;
            document.getElementById('petName').value = pet.name;
            document.getElementById('petBreed').value = pet.breed;
            document.getElementById('petSpecies').value = pet.species;
            document.getElementById('petWeight').value = pet.weight;
            document.getElementById('petAge').value = pet.age;
            document.getElementById('petOwner').value = pet.ownerId;
            document.getElementById('petTemperament').value = pet.temperament;
            document.getElementById('petGrooming').value = pet.grooming;
            document.getElementById('petMedical').value = pet.medical;

            document.getElementById('petModal').classList.add('active');
        }

        function savePet(event) {
            event.preventDefault();

            const pets = getData(STORAGE_KEYS.pets);
            const id = document.getElementById('petId').value;

            const pet = {
                id: id || generateId(),
                name: document.getElementById('petName').value,
                breed: document.getElementById('petBreed').value,
                species: document.getElementById('petSpecies').value,
                weight: parseFloat(document.getElementById('petWeight').value) || 0,
                age: document.getElementById('petAge').value,
                ownerId: document.getElementById('petOwner').value,
                temperament: document.getElementById('petTemperament').value,
                grooming: document.getElementById('petGrooming').value,
                medical: document.getElementById('petMedical').value
            };

            if (id) {
                const index = pets.findIndex(p => p.id === id);
                pets[index] = pet;
            } else {
                pets.push(pet);
            }

            saveData(STORAGE_KEYS.pets, pets);
            closePetModal();
            loadPets();
            loadDashboard();
        }

        function openOwnerModal() {
            document.getElementById('ownerId').value = '';
            document.getElementById('ownerName').value = '';
            document.getElementById('ownerPhone').value = '';
            document.getElementById('ownerEmail').value = '';
            document.getElementById('ownerAddress').value = '';

            document.getElementById('ownerModal').classList.add('active');
        }

        function closeOwnerModal() {
            document.getElementById('ownerModal').classList.remove('active');
        }

        function editOwner(id) {
            const owners = getData(STORAGE_KEYS.owners);
            const owner = owners.find(o => o.id === id);
            if (!owner) return;

            document.getElementById('ownerId').value = owner.id;
            document.getElementById('ownerName').value = owner.name;
            document.getElementById('ownerPhone').value = owner.phone;
            document.getElementById('ownerEmail').value = owner.email || '';
            document.getElementById('ownerAddress').value = owner.address || '';

            document.getElementById('ownerModal').classList.add('active');
        }

        function saveOwner(event) {
            event.preventDefault();

            const owners = getData(STORAGE_KEYS.owners);
            const id = document.getElementById('ownerId').value;

            const owner = {
                id: id || generateId(),
                name: document.getElementById('ownerName').value,
                phone: document.getElementById('ownerPhone').value,
                email: document.getElementById('ownerEmail').value,
                address: document.getElementById('ownerAddress').value,
                visits: id ? owners.find(o => o.id === id)?.visits || 0 : 0,
                lifetimeSpend: id ? owners.find(o => o.id === id)?.lifetimeSpend || 0 : 0
            };

            if (id) {
                const index = owners.findIndex(o => o.id === id);
                owners[index] = owner;
            } else {
                owners.push(owner);
            }

            saveData(STORAGE_KEYS.owners, owners);
            closeOwnerModal();
            loadOwners();
        }

        function openAppointmentModal() {
            const owners = getData(STORAGE_KEYS.owners);
            let ownerOptions = '<option value="">Select owner...</option>';
            owners.forEach(o => {
                ownerOptions += `<option value="${o.id}">${o.name}</option>`;
            });
            document.getElementById('appointmentOwner').innerHTML = ownerOptions;

            const today = new Date().toISOString().split('T')[0];
            document.getElementById('appointmentDate').value = today;
            document.getElementById('appointmentTime').value = '09:00';
            document.getElementById('appointmentService').value = 'bath';
            document.getElementById('appointmentNotes').value = '';
            document.getElementById('appointmentId').value = '';

            document.getElementById('appointmentModal').classList.add('active');
        }

        function closeAppointmentModal() {
            document.getElementById('appointmentModal').classList.remove('active');
        }

        function updateAppointmentPets() {
            const ownerId = document.getElementById('appointmentOwner').value;
            const pets = getData(STORAGE_KEYS.pets);
            const ownerPets = pets.filter(p => p.ownerId === ownerId);

            let petOptions = '<option value="">Select pet...</option>';
            ownerPets.forEach(p => {
                petOptions += `<option value="${p.id}">${p.name}</option>`;
            });
            document.getElementById('appointmentPet').innerHTML = petOptions;
        }

        function saveAppointment(event) {
            event.preventDefault();

            const appointments = getData(STORAGE_KEYS.appointments);
            const id = document.getElementById('appointmentId').value;

            const appointment = {
                id: id || generateId(),
                ownerId: document.getElementById('appointmentOwner').value,
                petId: document.getElementById('appointmentPet').value,
                service: document.getElementById('appointmentService').value,
                date: document.getElementById('appointmentDate').value,
                time: document.getElementById('appointmentTime').value,
                notes: document.getElementById('appointmentNotes').value
            };

            if (id) {
                const index = appointments.findIndex(a => a.id === id);
                appointments[index] = appointment;
            } else {
                appointments.push(appointment);
            }

            saveData(STORAGE_KEYS.appointments, appointments);
            closeAppointmentModal();
            loadCalendar();
            loadDashboard();
        }

        function viewAppointment(id) {
            const appointments = getData(STORAGE_KEYS.appointments);
            const appt = appointments.find(a => a.id === id);
            if (!appt) return;

            const owners = getData(STORAGE_KEYS.owners);
            const pets = getData(STORAGE_KEYS.pets);

            let ownerOptions = '<option value="">Select owner...</option>';
            owners.forEach(o => {
                ownerOptions += `<option value="${o.id}" ${o.id === appt.ownerId ? 'selected' : ''}>${o.name}</option>`;
            });
            document.getElementById('appointmentOwner').innerHTML = ownerOptions;

            updateAppointmentPets();
            document.getElementById('appointmentPet').value = appt.petId;

            document.getElementById('appointmentId').value = appt.id;
            document.getElementById('appointmentService').value = appt.service;
            document.getElementById('appointmentDate').value = appt.date;
            document.getElementById('appointmentTime').value = appt.time;
            document.getElementById('appointmentNotes').value = appt.notes || '';

            document.getElementById('appointmentModal').classList.add('active');
        }

        // Utility functions
        function formatDate(dateStr) {
            if (!dateStr) return 'N/A';
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function formatTime(timeStr) {
            const [hour, minute] = timeStr.split(':');
            const h = parseInt(hour);
            const ampm = h >= 12 ? 'PM' : 'AM';
            const h12 = h % 12 || 12;
            return `${h12}:${minute} ${ampm}`;
        }

        function capitalize(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        function getServiceName(service) {
            const names = {
                'bath': 'Bath',
                'groom': 'Full Groom',
                'nail': 'Nail Trim',
                'boarding': 'Boarding'
            };
            return names[service] || service;
        }

        // Initialize app
        initializeData();
        loadDashboard();

        // Set default invoice owner dropdown
        window.addEventListener('load', () => {
            const owners = getData(STORAGE_KEYS.owners);
            let ownerOptions = '<option value="">Choose owner...</option>';
            owners.forEach(o => {
                ownerOptions += `<option value="${o.id}">${o.name}</option>`;
            });
            document.getElementById('invoiceOwner').innerHTML = ownerOptions;
        });
    </script>
<script>// Anti-scrape protection — injected into all tool pages
(function(){
  // Disable right-click context menu

  
  
  // Disable text selection on body (forms still selectable)
  
  
  // Re-enable for inputs/textareas
  document.querySelectorAll('input,textarea,select').forEach(function(el){
    el.style.userSelect = 'auto'; el.style.webkitUserSelect = 'auto';
  });
  
  // Disable drag
  document.addEventListener('dragstart', function(e){ e.preventDefault(); });
  
  // Disable print
  var style = document.createElement('style');
  style.textContent = '@media print { body { display: none !important; } }';
  document.head.appendChild(style);
  
  // Add invisible watermark
  var wm = document.createElement('div');
  wm.style.cssText = 'position:fixed;bottom:0;right:0;opacity:0.03;font-size:10px;pointer-events:none;z-index:99999;color:#000;';
  wm.textContent = 'Licensed demo — bennycutools.com — ' + new Date().toISOString().slice(0,10);
  document.body.appendChild(wm);
  
  // Detect devtools (basic)
  var threshold = 160;
  setInterval(function(){
    if (window.outerWidth - window.innerWidth > threshold || window.outerHeight - window.innerHeight > threshold) {
      document.body.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100vh;font-family:sans-serif;"><h1>This demo is proprietary. Please contact ben@bennycutools.com for licensing.</h1></div>';
    }
  }, 1000);
})();
</script>
</body>
</html>