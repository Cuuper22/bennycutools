<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <title>Chimney Safety Assessment ‚Äî Soot Seekers Chimney Service</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        soot: { 50:'#f5f5f5',100:'#e5e5e5',500:'#1a1a2e',600:'#141422',700:'#0f0f1a',800:'#0a0a11',900:'#050508' },
                        ember: { 50:'#fffbeb',100:'#fef3c7',200:'#fde68a',300:'#fcd34d',400:'#fbbf24',500:'#f59e0b',600:'#d97706' },
                        flame: { 50:'#fef2f2',100:'#fee2e2',500:'#ef4444',600:'#dc2626' }
                    },
                    fontFamily: { 'inter': ['Inter','system-ui','sans-serif'] }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Inter', system-ui, sans-serif; }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from{opacity:0;transform:translateY(12px);}to{opacity:1;transform:translateY(0);} }
        .slide-up { animation: slideUp 0.5s ease-out; }
        @keyframes slideUp { from{opacity:0;transform:translateY(24px);}to{opacity:1;transform:translateY(0);} }
        .opt-btn { transition: all 0.3s ease; }
        .opt-btn:hover { transform:translateY(-2px);box-shadow:0 8px 25px -5px rgba(0,0,0,0.1); }
        .opt-btn.selected { border-color:#f59e0b;background:#fffbeb; }
        .check-item { transition: all 0.2s ease; }
        .check-item.checked { background:#fef2f2;border-color:#ef4444; }
        .progress-fill { transition: width 0.5s ease; }
        .pulse-glow { animation:pulseGlow 2s ease-in-out infinite; }
        @keyframes pulseGlow { 0%,100%{box-shadow:0 0 0 0 rgba(245,158,11,0.3);}50%{box-shadow:0 0 0 8px rgba(245,158,11,0);} }
        .safety-card { background:linear-gradient(135deg,#1a1a2e 0%,#050508 100%); }
        .safety-meter { height:14px;border-radius:7px;background:linear-gradient(90deg,#ef4444 0%,#f59e0b 40%,#22c55e 75%,#22c55e 100%);position:relative; }
        .safety-needle { position:absolute;top:-5px;width:6px;height:24px;background:white;border-radius:3px;transition:left 0.8s ease;box-shadow:0 2px 8px rgba(0,0,0,0.4); }
    </style>

    <style>
    /* Kimi UI/UX Improvements */
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .radio-option, [class*="option"], [class*="choice"] { 
        min-height: 52px; transition: all 0.15s ease !important; 
    }
    .radio-option:active, [class*="option"]:active { transform: scale(0.98); }
    .btn-primary:active, [class*="btn"]:active { transform: translateY(1px); }
    /* Better progress bar */
    [class*="progress"] { height: 6px !important; border-radius: 3px; }
    </style>
    
</head>
<body class="bg-gray-50 min-h-screen">

    <header class="bg-soot-500 text-white">
        <div class="max-w-3xl mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold tracking-tight flex items-center gap-2">üî• Soot Seekers Chimney Service</h1>
                    <p class="text-gray-400 text-sm mt-1">Western Pennsylvania ‚Äî Since 1991</p>
                </div>
                <div class="text-right hidden sm:block">
                    <div class="text-ember-400 text-sm font-medium">CSIA Certified</div>
                    <p class="text-gray-400 text-xs">Owner on Every Job</p>
                </div>
            </div>
        </div>
    </header>

    <div class="bg-white border-b sticky top-0 z-40">
        <div class="max-w-3xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-600" id="stepLabel">Step 1 of 3</span>
                <span class="text-sm text-gray-400" id="stepPercent">33%</span>
            </div>
            <div class="w-full bg-gray-100 rounded-full h-2">
                <div class="bg-ember-500 h-2 rounded-full progress-fill" id="progressBar" style="width:33%"></div>
            </div>
        </div>
    </div>

    <main class="max-w-3xl mx-auto px-4 py-8">

        <!-- Step 1 -->
        <div id="step1" class="fade-in">
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-14 h-14 bg-ember-100 rounded-2xl mb-4">
                    <i data-lucide="flame" class="w-7 h-7 text-ember-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">Tell us about your fireplace</h2>
                <p class="text-gray-500 mt-2">We'll assess your chimney's safety and maintenance needs</p>
            </div>

            <div class="space-y-6 mb-8">
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">What type of heating system?</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="selectOpt('fuelType','wood')" data-opt="fuelType-wood" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">ü™µ</div><span class="text-sm font-medium text-gray-700">Wood Burning</span>
                        </button>
                        <button onclick="selectOpt('fuelType','gas')" data-opt="fuelType-gas" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üîµ</div><span class="text-sm font-medium text-gray-700">Gas Fireplace</span>
                        </button>
                        <button onclick="selectOpt('fuelType','oil')" data-opt="fuelType-oil" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üõ¢Ô∏è</div><span class="text-sm font-medium text-gray-700">Oil/Coal</span>
                        </button>
                        <button onclick="selectOpt('fuelType','pellet')" data-opt="fuelType-pellet" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üü§</div><span class="text-sm font-medium text-gray-700">Pellet Stove</span>
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">Last chimney inspection or cleaning?</h3>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <button onclick="selectOpt('lastClean','1')" data-opt="lastClean-1" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">Within 1 year</button>
                        <button onclick="selectOpt('lastClean','2')" data-opt="lastClean-2" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">1‚Äì2 years</button>
                        <button onclick="selectOpt('lastClean','3')" data-opt="lastClean-3" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">3‚Äì5 years</button>
                        <button onclick="selectOpt('lastClean','6')" data-opt="lastClean-6" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">5+ years</button>
                        <button onclick="selectOpt('lastClean','never')" data-opt="lastClean-never" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">Never / Unknown</button>
                    </div>
                </div>

                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">How often do you use it?</h3>
                    <div class="grid grid-cols-3 gap-3">
                        <button onclick="selectOpt('usage','daily')" data-opt="usage-daily" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">Daily in winter</button>
                        <button onclick="selectOpt('usage','weekly')" data-opt="usage-weekly" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">Weekly</button>
                        <button onclick="selectOpt('usage','rarely')" data-opt="usage-rarely" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">Rarely / Never</button>
                    </div>
                </div>
            </div>

            <button onclick="goToStep(2)" id="step1Next" class="w-full bg-ember-500 hover:bg-ember-600 text-white font-semibold py-4 rounded-xl transition disabled:opacity-40" disabled>Continue ‚Üí</button>
        </div>

        <!-- Step 2: Warning Signs -->
        <div id="step2" class="hidden">
            <div class="text-center mb-8 fade-in">
                <div class="inline-flex items-center justify-center w-14 h-14 bg-flame-100 rounded-2xl mb-4">
                    <i data-lucide="alert-triangle" class="w-7 h-7 text-flame-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">Any warning signs?</h2>
                <p class="text-gray-500 mt-2">Select all that apply</p>
            </div>

            <div class="space-y-2 mb-8">
                <button onclick="toggleSign('smoke')" data-sign="smoke" class="check-item w-full border-2 border-gray-200 rounded-xl p-4 text-left cursor-pointer bg-white flex items-center gap-3">
                    <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 sign-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                    <div><span class="text-sm font-medium text-gray-800">üí® Smoke coming into the room when fire is lit</span></div>
                </button>
                <button onclick="toggleSign('staining')" data-sign="staining" class="check-item w-full border-2 border-gray-200 rounded-xl p-4 text-left cursor-pointer bg-white flex items-center gap-3">
                    <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 sign-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                    <div><span class="text-sm font-medium text-gray-800">‚¨ú White staining (efflorescence) on chimney exterior</span></div>
                </button>
                <button onclick="toggleSign('cracks')" data-sign="cracks" class="check-item w-full border-2 border-gray-200 rounded-xl p-4 text-left cursor-pointer bg-white flex items-center gap-3">
                    <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 sign-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                    <div><span class="text-sm font-medium text-gray-800">üß± Cracked mortar, missing bricks, or leaning chimney</span></div>
                </button>
                <button onclick="toggleSign('odor')" data-sign="odor" class="check-item w-full border-2 border-gray-200 rounded-xl p-4 text-left cursor-pointer bg-white flex items-center gap-3">
                    <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 sign-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                    <div><span class="text-sm font-medium text-gray-800">üëÉ Strong smoky or musty odor even when not in use</span></div>
                </button>
                <button onclick="toggleSign('animals')" data-sign="animals" class="check-item w-full border-2 border-gray-200 rounded-xl p-4 text-left cursor-pointer bg-white flex items-center gap-3">
                    <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 sign-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                    <div><span class="text-sm font-medium text-gray-800">üê¶ Animal sounds, nesting debris, or creatures in chimney</span></div>
                </button>
                <button onclick="toggleSign('damper')" data-sign="damper" class="check-item w-full border-2 border-gray-200 rounded-xl p-4 text-left cursor-pointer bg-white flex items-center gap-3">
                    <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 sign-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                    <div><span class="text-sm font-medium text-gray-800">üîß Damper stuck, won't open/close properly</span></div>
                </button>
                <button onclick="toggleSign('none')" data-sign="none" class="check-item w-full border-2 border-gray-200 rounded-xl p-4 text-left cursor-pointer bg-white flex items-center gap-3">
                    <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 sign-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                    <span class="text-sm font-medium text-gray-800">‚úÖ No warning signs ‚Äî just want a checkup</span>
                </button>
            </div>

            <div class="flex gap-3">
                <button onclick="goToStep(1)" class="px-6 py-4 border-2 border-gray-200 rounded-xl text-gray-600 font-medium hover:bg-gray-50 transition">‚Üê Back</button>
                <button onclick="goToStep(3)" class="flex-1 bg-ember-500 hover:bg-ember-600 text-white font-semibold py-4 rounded-xl transition">Get Safety Report ‚Üí</button>
            </div>
        </div>

        <!-- Step 3: Results -->
        <div id="step3" class="hidden">
            <div class="slide-up">
                <div class="safety-card rounded-3xl p-8 text-white mb-8">
                    <div class="flex items-center gap-2 mb-4">
                        <i data-lucide="shield-check" class="w-5 h-5 text-ember-400"></i>
                        <span class="text-ember-300 font-medium text-sm uppercase tracking-wide">Chimney Safety Score</span>
                    </div>
                    <div class="flex items-end gap-3 mb-4">
                        <span class="text-6xl font-extrabold" id="safetyScore">0</span>
                        <span class="text-2xl text-gray-400 mb-2">/100</span>
                    </div>
                    <div class="safety-meter mb-2">
                        <div class="safety-needle" id="safetyNeedle" style="left:50%"></div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-400 mb-4">
                        <span>High Risk</span><span>Needs Service</span><span>Fair</span><span>Safe</span>
                    </div>
                    <p class="text-gray-300 text-sm" id="safetySummary">‚Äî</p>

                    <div class="mt-6 pt-6 border-t border-white/10 grid grid-cols-2 gap-4 text-sm">
                        <div><span class="text-gray-400">Recommended Service</span><div class="font-bold text-lg mt-0.5" id="recService">‚Äî</div></div>
                        <div><span class="text-gray-400">Estimated Cost</span><div class="font-bold text-lg mt-0.5" id="costRange">$0</div></div>
                    </div>
                </div>

                <!-- Fire risk callout -->
                <div id="fireRisk" class="bg-flame-50 border border-red-200 rounded-2xl p-6 mb-6 hidden">
                    <div class="flex items-start gap-3">
                        <div class="text-2xl">üî•</div>
                        <div>
                            <div class="font-semibold text-red-900">Chimney Fire Risk</div>
                            <div class="text-sm text-red-700 mt-1" id="fireRiskText">‚Äî</div>
                        </div>
                    </div>
                </div>

                <!-- PA Info -->
                <div class="bg-blue-50 border border-blue-200 rounded-2xl p-6 mb-6">
                    <div class="flex items-start gap-3">
                        <div class="text-2xl">üèîÔ∏è</div>
                        <div>
                            <div class="font-semibold text-blue-900">Western PA Chimney Facts</div>
                            <div class="text-sm text-blue-700 mt-1">Pittsburgh-area homes face harsh winters with heavy chimney use. The NFPA recommends annual chimney inspections. Creosote buildup from wood burning is the #1 cause of chimney fires in Pennsylvania. John at Soot Seekers has been keeping Western PA families safe since 1991 ‚Äî CSIA Certified with the owner on every job.</div>
                        </div>
                    </div>
                </div>

                <!-- CTA -->
                <div class="bg-white rounded-2xl border-2 border-ember-200 p-6 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-2">Schedule Your Chimney Service</h3>
                    <p class="text-gray-500 text-sm mb-5">Owner John personally handles every job. CSIA Certified. Clean, dust-free service guaranteed.</p>
                    <div class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                                <input type="text" id="bookName" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-ember-500 focus:border-ember-500 outline-none transition" placeholder="Your name">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                <input type="tel" id="bookPhone" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-ember-500 focus:border-ember-500 outline-none transition" placeholder="(724) 555-1234">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">County</label>
                            <select id="bookCounty" class="w-full border border-gray-300 rounded-xl px-4 py-3 bg-white focus:ring-2 focus:ring-ember-500 focus:border-ember-500 outline-none transition">
                                <option value="">Select county...</option>
                                <option>Beaver County</option>
                                <option>Allegheny County</option>
                                <option>Butler County</option>
                                <option>Washington County</option>
                                <option>Lawrence County</option>
                                <option>Other</option>
                            </select>
                        </div>
                        <button onclick="submitBooking()" class="w-full bg-ember-500 hover:bg-ember-600 text-white font-bold py-4 rounded-xl transition pulse-glow flex items-center justify-center gap-2">
                            <i data-lucide="calendar" class="w-5 h-5"></i>
                            Schedule Service with John
                        </button>
                    </div>
                </div>

                <div class="text-center py-4">
                    <p class="text-gray-400 text-sm mb-2">Call John directly</p>
                    <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                        <a href="tel:7248471915" class="flex items-center gap-2 text-soot-500 font-bold hover:text-soot-600 transition"><i data-lucide="phone" class="w-4 h-4"></i>(724) 847-1915 <span class="text-xs text-gray-400">Beaver Co.</span></a>
                        <a href="tel:4122792074" class="flex items-center gap-2 text-soot-500 font-bold hover:text-soot-600 transition"><i data-lucide="phone" class="w-4 h-4"></i>(412) 279-2074 <span class="text-xs text-gray-400">Allegheny Co.</span></a>
                    </div>
                </div>

                <button onclick="startOver()" class="w-full border-2 border-gray-200 rounded-xl text-gray-600 font-medium py-4 hover:bg-gray-50 transition mt-4">Start Over</button>
            </div>
        </div>

        <div id="thankYou" class="hidden text-center py-12">
            <div class="slide-up">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6">
                    <i data-lucide="check-circle-2" class="w-10 h-10 text-green-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Service Request Sent!</h2>
                <p class="text-gray-500 max-w-md mx-auto">John at Soot Seekers will reach out to schedule your appointment. He's been keeping Western PA chimneys safe since 1991.</p>
                <button onclick="startOver()" class="mt-8 text-ember-600 font-medium hover:text-ember-700 transition">Run another assessment ‚Üí</button>
            </div>
        </div>
    </main>

    <footer class="bg-soot-700 text-white mt-16">
        <div class="max-w-3xl mx-auto px-4 py-8">
            <div class="flex flex-col md:flex-row justify-between items-start gap-6">
                <div>
                    <h3 class="font-bold text-lg">üî• Soot Seekers Chimney Service</h3>
                    <p class="text-gray-400 text-sm mt-1">3556 37th Street Ext, Beaver Falls, PA 15010</p>
                    <p class="text-gray-400 text-sm">(724) 847-1915 / (412) 279-2074</p>
                    <p class="text-gray-400 text-sm">CSIA Certified ‚Ä¢ Since 1991 ‚Ä¢ PA License #34308</p>
                </div>
                <div class="text-sm text-gray-400">
                    <p>Beaver & Allegheny Counties</p>
                    <p class="mt-2 text-gray-500 text-xs">Safety scores are estimates. Professional inspection recommended for definitive assessment.<br>Demo tool by <a href="https://bennycutools.com" class="underline hover:text-white">BennyCu Tools</a>.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        let state = { fuelType:null, lastClean:null, usage:null, signs:new Set() };

        function selectOpt(key,val) {
            state[key]=val;
            document.querySelectorAll(`[data-opt^="${key}-"]`).forEach(el=>el.classList.remove('selected'));
            document.querySelector(`[data-opt="${key}-${val}"]`).classList.add('selected');
            checkStep1();
        }

        function toggleSign(sign) {
            const el=document.querySelector(`[data-sign="${sign}"]`);
            if(state.signs.has(sign)){state.signs.delete(sign);el.classList.remove('checked');el.querySelector('.sign-box').style.background='';el.querySelector('.sign-box').style.borderColor='';}
            else{if(sign==='none'){state.signs.clear();document.querySelectorAll('[data-sign]').forEach(e=>{e.classList.remove('checked');e.querySelector('.sign-box').style.background='';e.querySelector('.sign-box').style.borderColor='';});}else state.signs.delete('none');state.signs.add(sign);el.classList.add('checked');el.querySelector('.sign-box').style.background=sign==='none'?'#22c55e':'#ef4444';el.querySelector('.sign-box').style.borderColor=sign==='none'?'#22c55e':'#ef4444';}
        }

        function checkStep1(){document.getElementById('step1Next').disabled=!(state.fuelType&&state.lastClean&&state.usage);}

        function calcScore(){
            let s=100;
            if(state.lastClean==='1') s-=0;
            else if(state.lastClean==='2') s-=10;
            else if(state.lastClean==='3') s-=25;
            else if(state.lastClean==='6') s-=45;
            else if(state.lastClean==='never') s-=55;

            if(state.fuelType==='wood') s-=10;
            else if(state.fuelType==='oil') s-=5;

            if(state.usage==='daily') s-=10;
            else if(state.usage==='rarely') s+=5;

            const p={smoke:15,staining:10,cracks:20,odor:10,animals:8,damper:12};
            state.signs.forEach(sg=>{if(p[sg])s-=p[sg];});
            if(state.signs.has('none'))s+=5;
            return Math.max(5,Math.min(100,s));
        }

        function goToStep(step){
            for(let i=1;i<=3;i++)document.getElementById('step'+i).classList.add('hidden');
            document.getElementById('thankYou').classList.add('hidden');
            const t=document.getElementById('step'+step);t.classList.remove('hidden');t.classList.add('fade-in');
            const labels=['','Step 1 of 3 ‚Äî Fireplace Details','Step 2 of 3 ‚Äî Warning Signs','Step 3 of 3 ‚Äî Safety Report'];
            const pcts=['','33','66','100'];
            document.getElementById('stepLabel').textContent=labels[step];
            document.getElementById('stepPercent').textContent=pcts[step]+'%';
            document.getElementById('progressBar').style.width=pcts[step]+'%';
            if(step===3)renderReport();
            window.scrollTo({top:0,behavior:'smooth'});
        }

        function renderReport(){
            const score=calcScore();
            document.getElementById('safetyScore').textContent=score;
            document.getElementById('safetyNeedle').style.left=score+'%';

            let summary,service,cLow,cHigh,showFire=false,fireText='';
            if(score>=80){summary="Your chimney appears well-maintained. Continue annual inspections to keep it safe. John recommends a yearly sweep for wood-burning systems and inspection every 1-2 years for gas.";service='Annual Sweep';cLow=150;cHigh=250;}
            else if(score>=55){summary="Your chimney is due for service. Creosote buildup increases with each use, and inspections catch problems before they become expensive repairs or fire hazards.";service='Sweep + Level 1 Inspection';cLow=200;cHigh=350;}
            else if(score>=30){summary="Your chimney has concerning indicators. Multiple warning signs combined with overdue maintenance significantly increases fire risk and carbon monoxide exposure.";service='Level 2 Inspection + Sweep';cLow=300;cHigh=500;showFire=true;fireText='Your combination of overdue maintenance and warning signs places your home at elevated risk for a chimney fire. The NFPA reports that chimney fires cause over $125 million in property damage annually. A professional inspection should be prioritized.';}
            else{summary="Your chimney presents serious safety concerns. The warning signs you've described, combined with lack of maintenance, create significant fire and carbon monoxide risk. Professional inspection should not be delayed.";service='Emergency Inspection';cLow=350;cHigh=600;showFire=true;fireText='CRITICAL: The signs you describe suggest possible creosote glazing, structural damage, or obstruction ‚Äî all direct chimney fire precursors. Do NOT use the fireplace until a CSIA-certified technician has inspected it. This is not about maintenance ‚Äî this is about safety.';}

            document.getElementById('safetySummary').textContent=summary;
            document.getElementById('recService').textContent=service;
            document.getElementById('costRange').textContent='$'+cLow+' ‚Äì $'+cHigh;

            if(showFire){document.getElementById('fireRisk').classList.remove('hidden');document.getElementById('fireRiskText').textContent=fireText;}
            else document.getElementById('fireRisk').classList.add('hidden');
            lucide.createIcons();
        }

        function submitBooking(){
            const name=document.getElementById('bookName').value.trim();
            const phone=document.getElementById('bookPhone').value.trim();
            if(!name||!phone){alert('Please enter your name and phone.');return;}
            const subs=JSON.parse(localStorage.getItem('ss-submissions')||'[]');
            subs.push({name,phone,county:document.getElementById('bookCounty').value,...state,signs:Array.from(state.signs),score:calcScore(),timestamp:new Date().toISOString()});
            localStorage.setItem('ss-submissions',JSON.stringify(subs));
            document.getElementById('step3').classList.add('hidden');
            document.getElementById('thankYou').classList.remove('hidden');
            window.scrollTo({top:0,behavior:'smooth'});
        }

        function startOver(){
            state={fuelType:null,lastClean:null,usage:null,signs:new Set()};
            document.querySelectorAll('.opt-btn,.check-item').forEach(el=>el.classList.remove('selected','checked'));
            document.querySelectorAll('.sign-box').forEach(el=>{el.style.background='';el.style.borderColor='';});
            document.getElementById('step1Next').disabled=true;
            document.getElementById('bookName').value='';document.getElementById('bookPhone').value='';document.getElementById('bookCounty').value='';
            goToStep(1);
        }

        document.addEventListener('DOMContentLoaded',()=>{lucide.createIcons();});
    </script>
</body>
</html>
