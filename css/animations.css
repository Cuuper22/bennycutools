/* ============================================================
   BennyCuTools â€” Animation Classes
   animations.css: GSAP-dependent classes and fallbacks
   ============================================================ */

/* --- Initial states for GSAP-animated elements --- */
/* Progressive enhancement: all animated elements are visible by default.
   Hidden states are set by JavaScript (gsap-init.js) ONLY after GSAP loads.
   If JS fails or GSAP CDN is down, all content remains readable. */
[data-animate] {
  opacity: 1 !important;
  transform: none !important;
}

/* Override GSAP-set inline styles after page load if animations fail */
.gsap-fallback [data-animate],
.gsap-fallback .pricing-card,
.gsap-fallback .feature-card,
.gsap-fallback .stat-card,
.gsap-fallback .step,
.gsap-fallback .mc-step,
.gsap-fallback .rv-step,
.gsap-fallback .portfolio-card,
.gsap-fallback .faq-item,
.gsap-fallback .service-card,
.gsap-fallback .sms-bubble,
.gsap-fallback .roi-calculator,
.gsap-fallback .final-cta,
.gsap-fallback .audit-cta,
.gsap-fallback .rv-hero-feature,
.gsap-fallback .founding-banner,
.gsap-fallback .sprint-offer,
.gsap-fallback .section-label,
.gsap-fallback .proof-item,
.gsap-fallback .demo-card,
.gsap-fallback .demo-panel,
.gsap-fallback .split-word-inner {
  opacity: 1 !important;
  transform: none !important;
  visibility: visible !important;
}

/* --- Split text word wrapper --- */
.split-word {
  display: inline-block;
  overflow: visible;
  vertical-align: top;
}

.split-word-inner {
  display: inline-block;
  opacity: 1 !important;
}

/* Allow wrapping on mobile */
@media (max-width: 767px) {
  .split-word {
    display: inline;
  }
  .split-word-inner {
    display: inline;
    opacity: 1 !important;
  }
}

/* Ensure split text is always visible */
h1 .split-word-inner,
h2 .split-word-inner,
h3 .split-word-inner,
[data-split] .split-word-inner {
  opacity: 1 !important;
  transform: none !important;
}

/* Split text initial states are handled entirely by GSAP inline styles
   to avoid CSS specificity conflicts. No CSS hiding here. */

/* --- Counter placeholder --- */
.counter-value {
  display: inline-block;
  min-width: 1ch;
}

/* --- Parallax layers --- */
.parallax-orb {
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  will-change: transform;
  filter: blur(60px);
}

/* --- SVG line draw --- */
.draw-line {
  stroke-dasharray: var(--line-length, 1000);
  stroke-dashoffset: var(--line-length, 1000);
}

/* --- Phone float --- */
.phone-float {
  will-change: transform;
}

/* --- Card hover 3D tilt --- */
.tilt-card {
  transition: transform 0.4s ease, box-shadow 0.4s ease;
  transform-style: preserve-3d;
}

.tilt-card:hover {
  transform: perspective(1000px) rotateY(2deg) rotateX(-1deg) translateY(-4px);
  box-shadow: var(--shadow-xl);
}

/* --- Reduced motion fallback --- */
@media (prefers-reduced-motion: reduce) {
  [data-animate],
  .split-word-inner,
  .pricing-card,
  .feature-card,
  .stat-card,
  .step,
  .mc-step,
  .rv-step,
  .portfolio-card,
  .faq-item,
  .service-card,
  .sms-bubble,
  .roi-calculator,
  .final-cta,
  .audit-cta,
  .rv-hero-feature,
  .founding-banner,
  .sprint-offer,
  .section-label,
  .proof-item,
  .demo-card {
    opacity: 1 !important;
    transform: none !important;
    visibility: visible !important;
  }

  .tilt-card:hover {
    transform: translateY(-4px);
  }

  .phone-float {
    animation: none !important;
  }

  .draw-line {
    stroke-dashoffset: 0 !important;
  }
}

/* --- Safety fallback: ensure all critical content is visible --- */
/* Elements start visible. GSAP animations enhance, never gate. */
.pricing-card,
.feature-card,
.stat-card,
.step,
.mc-step,
.rv-step,
.portfolio-card,
.faq-item,
.service-card,
.roi-calculator,
.final-cta,
.audit-cta,
.rv-hero-feature,
.founding-banner,
.sprint-offer,
.section-label,
.proof-item,
.site-footer,
.demo-panel.active,
section,
footer {
  opacity: 1;
  visibility: visible;
}

/* --- Loading shimmer for dashboard mockup --- */
.shimmer {
  background: linear-gradient(90deg, var(--color-surface) 25%, var(--color-border-subtle) 50%, var(--color-surface) 75%);
  background-size: 200% 100%;
}

/* --- Gradient border animation helper --- */
.gradient-border {
  position: relative;
}

.gradient-border::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(135deg, var(--color-gradient-start), var(--color-gradient-mid), var(--color-gradient-end));
  z-index: -1;
  opacity: 0;
  transition: opacity 0.3s;
}

.gradient-border:hover::before {
  opacity: 1;
}

/* --- Progress bar for demo cycling --- */
.progress-bar {
  height: 3px;
  background: var(--color-surface);
  border-radius: 2px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-gradient-start), var(--color-gradient-mid));
  border-radius: 2px;
  width: 0;
  transition: width 0.1s linear;
}

/* --- Typing cursor --- */
.typing-cursor {
  display: inline-block;
  width: 2px;
  height: 1.1em;
  background: var(--color-accent);
  margin-left: 2px;
  vertical-align: text-bottom;
}

.typing-cursor.blink {
  animation: cursorBlink 1s step-end infinite;
}

@keyframes cursorBlink {
  50% { opacity: 0; }
}
