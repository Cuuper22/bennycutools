<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AcePro Dashboard ‚Äî Ace Plumbing Heating & Air</title>
<script>
// Access Key Verification
(function(){
  var p=new URLSearchParams(window.location.search);
  var k=p.get('key');
  if(k!=='ACE2026X9F'){
    document.addEventListener('DOMContentLoaded',function(){
      document.body.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100vh;background:#0F172A;font-family:Inter,sans-serif;"><div style="text-align:center;color:#F1F5F9;"><h1 style="font-size:48px;margin-bottom:16px;">üîí</h1><h2 style="font-size:24px;margin-bottom:8px;">Access Denied</h2><p style="color:#94A3B8;">This dashboard requires a valid access key.</p><p style="color:#64748B;margin-top:16px;font-size:13px;">Contact ben@bennycutools.com for access.</p></div></div>';
    });
  }
})();
</script>
<script>
// Anti-scrape protection
document.addEventListener('contextmenu',function(e){e.preventDefault();});
document.addEventListener('keydown',function(e){
  if(e.ctrlKey&&(e.key==='s'||e.key==='u'||e.key==='S'||e.key==='U')){e.preventDefault();}
  if(e.key==='F12'){e.preventDefault();}
  if(e.ctrlKey&&e.shiftKey&&(e.key==='I'||e.key==='J'||e.key==='C')){e.preventDefault();}
});
</script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<style>
:root {
  --primary: #1E40AF;
  --primary-light: #3B82F6;
  --secondary: #F97316;
  --secondary-light: #FB923C;
  --accent: #10B981;
  --accent-light: #34D399;
  --bg: #F8FAFC;
  --bg-card: #FFFFFF;
  --bg-sidebar: #0F172A;
  --text: #1E293B;
  --text-secondary: #64748B;
  --text-sidebar: #CBD5E1;
  --border: #E2E8F0;
  --shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
  --radius: 12px;
  --error: #EF4444;
  --warning: #F59E0B;
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.dark {
  --bg: #0F172A;
  --bg-card: #1E293B;
  --bg-sidebar: #020617;
  --text: #F1F5F9;
  --text-secondary: #94A3B8;
  --border: #334155;
  --shadow: 0 1px 3px rgba(0,0,0,0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.3);
}

* { margin: 0; padding: 0; box-sizing: border-box; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
  transition: var(--transition);
  overflow-x: hidden;
}

/* Sidebar */
.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  width: 260px;
  height: 100vh;
  background: var(--bg-sidebar);
  padding: 24px 16px;
  z-index: 100;
  overflow-y: auto;
  transition: var(--transition);
}

.sidebar-logo {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 0 8px 24px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  margin-bottom: 24px;
}

.sidebar-logo .logo-icon {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  color: white;
  font-weight: 800;
}

.sidebar-logo h1 {
  color: white;
  font-size: 18px;
  font-weight: 700;
}

.sidebar-logo span {
  color: var(--secondary);
  font-size: 11px;
  font-weight: 500;
  display: block;
}

.nav-section {
  margin-bottom: 24px;
}

.nav-section-title {
  color: var(--text-secondary);
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  padding: 0 12px;
  margin-bottom: 8px;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-radius: 8px;
  color: var(--text-sidebar);
  cursor: pointer;
  transition: var(--transition);
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
}

.nav-item:hover {
  background: rgba(255,255,255,0.08);
  color: white;
}

.nav-item.active {
  background: var(--primary);
  color: white;
}

.nav-item .nav-icon {
  width: 20px;
  text-align: center;
  font-size: 16px;
}

.nav-item .badge {
  margin-left: auto;
  background: var(--error);
  color: white;
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 10px;
  font-weight: 600;
}

/* Main Content */
.main {
  margin-left: 260px;
  padding: 24px 32px;
  min-height: 100vh;
  transition: var(--transition);
}

/* Top Bar */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 28px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border);
}

.topbar h2 {
  font-size: 24px;
  font-weight: 700;
}

.topbar-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.dark-toggle {
  width: 48px;
  height: 26px;
  background: var(--border);
  border-radius: 13px;
  position: relative;
  cursor: pointer;
  transition: var(--transition);
}

.dark-toggle.active {
  background: var(--primary);
}

.dark-toggle::after {
  content: '';
  position: absolute;
  width: 22px;
  height: 22px;
  background: white;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: var(--transition);
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.dark-toggle.active::after {
  left: 24px;
}

.topbar-btn {
  padding: 8px 16px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--bg-card);
  color: var(--text);
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition);
  font-family: 'Inter', sans-serif;
}

.topbar-btn:hover {
  border-color: var(--primary);
  color: var(--primary);
}

.topbar-btn.primary {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
}

.topbar-btn.primary:hover {
  background: var(--primary-light);
}

/* KPI Cards */
.kpi-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 28px;
}

.kpi-card {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 20px 24px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  transition: var(--transition);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeUp 0.5s ease forwards;
}

.kpi-card:nth-child(1) { animation-delay: 0.1s; }
.kpi-card:nth-child(2) { animation-delay: 0.2s; }
.kpi-card:nth-child(3) { animation-delay: 0.3s; }
.kpi-card:nth-child(4) { animation-delay: 0.4s; }
.kpi-card:nth-child(5) { animation-delay: 0.5s; }

.kpi-card:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

@keyframes fadeUp {
  to { opacity: 1; transform: translateY(0); }
}

.kpi-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.kpi-value {
  font-size: 28px;
  font-weight: 800;
  color: var(--text);
  line-height: 1;
}

.kpi-change {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  font-weight: 600;
  margin-top: 8px;
  padding: 3px 8px;
  border-radius: 6px;
}

.kpi-change.up {
  color: var(--accent);
  background: rgba(16, 185, 129, 0.1);
}

.kpi-change.down {
  color: var(--error);
  background: rgba(239, 68, 68, 0.1);
}

.kpi-icon {
  width: 44px;
  height: 44px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  margin-bottom: 12px;
}

.kpi-icon.blue { background: rgba(30, 64, 175, 0.1); }
.kpi-icon.orange { background: rgba(249, 115, 22, 0.1); }
.kpi-icon.green { background: rgba(16, 185, 129, 0.1); }
.kpi-icon.purple { background: rgba(139, 92, 246, 0.1); }
.kpi-icon.red { background: rgba(239, 68, 68, 0.1); }

/* Charts Grid */
.charts-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 20px;
  margin-bottom: 28px;
}

.chart-card {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 24px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  transition: var(--transition);
  opacity: 0;
  animation: fadeUp 0.6s ease forwards;
  animation-delay: 0.3s;
}

.chart-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
}

.chart-title {
  font-size: 16px;
  font-weight: 700;
}

.chart-tabs {
  display: flex;
  gap: 4px;
  background: var(--bg);
  padding: 3px;
  border-radius: 8px;
}

.chart-tab {
  padding: 5px 12px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  color: var(--text-secondary);
  transition: var(--transition);
  border: none;
  background: none;
  font-family: 'Inter', sans-serif;
}

.chart-tab.active {
  background: var(--bg-card);
  color: var(--text);
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.chart-container {
  position: relative;
  height: 280px;
}

/* Two Column Layout */
.two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 28px;
}

/* Table */
.data-table {
  width: 100%;
  border-collapse: collapse;
}

.data-table th {
  text-align: left;
  padding: 12px 16px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  border-bottom: 2px solid var(--border);
}

.data-table td {
  padding: 12px 16px;
  font-size: 14px;
  border-bottom: 1px solid var(--border);
  transition: var(--transition);
}

.data-table tr:hover td {
  background: rgba(30, 64, 175, 0.03);
}

.data-table .tech-name {
  display: flex;
  align-items: center;
  gap: 10px;
}

.tech-avatar {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 700;
  font-size: 13px;
}

.rating-stars {
  color: var(--secondary);
  font-size: 13px;
}

.status-badge {
  display: inline-flex;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}

.status-badge.scheduled { background: rgba(59,130,246,0.1); color: #3B82F6; }
.status-badge.in-progress { background: rgba(249,115,22,0.1); color: #F97316; }
.status-badge.completed { background: rgba(16,185,129,0.1); color: #10B981; }
.status-badge.invoiced { background: rgba(139,92,246,0.1); color: #8B5CF6; }
.status-badge.paid { background: rgba(16,185,129,0.15); color: #059669; }
.status-badge.emergency { background: rgba(239,68,68,0.1); color: #EF4444; }

/* Job Pipeline */
.pipeline {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
}

.pipeline-col {
  background: var(--bg);
  border-radius: 10px;
  padding: 14px;
}

.pipeline-col-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 12px;
}

.pipeline-col-title {
  font-size: 13px;
  font-weight: 600;
}

.pipeline-count {
  font-size: 12px;
  font-weight: 700;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  background: var(--bg-card);
}

.pipeline-job {
  background: var(--bg-card);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 8px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
  border-left: 3px solid;
  cursor: grab;
  transition: var(--transition);
}

.pipeline-job:hover {
  box-shadow: var(--shadow);
  transform: translateY(-1px);
}

.pipeline-job.plumbing { border-left-color: var(--primary); }
.pipeline-job.hvac { border-left-color: var(--secondary); }
.pipeline-job.air-quality { border-left-color: var(--accent); }

.pipeline-job-title {
  font-size: 13px;
  font-weight: 600;
  margin-bottom: 4px;
}

.pipeline-job-detail {
  font-size: 11px;
  color: var(--text-secondary);
}

/* Calendar */
.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
}

.cal-day-header {
  text-align: center;
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  padding: 8px 0;
}

.cal-day {
  min-height: 80px;
  background: var(--bg);
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 12px;
  transition: var(--transition);
}

.cal-day:hover {
  background: rgba(30, 64, 175, 0.05);
}

.cal-day-num {
  font-weight: 600;
  margin-bottom: 4px;
  font-size: 13px;
}

.cal-event {
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 500;
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.cal-event.plumbing { background: rgba(30,64,175,0.15); color: var(--primary); }
.cal-event.hvac { background: rgba(249,115,22,0.15); color: var(--secondary); }
.cal-event.emergency { background: rgba(239,68,68,0.15); color: var(--error); }

/* Review Cards */
.review-card {
  padding: 16px;
  border-radius: 8px;
  background: var(--bg);
  margin-bottom: 12px;
  transition: var(--transition);
}

.review-card:hover {
  background: rgba(30, 64, 175, 0.04);
}

.review-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}

.review-author {
  font-size: 14px;
  font-weight: 600;
}

.review-platform {
  font-size: 11px;
  color: var(--text-secondary);
  font-weight: 500;
}

.review-text {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* Inventory Alerts */
.alert-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-radius: 8px;
  margin-bottom: 8px;
  font-size: 13px;
  font-weight: 500;
}

.alert-item.warning {
  background: rgba(245, 158, 11, 0.1);
  border-left: 3px solid var(--warning);
}

.alert-item.critical {
  background: rgba(239, 68, 68, 0.1);
  border-left: 3px solid var(--error);
}

.alert-item.ok {
  background: rgba(16, 185, 129, 0.1);
  border-left: 3px solid var(--accent);
}

.alert-qty {
  font-weight: 700;
  font-size: 14px;
}

/* Service Area */
.area-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.area-tag {
  padding: 6px 14px;
  background: var(--bg);
  border-radius: 20px;
  font-size: 13px;
  font-weight: 500;
  transition: var(--transition);
  border: 1px solid var(--border);
}

.area-tag:hover {
  border-color: var(--primary);
  color: var(--primary);
  background: rgba(30, 64, 175, 0.05);
}

.area-tag.primary {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
}

/* Emergency Response */
.response-metric {
  text-align: center;
  padding: 24px;
}

.response-time {
  font-size: 48px;
  font-weight: 800;
  color: var(--accent);
}

.response-unit {
  font-size: 18px;
  color: var(--text-secondary);
  font-weight: 500;
}

.response-label {
  font-size: 13px;
  color: var(--text-secondary);
  margin-top: 4px;
}

.response-bar {
  height: 8px;
  background: var(--bg);
  border-radius: 4px;
  margin-top: 16px;
  overflow: hidden;
}

.response-bar-fill {
  height: 100%;
  border-radius: 4px;
  background: linear-gradient(90deg, var(--accent), var(--accent-light));
  transition: width 1.5s ease;
}

/* Sections */
.section {
  display: none;
}

.section.active {
  display: block;
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

/* Responsive */
@media (max-width: 1024px) {
  .sidebar { width: 220px; }
  .main { margin-left: 220px; padding: 20px; }
  .charts-grid { grid-template-columns: 1fr; }
  .two-col { grid-template-columns: 1fr; }
  .pipeline { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 768px) {
  .sidebar { transform: translateX(-100%); }
  .sidebar.open { transform: translateX(0); }
  .main { margin-left: 0; }
  .kpi-grid { grid-template-columns: repeat(2, 1fr); }
  .pipeline { grid-template-columns: 1fr; }
  .calendar-grid { display: none; }
}

/* Progress ring */
.progress-ring {
  position: relative;
  width: 120px;
  height: 120px;
  margin: 0 auto 16px;
}

.progress-ring svg {
  transform: rotate(-90deg);
}

.progress-ring circle {
  fill: none;
  stroke-width: 8;
}

.progress-ring .bg {
  stroke: var(--border);
}

.progress-ring .fg {
  stroke: var(--accent);
  stroke-linecap: round;
  stroke-dasharray: 339.3;
  stroke-dashoffset: 339.3;
  transition: stroke-dashoffset 1.5s ease;
}

.progress-value {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 24px;
  font-weight: 800;
}
</style>
</head>
<body>

<!-- Sidebar -->
<nav class="sidebar">
  <div class="sidebar-logo">
    <div class="logo-icon">A</div>
    <div>
      <h1>AcePro</h1>
      <span>Dashboard v2.0</span>
    </div>
  </div>
  
  <div class="nav-section">
    <div class="nav-section-title">Main</div>
    <a class="nav-item active" data-section="overview" onclick="showSection('overview')">
      <span class="nav-icon">üìä</span> Overview
    </a>
    <a class="nav-item" data-section="jobs" onclick="showSection('jobs')">
      <span class="nav-icon">üîß</span> Jobs
      <span class="badge">12</span>
    </a>
    <a class="nav-item" data-section="technicians" onclick="showSection('technicians')">
      <span class="nav-icon">üë∑</span> Technicians
    </a>
    <a class="nav-item" data-section="schedule" onclick="showSection('schedule')">
      <span class="nav-icon">üìÖ</span> Schedule
    </a>
  </div>
  
  <div class="nav-section">
    <div class="nav-section-title">Operations</div>
    <a class="nav-item" data-section="reviews" onclick="showSection('reviews')">
      <span class="nav-icon">‚≠ê</span> Reviews
    </a>
    <a class="nav-item" data-section="inventory" onclick="showSection('inventory')">
      <span class="nav-icon">üì¶</span> Inventory
      <span class="badge">3</span>
    </a>
    <a class="nav-item" data-section="emergency" onclick="showSection('emergency')">
      <span class="nav-icon">üö®</span> Emergency
    </a>
    <a class="nav-item" data-section="areas" onclick="showSection('areas')">
      <span class="nav-icon">üìç</span> Service Areas
    </a>
  </div>

  <div class="nav-section">
    <div class="nav-section-title">Analytics</div>
    <a class="nav-item" data-section="seasonal" onclick="showSection('seasonal')">
      <span class="nav-icon">üìà</span> Seasonal Trends
    </a>
  </div>
</nav>

<!-- Main Content -->
<div class="main">
  <!-- Overview Section -->
  <div class="section active" id="section-overview">
    <div class="topbar">
      <div>
        <h2>Dashboard Overview</h2>
        <p style="color: var(--text-secondary); font-size: 14px; margin-top: 4px;">Welcome back, Jerry. Here's what's happening at Ace Plumbing.</p>
      </div>
      <div class="topbar-actions">
        <span style="font-size: 13px; color: var(--text-secondary); margin-right: 8px;">‚òÄÔ∏è</span>
        <div class="dark-toggle" id="darkToggle" onclick="toggleDark()"></div>
        <span style="font-size: 13px; color: var(--text-secondary); margin-left: 4px;">üåô</span>
        <button class="topbar-btn" style="margin-left: 12px;">Export Report</button>
        <button class="topbar-btn primary">+ New Job</button>
      </div>
    </div>

    <!-- KPIs -->
    <div class="kpi-grid">
      <div class="kpi-card">
        <div class="kpi-icon blue">üí∞</div>
        <div class="kpi-label">Monthly Revenue</div>
        <div class="kpi-value">$387,250</div>
        <span class="kpi-change up">‚Üë 12.3% vs last month</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon orange">üîß</div>
        <div class="kpi-label">Active Jobs</div>
        <div class="kpi-value">47</div>
        <span class="kpi-change up">‚Üë 8 new today</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon green">‚ö°</div>
        <div class="kpi-label">Avg Response Time</div>
        <div class="kpi-value">28m</div>
        <span class="kpi-change up">‚Üë 15% faster</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon purple">‚≠ê</div>
        <div class="kpi-label">Customer Satisfaction</div>
        <div class="kpi-value">4.6</div>
        <span class="kpi-change up">‚Üë 0.2 this quarter</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon red">üë∑</div>
        <div class="kpi-label">Technicians Active</div>
        <div class="kpi-value">22/28</div>
        <span class="kpi-change down">6 on leave</span>
      </div>
    </div>

    <!-- Charts Row -->
    <div class="charts-grid">
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Revenue Breakdown</h3>
          <div class="chart-tabs">
            <button class="chart-tab active" onclick="updateRevenueChart('monthly')">Monthly</button>
            <button class="chart-tab" onclick="updateRevenueChart('quarterly')">Quarterly</button>
            <button class="chart-tab" onclick="updateRevenueChart('yearly')">Yearly</button>
          </div>
        </div>
        <div class="chart-container">
          <canvas id="revenueChart"></canvas>
        </div>
      </div>
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Service Mix</h3>
        </div>
        <div class="chart-container">
          <canvas id="serviceChart"></canvas>
        </div>
      </div>
    </div>

    <!-- Quick Jobs & Reviews -->
    <div class="two-col">
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Recent Jobs</h3>
          <button class="topbar-btn" onclick="showSection('jobs')">View All ‚Üí</button>
        </div>
        <table class="data-table">
          <thead>
            <tr><th>Job</th><th>Type</th><th>Status</th><th>Value</th></tr>
          </thead>
          <tbody>
            <tr><td>Water Heater Install ‚Äî Johnson</td><td>Plumbing</td><td><span class="status-badge in-progress">In Progress</span></td><td>$2,850</td></tr>
            <tr><td>AC System Replacement ‚Äî Martinez</td><td>HVAC</td><td><span class="status-badge scheduled">Scheduled</span></td><td>$12,500</td></tr>
            <tr><td>Emergency Pipe Burst ‚Äî Chen</td><td>Plumbing</td><td><span class="status-badge emergency">Emergency</span></td><td>$1,200</td></tr>
            <tr><td>Furnace Tune-Up ‚Äî Williams</td><td>HVAC</td><td><span class="status-badge completed">Completed</span></td><td>$189</td></tr>
            <tr><td>Duct Cleaning ‚Äî Davis</td><td>Air Quality</td><td><span class="status-badge invoiced">Invoiced</span></td><td>$450</td></tr>
          </tbody>
        </table>
      </div>
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Latest Reviews</h3>
          <span style="color: var(--secondary); font-size: 14px;">‚òÖ‚òÖ‚òÖ‚òÖ¬Ω 4.6 avg</span>
        </div>
        <div class="review-card">
          <div class="review-header">
            <span class="review-author">Jennifer M.</span>
            <span class="review-platform">Yelp ‚Ä¢ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
          </div>
          <p class="review-text">"I'm so happy with my new heat pump system! The installers Mike, Tim, Jeffrey and Jorge were skilled, fast, and professional."</p>
        </div>
        <div class="review-card">
          <div class="review-header">
            <span class="review-author">Shaziana A.</span>
            <span class="review-platform">Customer Lobby ‚Ä¢ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
          </div>
          <p class="review-text">"ACE plumbing did an awesome job replacing all 3 toilets. Ivan S. did an excellent job, was easy to work with and very courteous."</p>
        </div>
        <div class="review-card">
          <div class="review-header">
            <span class="review-author">Robert K.</span>
            <span class="review-platform">Nextdoor ‚Ä¢ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
          </div>
          <p class="review-text">"Reliable, honest and professional company. Alex did fantastic work on our water heater. Reasonable rates too!"</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Jobs Section -->
  <div class="section" id="section-jobs">
    <div class="topbar">
      <h2>Job Pipeline</h2>
      <div class="topbar-actions">
        <button class="topbar-btn">Filter</button>
        <button class="topbar-btn primary">+ New Job</button>
      </div>
    </div>
    
    <div class="pipeline">
      <div class="pipeline-col">
        <div class="pipeline-col-header">
          <span class="pipeline-col-title" style="color: #3B82F6;">üìã Scheduled</span>
          <span class="pipeline-count">5</span>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Water Line Repair</div>
          <div class="pipeline-job-detail">Thompson ‚Ä¢ Elk Grove ‚Ä¢ Feb 7</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$1,800</div>
        </div>
        <div class="pipeline-job hvac">
          <div class="pipeline-job-title">AC System Install</div>
          <div class="pipeline-job-detail">Martinez ‚Ä¢ Roseville ‚Ä¢ Feb 7</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$12,500</div>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Sewer Video Inspection</div>
          <div class="pipeline-job-detail">Park ‚Ä¢ Folsom ‚Ä¢ Feb 8</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$350</div>
        </div>
        <div class="pipeline-job hvac">
          <div class="pipeline-job-title">Heat Pump Installation</div>
          <div class="pipeline-job-detail">O'Brien ‚Ä¢ Davis ‚Ä¢ Feb 8</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$8,900</div>
        </div>
        <div class="pipeline-job air-quality">
          <div class="pipeline-job-title">Whole-House Dehumidifier</div>
          <div class="pipeline-job-detail">Garcia ‚Ä¢ Rancho Cordova ‚Ä¢ Feb 9</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$2,200</div>
        </div>
      </div>
      
      <div class="pipeline-col">
        <div class="pipeline-col-header">
          <span class="pipeline-col-title" style="color: #F97316;">üî® In Progress</span>
          <span class="pipeline-count">4</span>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Water Heater Install</div>
          <div class="pipeline-job-detail">Johnson ‚Ä¢ Sacramento ‚Ä¢ Alex</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$2,850</div>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Emergency Pipe Burst</div>
          <div class="pipeline-job-detail">Chen ‚Ä¢ Citrus Heights ‚Ä¢ Mike</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$1,200</div>
        </div>
        <div class="pipeline-job hvac">
          <div class="pipeline-job-title">Boiler Replacement</div>
          <div class="pipeline-job-detail">Williams ‚Ä¢ Woodland ‚Ä¢ Tim</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$6,500</div>
        </div>
        <div class="pipeline-job air-quality">
          <div class="pipeline-job-title">Air Purification System</div>
          <div class="pipeline-job-detail">Lee ‚Ä¢ Granite Bay ‚Ä¢ Jorge</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$1,800</div>
        </div>
      </div>

      <div class="pipeline-col">
        <div class="pipeline-col-header">
          <span class="pipeline-col-title" style="color: #10B981;">‚úÖ Completed</span>
          <span class="pipeline-count">6</span>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Toilet Replacement x3</div>
          <div class="pipeline-job-detail">Ahmadi ‚Ä¢ Sacramento ‚Ä¢ Ivan S.</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$1,500</div>
        </div>
        <div class="pipeline-job hvac">
          <div class="pipeline-job-title">Furnace Tune-Up</div>
          <div class="pipeline-job-detail">Williams ‚Ä¢ Rocklin ‚Ä¢ Jeffrey</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$189</div>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Hydro-Jetting Service</div>
          <div class="pipeline-job-detail">Patel ‚Ä¢ Elk Grove ‚Ä¢ Alex</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$650</div>
        </div>
        <div class="pipeline-job hvac">
          <div class="pipeline-job-title">Ductless AC Install</div>
          <div class="pipeline-job-detail">Nakamura ‚Ä¢ Folsom ‚Ä¢ Tim</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$4,200</div>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Backflow Prevention</div>
          <div class="pipeline-job-detail">Rodriguez ‚Ä¢ Davis ‚Ä¢ Mike</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$380</div>
        </div>
        <div class="pipeline-job air-quality">
          <div class="pipeline-job-title">Duct Cleaning</div>
          <div class="pipeline-job-detail">Davis ‚Ä¢ Sacramento ‚Ä¢ Jorge</div>
          <div class="pipeline-job-detail" style="margin-top:4px;font-weight:600;">$450</div>
        </div>
      </div>

      <div class="pipeline-col">
        <div class="pipeline-col-header">
          <span class="pipeline-col-title" style="color: #8B5CF6;">üí≥ Invoiced</span>
          <span class="pipeline-count">3</span>
        </div>
        <div class="pipeline-job hvac">
          <div class="pipeline-job-title">Full HVAC Replacement</div>
          <div class="pipeline-job-detail">Anderson ‚Ä¢ Roseville ‚Ä¢ $14,200</div>
          <div class="pipeline-job-detail" style="margin-top:4px;color:var(--warning);">Due in 5 days</div>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Trenchless Sewer Repair</div>
          <div class="pipeline-job-detail">Kim ‚Ä¢ Sacramento ‚Ä¢ $4,800</div>
          <div class="pipeline-job-detail" style="margin-top:4px;color:var(--warning);">Due in 3 days</div>
        </div>
        <div class="pipeline-job plumbing">
          <div class="pipeline-job-title">Gas Line Install</div>
          <div class="pipeline-job-detail">Brown ‚Ä¢ Citrus Heights ‚Ä¢ $2,100</div>
          <div class="pipeline-job-detail" style="margin-top:4px;color:var(--error);">Overdue!</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Technicians Section -->
  <div class="section" id="section-technicians">
    <div class="topbar">
      <h2>Technician Performance</h2>
      <div class="topbar-actions">
        <button class="topbar-btn">This Month</button>
        <button class="topbar-btn primary">Download Report</button>
      </div>
    </div>
    
    <div class="chart-card" style="margin-bottom: 20px;">
      <table class="data-table">
        <thead>
          <tr>
            <th>Technician</th>
            <th>Specialty</th>
            <th>Jobs (MTD)</th>
            <th>Revenue</th>
            <th>Avg Time</th>
            <th>Rating</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><div class="tech-name"><div class="tech-avatar" style="background:var(--primary);">AL</div>Alex L.</div></td>
            <td>Plumbing</td>
            <td>32</td>
            <td>$48,200</td>
            <td>2.1 hrs</td>
            <td><span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.9</td>
            <td><span class="status-badge completed">Active</span></td>
          </tr>
          <tr>
            <td><div class="tech-name"><div class="tech-avatar" style="background:var(--secondary);">IS</div>Ivan S.</div></td>
            <td>Plumbing</td>
            <td>28</td>
            <td>$41,600</td>
            <td>2.3 hrs</td>
            <td><span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.8</td>
            <td><span class="status-badge completed">Active</span></td>
          </tr>
          <tr>
            <td><div class="tech-name"><div class="tech-avatar" style="background:var(--accent);">MK</div>Mike K.</div></td>
            <td>HVAC</td>
            <td>25</td>
            <td>$62,300</td>
            <td>3.5 hrs</td>
            <td><span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.9</td>
            <td><span class="status-badge in-progress">On Job</span></td>
          </tr>
          <tr>
            <td><div class="tech-name"><div class="tech-avatar" style="background:#8B5CF6;">TW</div>Tim W.</div></td>
            <td>HVAC</td>
            <td>24</td>
            <td>$58,100</td>
            <td>3.2 hrs</td>
            <td><span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> 4.7</td>
            <td><span class="status-badge in-progress">On Job</span></td>
          </tr>
          <tr>
            <td><div class="tech-name"><div class="tech-avatar" style="background:var(--error);">JH</div>Jeffrey H.</div></td>
            <td>HVAC</td>
            <td>22</td>
            <td>$35,800</td>
            <td>2.8 hrs</td>
            <td><span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.8</td>
            <td><span class="status-badge completed">Active</span></td>
          </tr>
          <tr>
            <td><div class="tech-name"><div class="tech-avatar" style="background:var(--warning);">JR</div>Jorge R.</div></td>
            <td>Air Quality</td>
            <td>20</td>
            <td>$28,900</td>
            <td>2.5 hrs</td>
            <td><span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> 4.6</td>
            <td><span class="status-badge in-progress">On Job</span></td>
          </tr>
          <tr>
            <td><div class="tech-name"><div class="tech-avatar" style="background:#6366F1;">DM</div>David M.</div></td>
            <td>Plumbing</td>
            <td>18</td>
            <td>$32,400</td>
            <td>2.4 hrs</td>
            <td><span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> 4.5</td>
            <td><span class="status-badge scheduled">Off Duty</span></td>
          </tr>
          <tr>
            <td><div class="tech-name"><div class="tech-avatar" style="background:#EC4899;">SR</div>Sarah R.</div></td>
            <td>HVAC</td>
            <td>19</td>
            <td>$42,100</td>
            <td>3.0 hrs</td>
            <td><span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.9</td>
            <td><span class="status-badge completed">Active</span></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="charts-grid">
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Revenue by Technician</h3>
        </div>
        <div class="chart-container">
          <canvas id="techRevenueChart"></canvas>
        </div>
      </div>
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Jobs Completed (MTD)</h3>
        </div>
        <div class="chart-container">
          <canvas id="techJobsChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Schedule Section -->
  <div class="section" id="section-schedule">
    <div class="topbar">
      <h2>Weekly Schedule</h2>
      <div class="topbar-actions">
        <button class="topbar-btn">‚Üê Prev Week</button>
        <button class="topbar-btn primary">Feb 3 ‚Äì Feb 9, 2026</button>
        <button class="topbar-btn">Next Week ‚Üí</button>
      </div>
    </div>
    
    <div class="chart-card">
      <div style="display:flex;gap:12px;margin-bottom:16px;">
        <span style="font-size:12px;display:flex;align-items:center;gap:6px;"><span style="width:12px;height:12px;background:rgba(30,64,175,0.15);border-radius:3px;"></span> Plumbing</span>
        <span style="font-size:12px;display:flex;align-items:center;gap:6px;"><span style="width:12px;height:12px;background:rgba(249,115,22,0.15);border-radius:3px;"></span> HVAC</span>
        <span style="font-size:12px;display:flex;align-items:center;gap:6px;"><span style="width:12px;height:12px;background:rgba(239,68,68,0.15);border-radius:3px;"></span> Emergency</span>
      </div>
      <div class="calendar-grid">
        <div class="cal-day-header">Mon</div>
        <div class="cal-day-header">Tue</div>
        <div class="cal-day-header">Wed</div>
        <div class="cal-day-header">Thu</div>
        <div class="cal-day-header">Fri</div>
        <div class="cal-day-header">Sat</div>
        <div class="cal-day-header">Sun</div>
        
        <div class="cal-day">
          <div class="cal-day-num">3</div>
          <div class="cal-event plumbing">9a Water Heater</div>
          <div class="cal-event hvac">11a Furnace Tune</div>
          <div class="cal-event plumbing">2p Drain Clean</div>
        </div>
        <div class="cal-day">
          <div class="cal-day-num">4</div>
          <div class="cal-event hvac">8a AC Install</div>
          <div class="cal-event plumbing">10a Sewer Insp</div>
          <div class="cal-event emergency">1p EMERGENCY</div>
          <div class="cal-event hvac">3p Heat Pump</div>
        </div>
        <div class="cal-day">
          <div class="cal-day-num">5</div>
          <div class="cal-event plumbing">9a Gas Line</div>
          <div class="cal-event hvac">11a Boiler Rep</div>
          <div class="cal-event plumbing">2p Toilet Repl</div>
        </div>
        <div class="cal-day">
          <div class="cal-day-num">6</div>
          <div class="cal-event hvac">8a HVAC Replace</div>
          <div class="cal-event plumbing">10a Hydro-Jet</div>
          <div class="cal-event hvac">1p Duct Clean</div>
          <div class="cal-event plumbing">3p Backflow</div>
        </div>
        <div class="cal-day">
          <div class="cal-day-num">7</div>
          <div class="cal-event plumbing">9a Water Line</div>
          <div class="cal-event hvac">11a AC System</div>
          <div class="cal-event plumbing">2p Sewer Video</div>
        </div>
        <div class="cal-day">
          <div class="cal-day-num">8</div>
          <div class="cal-event hvac">9a Heat Pump</div>
          <div class="cal-event plumbing">11a Dehumidif</div>
        </div>
        <div class="cal-day">
          <div class="cal-day-num">9</div>
          <div class="cal-event emergency" style="margin-top:20px;">On-Call Only</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Reviews Section -->
  <div class="section" id="section-reviews">
    <div class="topbar">
      <h2>Customer Reviews</h2>
      <div class="topbar-actions">
        <button class="topbar-btn">All Platforms</button>
      </div>
    </div>
    
    <div class="kpi-grid" style="margin-bottom: 24px;">
      <div class="kpi-card">
        <div class="kpi-icon orange">‚≠ê</div>
        <div class="kpi-label">Overall Rating</div>
        <div class="kpi-value">4.6</div>
        <span class="kpi-change up">‚Üë 0.2 this quarter</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon blue">üìù</div>
        <div class="kpi-label">Total Reviews</div>
        <div class="kpi-value">409</div>
        <span class="kpi-change up">‚Üë 23 this month</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon green">üí¨</div>
        <div class="kpi-label">Response Rate</div>
        <div class="kpi-value">94%</div>
        <span class="kpi-change up">‚Üë 8% improvement</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon purple">üòä</div>
        <div class="kpi-label">NPS Score</div>
        <div class="kpi-value">72</div>
        <span class="kpi-change up">Excellent</span>
      </div>
    </div>

    <div class="two-col">
      <div class="chart-card">
        <h3 class="chart-title" style="margin-bottom:16px;">Yelp Reviews (409)</h3>
        <div class="review-card">
          <div class="review-header">
            <span class="review-author">Jennifer M.</span>
            <span class="review-platform">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ ‚Ä¢ Dec 2025</span>
          </div>
          <p class="review-text">"I'm so happy with my new heat pump system! The installers, Mike, Tim, Jeffrey and Jorge were skilled, fast, and professional. Would highly recommend Ace to anyone."</p>
        </div>
        <div class="review-card">
          <div class="review-header">
            <span class="review-author">Shaziana A.</span>
            <span class="review-platform">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ ‚Ä¢ Nov 2025</span>
          </div>
          <p class="review-text">"ACE plumbing did an awesome job replacing all 3 toilets in my household. Ivan S. did an excellent job, he was easy to work with and very courteous."</p>
        </div>
        <div class="review-card">
          <div class="review-header">
            <span class="review-author">Mark T.</span>
            <span class="review-platform">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ ‚Ä¢ Nov 2025</span>
          </div>
          <p class="review-text">"Good work, fair prices. Had them replace my water heater ‚Äî arrived on time and finished within 3 hours. The only thing is scheduling took a couple of calls."</p>
        </div>
      </div>
      <div class="chart-card">
        <h3 class="chart-title" style="margin-bottom:16px;">Review Distribution</h3>
        <div class="chart-container" style="height:240px;">
          <canvas id="reviewChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Inventory Section -->
  <div class="section" id="section-inventory">
    <div class="topbar">
      <h2>Inventory & Parts</h2>
      <div class="topbar-actions">
        <button class="topbar-btn">Order History</button>
        <button class="topbar-btn primary">+ Reorder</button>
      </div>
    </div>
    
    <div class="chart-card">
      <h3 class="chart-title" style="margin-bottom:16px;">Stock Alerts</h3>
      <div class="alert-item critical">
        <div>
          <strong>üî¥ 50-Gallon Water Heaters (Bradford White)</strong>
          <div style="font-size:12px;color:var(--text-secondary);margin-top:2px;">Only 2 remaining ‚Äî typically use 4/week</div>
        </div>
        <span class="alert-qty" style="color:var(--error);">2 left</span>
      </div>
      <div class="alert-item critical">
        <div>
          <strong>üî¥ 3/4" Copper Fittings (Assorted)</strong>
          <div style="font-size:12px;color:var(--text-secondary);margin-top:2px;">Below minimum threshold of 50</div>
        </div>
        <span class="alert-qty" style="color:var(--error);">18 left</span>
      </div>
      <div class="alert-item warning">
        <div>
          <strong>üü° Trane XR15 Condensing Units</strong>
          <div style="font-size:12px;color:var(--text-secondary);margin-top:2px;">3 installations scheduled this week</div>
        </div>
        <span class="alert-qty" style="color:var(--warning);">4 left</span>
      </div>
      <div class="alert-item warning">
        <div>
          <strong>üü° PVC 4" Pipe (10ft sections)</strong>
          <div style="font-size:12px;color:var(--text-secondary);margin-top:2px;">Usage trending up 20% this month</div>
        </div>
        <span class="alert-qty" style="color:var(--warning);">12 left</span>
      </div>
      <div class="alert-item ok">
        <div>
          <strong>üü¢ HVAC Air Filters (16x25x1)</strong>
          <div style="font-size:12px;color:var(--text-secondary);margin-top:2px;">Well stocked for next 3 weeks</div>
        </div>
        <span class="alert-qty" style="color:var(--accent);">84 left</span>
      </div>
      <div class="alert-item ok">
        <div>
          <strong>üü¢ Tankless Water Heaters (Rinnai)</strong>
          <div style="font-size:12px;color:var(--text-secondary);margin-top:2px;">2 installations scheduled, sufficient stock</div>
        </div>
        <span class="alert-qty" style="color:var(--accent);">6 left</span>
      </div>
      <div class="alert-item ok">
        <div>
          <strong>üü¢ Drain Snake Cables (100ft)</strong>
          <div style="font-size:12px;color:var(--text-secondary);margin-top:2px;">Replaced last week</div>
        </div>
        <span class="alert-qty" style="color:var(--accent);">8 left</span>
      </div>
    </div>
  </div>

  <!-- Emergency Section -->
  <div class="section" id="section-emergency">
    <div class="topbar">
      <h2>Emergency Response</h2>
      <div class="topbar-actions">
        <button class="topbar-btn primary">üö® Log Emergency</button>
      </div>
    </div>
    
    <div class="kpi-grid" style="margin-bottom: 24px;">
      <div class="kpi-card">
        <div class="response-metric">
          <div class="progress-ring">
            <svg width="120" height="120">
              <circle class="bg" cx="60" cy="60" r="54"></circle>
              <circle class="fg" id="responseRing" cx="60" cy="60" r="54"></circle>
            </svg>
            <div class="progress-value">28m</div>
          </div>
          <div class="response-label">Avg Response Time</div>
          <div style="font-size:11px;color:var(--accent);margin-top:4px;">‚úì Under 30min SLA</div>
        </div>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon red">üö®</div>
        <div class="kpi-label">Emergencies (MTD)</div>
        <div class="kpi-value">18</div>
        <span class="kpi-change down">‚Üë 3 more than last month</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon green">‚úÖ</div>
        <div class="kpi-label">SLA Compliance</div>
        <div class="kpi-value">96%</div>
        <span class="kpi-change up">‚Üë 2% improvement</span>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon blue">üí∞</div>
        <div class="kpi-label">Emergency Revenue</div>
        <div class="kpi-value">$24.8K</div>
        <span class="kpi-change up">‚Üë 18% vs last month</span>
      </div>
    </div>

    <div class="chart-card">
      <h3 class="chart-title" style="margin-bottom:16px;">Recent Emergency Calls</h3>
      <table class="data-table">
        <thead>
          <tr><th>Time</th><th>Customer</th><th>Issue</th><th>Area</th><th>Tech</th><th>Response</th><th>Status</th></tr>
        </thead>
        <tbody>
          <tr>
            <td>Today, 2:45 AM</td>
            <td>Chen Family</td>
            <td>Burst pipe ‚Äî flooding</td>
            <td>Citrus Heights</td>
            <td>Mike K.</td>
            <td style="color:var(--accent);font-weight:600;">18 min</td>
            <td><span class="status-badge in-progress">In Progress</span></td>
          </tr>
          <tr>
            <td>Yesterday, 11:30 PM</td>
            <td>J. Morris</td>
            <td>No heat ‚Äî furnace failure</td>
            <td>Sacramento</td>
            <td>Tim W.</td>
            <td style="color:var(--accent);font-weight:600;">22 min</td>
            <td><span class="status-badge completed">Resolved</span></td>
          </tr>
          <tr>
            <td>Yesterday, 6:15 PM</td>
            <td>Sanchez</td>
            <td>Gas leak suspected</td>
            <td>Elk Grove</td>
            <td>Alex L.</td>
            <td style="color:var(--accent);font-weight:600;">14 min</td>
            <td><span class="status-badge completed">Resolved</span></td>
          </tr>
          <tr>
            <td>Feb 4, 8:00 AM</td>
            <td>Office Park LLC</td>
            <td>Commercial AC failure</td>
            <td>Rancho Cordova</td>
            <td>Sarah R.</td>
            <td style="color:var(--warning);font-weight:600;">35 min</td>
            <td><span class="status-badge completed">Resolved</span></td>
          </tr>
          <tr>
            <td>Feb 3, 3:20 PM</td>
            <td>Davis Apts</td>
            <td>Sewer backup ‚Äî multi-unit</td>
            <td>Davis</td>
            <td>Ivan S.</td>
            <td style="color:var(--accent);font-weight:600;">25 min</td>
            <td><span class="status-badge completed">Resolved</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Service Areas Section -->
  <div class="section" id="section-areas">
    <div class="topbar">
      <h2>Service Areas</h2>
    </div>
    
    <div class="chart-card">
      <h3 class="chart-title" style="margin-bottom:16px;">Coverage Zones ‚Äî Greater Sacramento Metro</h3>
      <div class="area-tags">
        <span class="area-tag primary">Sacramento</span>
        <span class="area-tag">Arden-Arcade</span>
        <span class="area-tag">Broderick</span>
        <span class="area-tag">Citrus Heights</span>
        <span class="area-tag">Davis</span>
        <span class="area-tag">El Dorado Hills</span>
        <span class="area-tag">El Macero</span>
        <span class="area-tag">Elk Grove</span>
        <span class="area-tag">Folsom</span>
        <span class="area-tag">Galt</span>
        <span class="area-tag">Granite Bay</span>
        <span class="area-tag">Mather</span>
        <span class="area-tag">Rancho Cordova</span>
        <span class="area-tag">Rocklin</span>
        <span class="area-tag">Roseville</span>
        <span class="area-tag">Sloughhouse</span>
        <span class="area-tag">Vineyard</span>
        <span class="area-tag">Woodland</span>
      </div>
      
      <div style="margin-top:24px;">
        <h3 class="chart-title" style="margin-bottom:16px;">Service Calls by Area (This Month)</h3>
        <div class="chart-container" style="height:300px;">
          <canvas id="areaChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Seasonal Trends Section -->
  <div class="section" id="section-seasonal">
    <div class="topbar">
      <h2>Seasonal Demand Trends</h2>
    </div>
    
    <div class="chart-card" style="margin-bottom:20px;">
      <div class="chart-header">
        <h3 class="chart-title">Annual Demand Pattern ‚Äî Sacramento Market</h3>
        <span style="font-size:12px;color:var(--text-secondary);">Based on 50+ years of service data</span>
      </div>
      <div class="chart-container" style="height:320px;">
        <canvas id="seasonalChart"></canvas>
      </div>
    </div>

    <div class="two-col">
      <div class="chart-card">
        <h3 class="chart-title" style="margin-bottom:16px;">üå°Ô∏è Sacramento Climate Impact</h3>
        <div class="alert-item ok">
          <div><strong>Summer Peak (Jun-Sep)</strong><div style="font-size:12px;color:var(--text-secondary);">100¬∞F+ temps drive AC demand up 300%</div></div>
          <span class="alert-qty" style="color:var(--secondary);">HOT</span>
        </div>
        <div class="alert-item warning">
          <div><strong>Winter Surge (Nov-Feb)</strong><div style="font-size:12px;color:var(--text-secondary);">Heating failures spike, pipes freeze</div></div>
          <span class="alert-qty" style="color:var(--primary);">COLD</span>
        </div>
        <div class="alert-item ok">
          <div><strong>Spring/Fall Maintenance</strong><div style="font-size:12px;color:var(--text-secondary);">Best time for tune-ups and preventive work</div></div>
          <span class="alert-qty" style="color:var(--accent);">PREP</span>
        </div>
      </div>
      <div class="chart-card">
        <h3 class="chart-title" style="margin-bottom:16px;">üìã Staffing Recommendations</h3>
        <div class="alert-item ok">
          <div><strong>Current Staff: 22/28 active</strong><div style="font-size:12px;color:var(--text-secondary);">February ‚Äî moderate demand period</div></div>
          <span class="alert-qty" style="color:var(--accent);">OK</span>
        </div>
        <div class="alert-item warning">
          <div><strong>Hire 4-6 by May</strong><div style="font-size:12px;color:var(--text-secondary);">Summer demand requires 30+ technicians</div></div>
          <span class="alert-qty" style="color:var(--warning);">PLAN</span>
        </div>
        <div class="alert-item ok">
          <div><strong>Cross-train HVAC ‚Üí Plumbing</strong><div style="font-size:12px;color:var(--text-secondary);">Increase flexibility for shoulder seasons</div></div>
          <span class="alert-qty" style="color:var(--accent);">TIP</span>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
// Dark Mode Toggle
function toggleDark() {
  document.body.classList.toggle('dark');
  document.getElementById('darkToggle').classList.toggle('active');
  
  // Update all charts for dark mode
  const isDark = document.body.classList.contains('dark');
  Chart.defaults.color = isDark ? '#94A3B8' : '#64748B';
  Chart.defaults.borderColor = isDark ? '#334155' : '#E2E8F0';
  
  Object.values(Chart.instances).forEach(chart => chart.update());
}

// Section Navigation
function showSection(name) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  document.getElementById('section-' + name).classList.add('active');
  document.querySelector(`.nav-item[data-section="${name}"]`).classList.add('active');
  
  // Trigger chart animations when switching sections
  if (name === 'emergency') {
    setTimeout(() => animateResponseRing(), 300);
  }
}

// Revenue Chart
const revenueCtx = document.getElementById('revenueChart').getContext('2d');
const revenueData = {
  monthly: {
    labels: ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb'],
    plumbing: [145000, 132000, 128000, 142000, 155000, 168000, 178000],
    hvac: [210000, 185000, 125000, 138000, 165000, 142000, 158000],
    airQuality: [45000, 38000, 32000, 42000, 48000, 38000, 51250]
  },
  quarterly: {
    labels: ['Q1 2025', 'Q2 2025', 'Q3 2025', 'Q4 2025', 'Q1 2026'],
    plumbing: [380000, 420000, 445000, 425000, 346000],
    hvac: [310000, 520000, 610000, 428000, 300000],
    airQuality: [95000, 115000, 135000, 122000, 89250]
  },
  yearly: {
    labels: ['2021', '2022', '2023', '2024', '2025'],
    plumbing: [1420000, 1540000, 1680000, 1750000, 1670000],
    hvac: [1380000, 1520000, 1720000, 1868000, 1868000],
    airQuality: [320000, 380000, 420000, 467000, 467000]
  }
};

let revenueChart = new Chart(revenueCtx, {
  type: 'bar',
  data: {
    labels: revenueData.monthly.labels,
    datasets: [
      {
        label: 'Plumbing',
        data: revenueData.monthly.plumbing,
        backgroundColor: 'rgba(30, 64, 175, 0.8)',
        borderRadius: 6,
        borderSkipped: false
      },
      {
        label: 'HVAC',
        data: revenueData.monthly.hvac,
        backgroundColor: 'rgba(249, 115, 22, 0.8)',
        borderRadius: 6,
        borderSkipped: false
      },
      {
        label: 'Air Quality',
        data: revenueData.monthly.airQuality,
        backgroundColor: 'rgba(16, 185, 129, 0.8)',
        borderRadius: 6,
        borderSkipped: false
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: {
        position: 'bottom',
        labels: { usePointStyle: true, padding: 20, font: { family: 'Inter', size: 12 } }
      },
      tooltip: {
        callbacks: {
          label: ctx => `${ctx.dataset.label}: $${ctx.parsed.y.toLocaleString()}`
        }
      }
    },
    scales: {
      x: { stacked: true, grid: { display: false }, ticks: { font: { family: 'Inter', size: 12 } } },
      y: {
        stacked: true,
        ticks: {
          callback: v => '$' + (v/1000) + 'K',
          font: { family: 'Inter', size: 12 }
        },
        grid: { color: 'rgba(0,0,0,0.05)' }
      }
    },
    animation: { duration: 1000, easing: 'easeOutQuart' }
  }
});

function updateRevenueChart(period) {
  document.querySelectorAll('.chart-tab').forEach(t => t.classList.remove('active'));
  event.target.classList.add('active');
  
  const data = revenueData[period];
  revenueChart.data.labels = data.labels;
  revenueChart.data.datasets[0].data = data.plumbing;
  revenueChart.data.datasets[1].data = data.hvac;
  revenueChart.data.datasets[2].data = data.airQuality;
  revenueChart.update();
}

// Service Mix Donut
new Chart(document.getElementById('serviceChart').getContext('2d'), {
  type: 'doughnut',
  data: {
    labels: ['Plumbing', 'HVAC', 'Air Quality', 'Emergency'],
    datasets: [{
      data: [38, 42, 12, 8],
      backgroundColor: ['#1E40AF', '#F97316', '#10B981', '#EF4444'],
      borderWidth: 0,
      spacing: 4,
      borderRadius: 6
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    cutout: '70%',
    plugins: {
      legend: {
        position: 'bottom',
        labels: { usePointStyle: true, padding: 16, font: { family: 'Inter', size: 12 } }
      }
    },
    animation: { duration: 1200, easing: 'easeOutQuart' }
  }
});

// Tech Revenue Chart (horizontal bar)
const techRevCtx = document.getElementById('techRevenueChart');
if (techRevCtx) {
  new Chart(techRevCtx.getContext('2d'), {
    type: 'bar',
    data: {
      labels: ['Mike K.', 'Tim W.', 'Alex L.', 'Sarah R.', 'Ivan S.', 'Jeffrey H.', 'David M.', 'Jorge R.'],
      datasets: [{
        data: [62300, 58100, 48200, 42100, 41600, 35800, 32400, 28900],
        backgroundColor: ['#F97316', '#F97316', '#1E40AF', '#F97316', '#1E40AF', '#F97316', '#1E40AF', '#10B981'],
        borderRadius: 6,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { display: false },
        tooltip: { callbacks: { label: ctx => '$' + ctx.parsed.x.toLocaleString() } }
      },
      scales: {
        x: { ticks: { callback: v => '$' + (v/1000) + 'K', font: { family: 'Inter' } }, grid: { color: 'rgba(0,0,0,0.05)' } },
        y: { grid: { display: false }, ticks: { font: { family: 'Inter', size: 12 } } }
      },
      animation: { duration: 1000, easing: 'easeOutQuart' }
    }
  });
}

// Tech Jobs Chart
const techJobsCtx = document.getElementById('techJobsChart');
if (techJobsCtx) {
  new Chart(techJobsCtx.getContext('2d'), {
    type: 'bar',
    data: {
      labels: ['Alex L.', 'Ivan S.', 'Mike K.', 'Tim W.', 'Jeffrey H.', 'Jorge R.', 'Sarah R.', 'David M.'],
      datasets: [{
        data: [32, 28, 25, 24, 22, 20, 19, 18],
        backgroundColor: 'rgba(30, 64, 175, 0.7)',
        borderRadius: 6,
        borderSkipped: false
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { display: false } },
      scales: {
        x: { grid: { display: false }, ticks: { font: { family: 'Inter', size: 11 } } },
        y: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { font: { family: 'Inter' } } }
      },
      animation: { duration: 1000, easing: 'easeOutQuart' }
    }
  });
}

// Review Distribution Chart
const reviewCtx = document.getElementById('reviewChart');
if (reviewCtx) {
  new Chart(reviewCtx.getContext('2d'), {
    type: 'bar',
    data: {
      labels: ['5 Stars', '4 Stars', '3 Stars', '2 Stars', '1 Star'],
      datasets: [{
        data: [245, 98, 38, 16, 12],
        backgroundColor: ['#10B981', '#34D399', '#F59E0B', '#FB923C', '#EF4444'],
        borderRadius: 6,
        borderSkipped: false
      }]
    },
    options: {
      indexAxis: 'y',
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { display: false } },
      scales: {
        x: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { font: { family: 'Inter' } } },
        y: { grid: { display: false }, ticks: { font: { family: 'Inter', size: 12 } } }
      },
      animation: { duration: 800, easing: 'easeOutQuart' }
    }
  });
}

// Area Chart
const areaCtx = document.getElementById('areaChart');
if (areaCtx) {
  new Chart(areaCtx.getContext('2d'), {
    type: 'bar',
    data: {
      labels: ['Sacramento', 'Roseville', 'Elk Grove', 'Folsom', 'Citrus Heights', 'Rancho Cordova', 'Davis', 'Rocklin', 'Woodland', 'Granite Bay'],
      datasets: [{
        label: 'Service Calls',
        data: [145, 62, 58, 45, 42, 38, 35, 28, 22, 18],
        backgroundColor: 'rgba(30, 64, 175, 0.7)',
        borderRadius: 6,
        borderSkipped: false
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { display: false } },
      scales: {
        x: { grid: { display: false }, ticks: { font: { family: 'Inter', size: 11 }, maxRotation: 45 } },
        y: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { font: { family: 'Inter' } } }
      },
      animation: { duration: 1000, easing: 'easeOutQuart' }
    }
  });
}

// Seasonal Chart
const seasonalCtx = document.getElementById('seasonalChart');
if (seasonalCtx) {
  new Chart(seasonalCtx.getContext('2d'), {
    type: 'line',
    data: {
      labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
      datasets: [
        {
          label: 'HVAC Demand',
          data: [65, 55, 40, 35, 60, 95, 100, 98, 85, 45, 55, 70],
          borderColor: '#F97316',
          backgroundColor: 'rgba(249, 115, 22, 0.1)',
          fill: true,
          tension: 0.4,
          pointRadius: 4,
          pointHoverRadius: 6
        },
        {
          label: 'Plumbing Demand',
          data: [70, 65, 55, 50, 55, 60, 65, 60, 55, 50, 60, 75],
          borderColor: '#1E40AF',
          backgroundColor: 'rgba(30, 64, 175, 0.1)',
          fill: true,
          tension: 0.4,
          pointRadius: 4,
          pointHoverRadius: 6
        },
        {
          label: 'Emergency Calls',
          data: [45, 40, 25, 20, 25, 50, 55, 52, 40, 22, 30, 48],
          borderColor: '#EF4444',
          backgroundColor: 'rgba(239, 68, 68, 0.05)',
          fill: true,
          tension: 0.4,
          borderDash: [5, 5],
          pointRadius: 3,
          pointHoverRadius: 5
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'bottom',
          labels: { usePointStyle: true, padding: 20, font: { family: 'Inter', size: 12 } }
        },
        tooltip: {
          callbacks: { label: ctx => `${ctx.dataset.label}: ${ctx.parsed.y}% capacity` }
        }
      },
      scales: {
        x: { grid: { display: false }, ticks: { font: { family: 'Inter', size: 12 } } },
        y: {
          min: 0, max: 110,
          ticks: { callback: v => v + '%', font: { family: 'Inter' } },
          grid: { color: 'rgba(0,0,0,0.05)' }
        }
      },
      animation: { duration: 1500, easing: 'easeOutQuart' }
    }
  });
}

// Emergency Response Ring Animation
function animateResponseRing() {
  const ring = document.getElementById('responseRing');
  if (ring) {
    const pct = 0.82; // 82% of 30-min SLA used (28 min)
    ring.style.strokeDashoffset = 339.3 * (1 - pct);
  }
}

// Initial animation
setTimeout(() => animateResponseRing(), 1000);

// Animate KPI numbers
function animateValue(el, start, end, duration, prefix='', suffix='') {
  let startTime = null;
  function step(timestamp) {
    if (!startTime) startTime = timestamp;
    const progress = Math.min((timestamp - startTime) / duration, 1);
    const eased = 1 - Math.pow(1 - progress, 3);
    el.textContent = prefix + Math.floor(start + (end - start) * eased).toLocaleString() + suffix;
    if (progress < 1) requestAnimationFrame(step);
  }
  requestAnimationFrame(step);
}
</script>

<!-- BennyCuTools Purchase CTA ‚Äî injected by inject-cta.py -->
<style>
#bct-cta-bar {
  position: fixed;
  bottom: 48px;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  border-top: 2px solid #6366f1;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  z-index: 99998;
  flex-wrap: wrap;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
}
#bct-cta-bar .bct-cta-text {
  color: #e4e4e7;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  font-weight: 500;
}
#bct-cta-bar .bct-cta-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 20px;
  background: #6366f1;
  color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  text-decoration: none;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
}
#bct-cta-bar .bct-cta-btn:hover {
  background: #4f46e5;
  transform: translateY(-1px);
}
#bct-cta-bar .bct-cta-btn-secondary {
  background: transparent;
  border: 1px solid #6366f1;
  color: #a5b4fc;
}
#bct-cta-bar .bct-cta-btn-secondary:hover {
  background: rgba(99,102,241,0.15);
}
@media (max-width: 600px) {
  #bct-cta-bar {
    flex-direction: column;
    gap: 8px;
    padding: 8px 12px;
    bottom: 44px;
  }
  #bct-cta-bar .bct-cta-text { font-size: 12px; }
  #bct-cta-bar .bct-cta-btn { font-size: 13px; padding: 7px 16px; width: 100%; justify-content: center; }
}
</style>
<div id="bct-cta-bar" role="banner" aria-label="Purchase this tool">
  <span class="bct-cta-text">Like this tool? Make it yours.</span>
  <a class="bct-cta-btn" id="bct-buy-btn" href="https://bennycutools.com/buy.html">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
    Get It ‚Äî $200 One-Time
  </a>
  <a class="bct-cta-btn bct-cta-btn-secondary" href="mailto:cuuper225@gmail.com?subject=Question%20about%20my%20custom%20tool">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
    Questions? Email Ben
  </a>
</div>
<script>
// Auto-fill the buy link with the current tool's page name
(function(){
  try {
    var pg = location.pathname.replace(/.*\//, '').replace('.html','');
    var buyBtn = document.getElementById('bct-buy-btn');
    if (buyBtn && pg) {
      buyBtn.href = 'https://bennycutools.com/buy.html?tool=' + encodeURIComponent(pg);
    }
  } catch(e){}
})();
</script>
<!-- End BennyCuTools Purchase CTA -->

</body>
</html>
