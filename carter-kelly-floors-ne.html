<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Flooring Calculator | Carter Kelly Floors</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 25px;
            background: #f7fafc;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }
        
        .section h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4em;
        }
        
        .room-group {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 2px solid #e2e8f0;
        }
        
        .room-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .room-header h3 {
            color: #4a5568;
            font-size: 1.1em;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            color: #4a5568;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary {
            background: #e2e8f0;
            color: #2d3748;
        }
        
        .btn-secondary:hover {
            background: #cbd5e0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .btn-remove {
            background: #fc8181;
            padding: 8px 16px;
            font-size: 0.9em;
        }
        
        .btn-remove:hover {
            background: #f56565;
        }
        
        .results {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-top: 30px;
        }
        
        .results h2 {
            color: white;
            margin-bottom: 20px;
            font-size: 1.6em;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .result-item:last-child {
            border-bottom: none;
            font-size: 1.3em;
            font-weight: 700;
            margin-top: 10px;
            padding-top: 20px;
            border-top: 2px solid rgba(255,255,255,0.4);
        }
        
        .result-label {
            font-weight: 600;
        }
        
        .result-value {
            font-weight: 700;
            font-size: 1.1em;
        }
        
        .info-box {
            background: #ebf8ff;
            border-left: 4px solid #4299e1;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            color: #2c5282;
            font-size: 0.95em;
        }
        
        .material-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .material-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }
        
        .material-card h4 {
            color: #667eea;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .material-card p {
            color: #4a5568;
            font-size: 0.85em;
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 1.6em;
            }
            
            .content {
                padding: 20px;
            }
            
            .row {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <style>
    /* Kimi UI/UX Improvements */
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .radio-option, [class*="option"], [class*="choice"] { 
        min-height: 52px; transition: all 0.15s ease !important; 
    }
    .radio-option:active, [class*="option"]:active { transform: scale(0.98); }
    .btn-primary:active, [class*="btn"]:active { transform: translateY(1px); }
    /* Better progress bar */
    [class*="progress"] { height: 6px !important; border-radius: 3px; }
    </style>
    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† Professional Flooring Calculator</h1>
            <p>Accurate material estimates with industry waste factors</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>Material Type</h2>
                <div class="input-group">
                    <label for="materialType">Select Flooring Material</label>
                    <select id="materialType" onchange="updateWasteFactor()">
                        <option value="hardwood">Hardwood (10% waste)</option>
                        <option value="lvp">Luxury Vinyl Plank (5% waste)</option>
                        <option value="tile">Tile (10% waste)</option>
                        <option value="carpet">Carpet (8% waste)</option>
                    </select>
                </div>
                
                <div class="row">
                    <div class="input-group">
                        <label for="materialCost">Material Cost per Sq Ft ($)</label>
                        <input type="number" id="materialCost" value="6.50" step="0.10" min="0">
                    </div>
                    <div class="input-group">
                        <label for="laborCost">Labor Cost per Sq Ft ($)</label>
                        <input type="number" id="laborCost" value="4.00" step="0.10" min="0">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="wasteFactor">Waste Factor (%)</label>
                    <input type="number" id="wasteFactor" value="10" step="1" min="0" max="50">
                </div>
            </div>
            
            <div class="section">
                <h2>Room Measurements</h2>
                <div id="roomsContainer"></div>
                <button class="btn btn-secondary" onclick="addRoom()">+ Add Room/Section</button>
            </div>
            
            <div class="info-box">
                <strong>üí° Pro Tip:</strong> For complex layouts, break rooms into rectangular sections. Include closets and hallways as separate sections for accuracy.
            </div>
            
            <button class="btn" onclick="calculate()" style="margin-top: 30px;">Calculate Materials & Cost</button>
            
            <div id="results" style="display: none;"></div>
            
            <div class="section" style="margin-top: 30px;">
                <h2>Industry Standards</h2>
                <div class="material-info">
                    <div class="material-card">
                        <h4>Hardwood</h4>
                        <p>Waste: 10-15%<br>Accounts for cuts, angles, and wood grain matching</p>
                    </div>
                    <div class="material-card">
                        <h4>LVP/LVT</h4>
                        <p>Waste: 5-8%<br>Click-lock systems minimize waste, simpler cuts</p>
                    </div>
                    <div class="material-card">
                        <h4>Tile</h4>
                        <p>Waste: 10-15%<br>Breakage, cuts around fixtures, pattern matching</p>
                    </div>
                    <div class="material-card">
                        <h4>Carpet</h4>
                        <p>Waste: 8-12%<br>Seaming, pattern repeat, irregular room shapes</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let roomCount = 0;
        
        function updateWasteFactor() {
            const material = document.getElementById('materialType').value;
            const wasteFactor = document.getElementById('wasteFactor');
            const materialCost = document.getElementById('materialCost');
            
            const defaults = {
                hardwood: { waste: 10, cost: 6.50 },
                lvp: { waste: 5, cost: 4.25 },
                tile: { waste: 10, cost: 5.75 },
                carpet: { waste: 8, cost: 3.50 }
            };
            
            wasteFactor.value = defaults[material].waste;
            materialCost.value = defaults[material].cost;
        }
        
        function addRoom() {
            roomCount++;
            const container = document.getElementById('roomsContainer');
            
            const roomDiv = document.createElement('div');
            roomDiv.className = 'room-group';
            roomDiv.id = `room-${roomCount}`;
            roomDiv.innerHTML = `
                <div class="room-header">
                    <h3>Room ${roomCount}</h3>
                    <button class="btn btn-remove" onclick="removeRoom(${roomCount})">Remove</button>
                </div>
                <div class="input-group">
                    <label for="roomName-${roomCount}">Room Name (optional)</label>
                    <input type="text" id="roomName-${roomCount}" placeholder="e.g., Living Room, Master Bedroom">
                </div>
                <div class="row">
                    <div class="input-group">
                        <label for="length-${roomCount}">Length (feet)</label>
                        <input type="number" id="length-${roomCount}" step="0.1" min="0" required>
                    </div>
                    <div class="input-group">
                        <label for="width-${roomCount}">Width (feet)</label>
                        <input type="number" id="width-${roomCount}" step="0.1" min="0" required>
                    </div>
                </div>
            `;
            
            container.appendChild(roomDiv);
        }
        
        function removeRoom(id) {
            const room = document.getElementById(`room-${id}`);
            room.remove();
        }
        
        function calculate() {
            const rooms = document.querySelectorAll('.room-group');
            
            if (rooms.length === 0) {
                alert('Please add at least one room measurement');
                return;
            }
            
            let totalArea = 0;
            const roomDetails = [];
            
            rooms.forEach(room => {
                const id = room.id.split('-')[1];
                const length = parseFloat(document.getElementById(`length-${id}`).value) || 0;
                const width = parseFloat(document.getElementById(`width-${id}`).value) || 0;
                const name = document.getElementById(`roomName-${id}`).value || `Room ${id}`;
                
                if (length > 0 && width > 0) {
                    const area = length * width;
                    totalArea += area;
                    roomDetails.push({ name, area: area.toFixed(2) });
                }
            });
            
            if (totalArea === 0) {
                alert('Please enter valid measurements');
                return;
            }
            
            const wasteFactor = parseFloat(document.getElementById('wasteFactor').value) / 100;
            const materialCost = parseFloat(document.getElementById('materialCost').value);
            const laborCost = parseFloat(document.getElementById('laborCost').value);
            
            const areaWithWaste = totalArea * (1 + wasteFactor);
            const materialTotal = areaWithWaste * materialCost;
            const laborTotal = totalArea * laborCost;
            const grandTotal = materialTotal + laborTotal;
            
            const materialType = document.getElementById('materialType').options[document.getElementById('materialType').selectedIndex].text;
            
            let roomBreakdown = roomDetails.map(r => 
                `<div class="result-item"><span class="result-label">${r.name}</span><span class="result-value">${r.area} sq ft</span></div>`
            ).join('');
            
            const resultsHTML = `
                <div class="results">
                    <h2>üìä Project Estimate</h2>
                    <div class="result-item">
                        <span class="result-label">Material Type</span>
                        <span class="result-value">${materialType}</span>
                    </div>
                    ${roomBreakdown}
                    <div class="result-item">
                        <span class="result-label">Total Floor Area</span>
                        <span class="result-value">${totalArea.toFixed(2)} sq ft</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Waste Factor</span>
                        <span class="result-value">${(wasteFactor * 100).toFixed(0)}% (+${(areaWithWaste - totalArea).toFixed(2)} sq ft)</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Material to Order</span>
                        <span class="result-value">${areaWithWaste.toFixed(2)} sq ft</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Material Cost</span>
                        <span class="result-value">$${materialTotal.toFixed(2)}</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Labor Cost</span>
                        <span class="result-value">$${laborTotal.toFixed(2)}</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Total Project Cost</span>
                        <span class="result-value">$${grandTotal.toFixed(2)}</span>
                    </div>
                </div>
            `;
            
            document.getElementById('results').innerHTML = resultsHTML;
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        // Add first room on load
        addRoom();
    </script>
</body>
</html>