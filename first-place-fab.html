<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>First Place Fabrication | Field Quote Calculator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&family=Krona+One&display=swap" rel="stylesheet">
    <style>
        :root {
            --black: #000000;
            --white: #FFFFFF;
            --gold: #C9A227;
            --gold-light: #E6C969;
            --gold-dark: #9A7B1B;
            --gray-100: #F5F5F5;
            --gray-200: #E8E8E8;
            --gray-300: #DADCE0;
            --gray-400: #9CA3AF;
            --gray-500: #727586;
            --gray-600: #4B5563;
            --gray-700: #374151;
            --gray-800: #1D1E20;
            --gray-900: #111111;
            --success: #22C55E;
            --warning: #EAB308;
            --error: #EF4444;
            --font-display: 'Krona One', sans-serif;
            --font-body: 'Jost', sans-serif;
            --radius-sm: 6px;
            --radius-md: 10px;
            --radius-lg: 16px;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
            --transition: all 0.2s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            background: var(--gray-100);
            color: var(--gray-800);
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        /* Header */
        .header {
            background: var(--black);
            padding: 16px 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 3px solid var(--gold);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-text {
            font-family: var(--font-display);
            font-size: 14px;
            color: var(--white);
            line-height: 1.2;
        }

        .logo-text span {
            color: var(--gold);
        }

        .header-location {
            display: none;
            align-items: center;
            gap: 6px;
            color: var(--gray-400);
            font-size: 13px;
        }

        @media (min-width: 480px) {
            .header-location {
                display: flex;
            }
        }

        /* Main Content */
        .main {
            flex: 1;
            padding: 16px;
            padding-bottom: 100px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        @media (min-width: 1024px) {
            .main {
                padding-bottom: 24px;
            }
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.25s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Section Cards */
        .card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--gray-200);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .card-icon {
            width: 44px;
            height: 44px;
            background: var(--black);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .card-icon svg {
            width: 24px;
            height: 24px;
            color: var(--gold);
        }

        .card-title {
            font-family: var(--font-display);
            font-size: 13px;
            color: var(--black);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .card-subtitle {
            font-size: 13px;
            color: var(--gray-500);
            margin-top: 2px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .form-input,
        .form-select {
            width: 100%;
            height: 52px;
            padding: 0 16px;
            font-family: var(--font-body);
            font-size: 16px;
            color: var(--gray-800);
            background: var(--gray-100);
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-md);
            transition: var(--transition);
            -webkit-appearance: none;
            appearance: none;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--gold);
            background: var(--white);
            box-shadow: 0 0 0 4px rgba(201, 162, 39, 0.1);
        }

        .form-select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23727586' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 14px center;
            background-size: 20px;
            padding-right: 44px;
        }

        /* Toggle Switch */
        .toggle-group {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            background: var(--gray-100);
            border-radius: var(--radius-md);
            margin-bottom: 12px;
            min-height: 56px;
        }

        .toggle-label {
            font-size: 15px;
            font-weight: 500;
            color: var(--gray-700);
        }

        .toggle-sublabel {
            font-size: 13px;
            color: var(--gray-500);
            margin-top: 2px;
        }

        .toggle {
            position: relative;
            width: 56px;
            height: 32px;
            flex-shrink: 0;
        }

        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gray-300);
            border-radius: 16px;
            transition: var(--transition);
        }

        .toggle-slider::before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 3px;
            bottom: 3px;
            background: var(--white);
            border-radius: 50%;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }

        .toggle input:checked + .toggle-slider {
            background: var(--gold);
        }

        .toggle input:checked + .toggle-slider::before {
            transform: translateX(24px);
        }

        /* Grid Layouts */
        .input-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .input-grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        /* Button Styles */
        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            height: 56px;
            font-family: var(--font-body);
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
        }

        .btn svg {
            width: 22px;
            height: 22px;
        }

        .btn-primary {
            background: var(--gold);
            color: var(--black);
        }

        .btn-primary:hover {
            background: var(--gold-light);
        }

        .btn-primary:active {
            transform: scale(0.98);
        }

        .btn-secondary {
            background: var(--black);
            color: var(--white);
        }

        .btn-secondary:hover {
            background: var(--gray-800);
        }

        .btn-outline {
            background: transparent;
            color: var(--gray-700);
            border: 2px solid var(--gray-300);
        }

        .btn-outline:hover {
            border-color: var(--gray-400);
            background: var(--gray-100);
        }

        /* Quote Result */
        .quote-result {
            background: var(--black);
            border-radius: var(--radius-lg);
            padding: 24px;
            color: var(--white);
            text-align: center;
        }

        .quote-result-label {
            font-size: 13px;
            color: var(--gray-400);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .quote-result-total {
            font-family: var(--font-display);
            font-size: 48px;
            color: var(--gold);
            margin-bottom: 8px;
        }

        .quote-result-subtitle {
            font-size: 14px;
            color: var(--gray-400);
        }

        .quote-breakdown {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-700);
            text-align: left;
        }

        .quote-line {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--gray-800);
        }

        .quote-line:last-child {
            border-bottom: none;
        }

        .quote-line-label {
            color: var(--gray-400);
            font-size: 14px;
        }

        .quote-line-value {
            font-weight: 600;
            font-size: 15px;
        }

        .quote-line.subtotal {
            margin-top: 8px;
            padding-top: 16px;
            border-top: 2px solid var(--gray-700);
            border-bottom: none;
        }

        .quote-line.subtotal .quote-line-label,
        .quote-line.subtotal .quote-line-value {
            color: var(--gold);
            font-size: 16px;
        }

        /* Action Buttons Row */
        .action-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 16px;
            background: var(--gray-800);
            border-radius: var(--radius-md);
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .action-btn:hover {
            background: var(--gray-700);
        }

        .action-btn svg {
            width: 24px;
            height: 24px;
            color: var(--gold);
        }

        .action-btn span {
            font-size: 12px;
            color: var(--gray-400);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Quote History */
        .quote-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quote-item {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            padding: 16px;
            cursor: pointer;
            transition: var(--transition);
        }

        .quote-item:hover {
            border-color: var(--gold);
            box-shadow: var(--shadow-md);
        }

        .quote-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .quote-item-customer {
            font-weight: 600;
            font-size: 16px;
            color: var(--gray-800);
        }

        .quote-item-amount {
            font-family: var(--font-display);
            font-size: 18px;
            color: var(--gold-dark);
        }

        .quote-item-details {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            font-size: 13px;
            color: var(--gray-500);
        }

        .quote-item-detail {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .quote-item-detail svg {
            width: 16px;
            height: 16px;
        }

        .quote-status {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .quote-status.pending {
            background: rgba(234, 179, 8, 0.15);
            color: var(--warning);
        }

        .quote-status.accepted {
            background: rgba(34, 197, 94, 0.15);
            color: var(--success);
        }

        .quote-status.declined {
            background: rgba(239, 68, 68, 0.15);
            color: var(--error);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-state-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto 24px;
            opacity: 0.6;
        }

        .empty-state-title {
            font-family: var(--font-display);
            font-size: 16px;
            color: var(--gray-700);
            margin-bottom: 8px;
        }

        .empty-state-text {
            font-size: 14px;
            color: var(--gray-500);
            max-width: 280px;
            margin: 0 auto;
        }

        /* Settings */
        .settings-section {
            margin-bottom: 24px;
        }

        .settings-title {
            font-family: var(--font-display);
            font-size: 12px;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            padding-left: 4px;
        }

        .settings-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            margin-bottom: 8px;
        }

        .settings-item-label {
            font-weight: 500;
            color: var(--gray-700);
        }

        .settings-item-value {
            font-size: 14px;
            color: var(--gray-500);
        }

        /* Bottom Tab Bar - Mobile Only */
        .tab-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--black);
            border-top: 1px solid var(--gray-800);
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            padding-bottom: max(8px, env(safe-area-inset-bottom));
            z-index: 100;
        }

        @media (min-width: 1024px) {
            .tab-bar {
                position: static;
                max-width: 800px;
                margin: 0 auto 24px;
                border-radius: var(--radius-lg);
                padding: 8px;
                gap: 8px;
            }
        }

        .tab-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px 16px;
            background: transparent;
            border: none;
            cursor: pointer;
            min-width: 64px;
            min-height: 56px;
            border-radius: var(--radius-md);
            transition: var(--transition);
        }

        .tab-btn svg {
            width: 26px;
            height: 26px;
            color: var(--gray-500);
            transition: var(--transition);
        }

        .tab-btn span {
            font-size: 11px;
            color: var(--gray-500);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            transition: var(--transition);
        }

        .tab-btn.active {
            background: var(--gray-800);
        }

        .tab-btn.active svg {
            color: var(--gold);
        }

        .tab-btn.active span {
            color: var(--gold);
        }

        .tab-btn:hover:not(.active) {
            background: var(--gray-900);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--gray-800);
            color: var(--white);
            padding: 14px 24px;
            border-radius: var(--radius-md);
            font-size: 14px;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            opacity: 0;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast svg {
            width: 20px;
            height: 20px;
            color: var(--gold);
        }

        @media (min-width: 1024px) {
            .toast {
                bottom: 40px;
            }
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: flex-end;
            justify-content: center;
            z-index: 200;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--white);
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .modal-overlay.show .modal {
            transform: translateY(0);
        }

        @media (min-width: 640px) {
            .modal {
                border-radius: var(--radius-lg);
                margin: auto;
            }
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-bottom: 1px solid var(--gray-200);
        }

        .modal-title {
            font-family: var(--font-display);
            font-size: 14px;
        }

        .modal-close {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gray-100);
            border: none;
            border-radius: 50%;
            cursor: pointer;
        }

        .modal-close svg {
            width: 20px;
            height: 20px;
            color: var(--gray-600);
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 16px 20px;
            border-top: 1px solid var(--gray-200);
            display: flex;
            gap: 12px;
        }

        .modal-footer .btn {
            flex: 1;
        }

        /* Loading State */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--gray-200);
            border-top-color: var(--gold);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Utilities */
        .mt-16 { margin-top: 16px; }
        .mb-8 { margin-bottom: 8px; }
        .text-center { text-align: center; }
        .text-gold { color: var(--gold); }

        /* Project Type Chips */
        .chip-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .chip {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: var(--gray-100);
            border: 2px solid var(--gray-300);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
            font-weight: 500;
            color: var(--gray-700);
        }

        .chip svg {
            width: 20px;
            height: 20px;
            color: var(--gray-500);
        }

        .chip.selected {
            background: var(--gold);
            border-color: var(--gold);
            color: var(--black);
        }

        .chip.selected svg {
            color: var(--black);
        }

        .chip:hover:not(.selected) {
            border-color: var(--gold);
        }

        /* Weight Calculator Display */
        .weight-display {
            background: var(--gray-100);
            border-radius: var(--radius-md);
            padding: 16px;
            text-align: center;
            margin-bottom: 16px;
        }

        .weight-label {
            font-size: 12px;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .weight-value {
            font-family: var(--font-display);
            font-size: 28px;
            color: var(--black);
            margin-top: 4px;
        }

        .weight-unit {
            font-size: 14px;
            color: var(--gray-500);
            margin-left: 4px;
        }

        /* Distance Slider */
        .distance-slider {
            width: 100%;
            height: 8px;
            background: var(--gray-200);
            border-radius: 4px;
            appearance: none;
            margin: 16px 0;
        }

        .distance-slider::-webkit-slider-thumb {
            appearance: none;
            width: 28px;
            height: 28px;
            background: var(--gold);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: var(--shadow-md);
        }

        .distance-display {
            display: flex;
            justify-content: space-between;
            font-size: 13px;
            color: var(--gray-500);
        }

        .distance-current {
            font-weight: 600;
            color: var(--gold-dark);
        }

        /* Info Box */
        .info-box {
            display: flex;
            gap: 12px;
            padding: 14px;
            background: rgba(201, 162, 39, 0.1);
            border-radius: var(--radius-md);
            border-left: 4px solid var(--gold);
        }

        .info-box svg {
            width: 20px;
            height: 20px;
            color: var(--gold-dark);
            flex-shrink: 0;
            margin-top: 1px;
        }

        .info-box-text {
            font-size: 13px;
            color: var(--gray-700);
            line-height: 1.5;
        }
    
/* === DEMO DISCLAIMER === */
#bct-demo-disclaimer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #f8f8f8;
  border-top: 1px solid #ddd;
  padding: 10px 16px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 12px;
  line-height: 1.4;
  color: #666;
  z-index: 99999;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 8px 16px;
  text-align: center;
}
#bct-demo-disclaimer p {
  margin: 0;
  max-width: 700px;
}
#bct-demo-disclaimer strong {
  color: #333;
  font-weight: 600;
}
#bct-demo-disclaimer a.bct-delete-btn {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: #dc3545;
  color: #fff;
  padding: 5px 12px;
  border-radius: 4px;
  text-decoration: none;
  font-size: 11px;
  font-weight: 500;
  white-space: nowrap;
  transition: background 0.15s;
}
#bct-demo-disclaimer a.bct-delete-btn:hover {
  background: #b02a37;
}
@media (max-width: 600px) {
  #bct-demo-disclaimer {
    flex-direction: column;
    padding: 8px 12px 12px;
    font-size: 11px;
  }
}
/* Add bottom padding to body so disclaimer doesn't cover content */
body { padding-bottom: 60px !important; }
</style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="2" y="2" width="36" height="36" rx="4" fill="#C9A227"/>
                        <path d="M12 10L20 6L28 10V14L20 18L12 14V10Z" stroke="#000" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M12 18L20 22L28 18" stroke="#000" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M12 22L20 26L28 22" stroke="#000" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M20 18V34" stroke="#000" stroke-width="2"/>
                        <circle cx="20" cy="34" r="3" fill="#000"/>
                    </svg>
                </div>
                <div class="logo-text">
                    FIRST PLACE<br><span>FABRICATION</span>
                </div>
            </div>
            <div class="header-location">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="16" height="16">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"/>
                </svg>
                Bloomingdale, GA
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Tab: Quote Calculator -->
        <div id="tab-quote" class="tab-content active">
            <!-- Customer Info -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"/>
                        </svg>
                    </div>
                    <div>
                        <div class="card-title">Customer Info</div>
                        <div class="card-subtitle">Who's the quote for?</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Customer Name</label>
                    <input type="text" class="form-input" id="customerName" placeholder="Enter name or company">
                </div>
                <div class="form-group">
                    <label class="form-label">Phone Number</label>
                    <input type="tel" class="form-input" id="customerPhone" placeholder="(912) 555-0123">
                </div>
            </div>

            <!-- Project Type -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"/>
                        </svg>
                    </div>
                    <div>
                        <div class="card-title">Project Type</div>
                        <div class="card-subtitle">What are we building?</div>
                    </div>
                </div>
                <div class="chip-grid" id="projectTypes">
                    <button class="chip" data-type="railing">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6z"/>
                        </svg>
                        Railings
                    </button>
                    <button class="chip" data-type="gate">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205l3 1m1.5.5l-1.5-.5M6.75 7.364V3h-3v18m3-13.636l10.5-3.819"/>
                        </svg>
                        Gates
                    </button>
                    <button class="chip" data-type="trailer">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125v-3.75m-2.25 0V5.625m0 11.25V5.625m0 0A2.625 2.625 0 0016.5 3h-9A2.625 2.625 0 004.875 5.625V16.5"/>
                        </svg>
                        Trailers
                    </button>
                    <button class="chip" data-type="exhaust">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                        </svg>
                        Exhaust
                    </button>
                    <button class="chip" data-type="structural">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z"/>
                        </svg>
                        Structural
                    </button>
                    <button class="chip" data-type="marine">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"/>
                        </svg>
                        Marine
                    </button>
                    <button class="chip" data-type="repair">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75a4.5 4.5 0 01-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 11-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 016.336-4.486l-3.276 3.276a3.004 3.004 0 002.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852z"/>
                            <path stroke-linecap="round" stroke-linejoin="round" d="M4.867 19.125h.008v.008h-.008v-.008z"/>
                        </svg>
                        Repair
                    </button>
                    <button class="chip" data-type="custom">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"/>
                        </svg>
                        Custom
                    </button>
                </div>
            </div>

            <!-- Material Selection -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"/>
                        </svg>
                    </div>
                    <div>
                        <div class="card-title">Material</div>
                        <div class="card-subtitle">Select metal type and dimensions</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Material Type</label>
                    <select class="form-select" id="materialType">
                        <option value="mild_steel">Mild Steel ($0.45/lb)</option>
                        <option value="carbon_steel">Carbon Steel ($0.55/lb)</option>
                        <option value="stainless_steel">Stainless Steel ($1.85/lb)</option>
                        <option value="aluminum">Aluminum ($1.25/lb)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Profile / Shape</label>
                    <select class="form-select" id="profileType">
                        <option value="pipe">Round Pipe/Tube</option>
                        <option value="square_tube">Square Tube</option>
                        <option value="angle">Angle Iron</option>
                        <option value="flat_bar">Flat Bar</option>
                        <option value="plate">Plate/Sheet</option>
                        <option value="channel">Channel</option>
                        <option value="i_beam">I-Beam</option>
                    </select>
                </div>
                <div class="input-grid-3" id="dimensionInputs">
                    <div class="form-group">
                        <label class="form-label">Size (in)</label>
                        <input type="number" class="form-input" id="dimSize" placeholder="2" step="0.125">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Wall (in)</label>
                        <input type="number" class="form-input" id="dimWall" placeholder="0.125" step="0.0625">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Length (ft)</label>
                        <input type="number" class="form-input" id="dimLength" placeholder="10" step="0.5">
                    </div>
                </div>
                <div class="weight-display">
                    <div class="weight-label">Estimated Material Weight</div>
                    <div class="weight-value" id="weightDisplay">0<span class="weight-unit">lbs</span></div>
                </div>
            </div>

            <!-- Labor & Complexity -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <div>
                        <div class="card-title">Labor</div>
                        <div class="card-subtitle">Estimated work hours</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Complexity Level</label>
                    <select class="form-select" id="complexityLevel">
                        <option value="simple">Simple (Basic welds, minimal prep)</option>
                        <option value="moderate" selected>Moderate (Standard fabrication)</option>
                        <option value="complex">Complex (Precision TIG, custom fitting)</option>
                        <option value="expert">Expert (Code work, X-ray quality)</option>
                    </select>
                </div>
                <div class="input-grid">
                    <div class="form-group">
                        <label class="form-label">Est. Hours</label>
                        <input type="number" class="form-input" id="laborHours" placeholder="2" step="0.5" min="0.5">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Rate ($/hr)</label>
                        <input type="number" class="form-input" id="laborRate" value="85" step="5">
                    </div>
                </div>
            </div>

            <!-- Travel & Service Type -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H19.5V9a4.5 4.5 0 00-4.5-4.5h-1.11A5.978 5.978 0 0017.5 8.628V6h.004l.496 3.5H18v7.125c0 .621-.504 1.125-1.125 1.125H15.75M5.25 16.125V16m0 .125h-.008v.008h.008v-.008zM21 10.5h.008v.008H21V10.5z"/>
                        </svg>
                    </div>
                    <div>
                        <div class="card-title">Service Location</div>
                        <div class="card-subtitle">Mobile or shop-based work</div>
                    </div>
                </div>
                <div class="toggle-group">
                    <div>
                        <div class="toggle-label">Mobile Service</div>
                        <div class="toggle-sublabel">Travel to customer site</div>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="mobileService" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div id="travelSection">
                    <div class="form-group">
                        <label class="form-label">Distance from Shop (miles)</label>
                        <input type="range" class="distance-slider" id="travelDistance" min="0" max="60" value="15">
                        <div class="distance-display">
                            <span>Shop</span>
                            <span class="distance-current"><span id="distanceValue">15</span> miles</span>
                            <span>60+ mi</span>
                        </div>
                    </div>
                </div>
                <div class="toggle-group">
                    <div>
                        <div class="toggle-label">Emergency Service</div>
                        <div class="toggle-sublabel">24-hour / after-hours (+50%)</div>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="emergencyService">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <!-- Additional Notes -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"/>
                        </svg>
                    </div>
                    <div>
                        <div class="card-title">Project Notes</div>
                        <div class="card-subtitle">Additional details or specs</div>
                    </div>
                </div>
                <div class="form-group">
                    <textarea class="form-input" id="projectNotes" style="height: 100px; padding-top: 14px; resize: none;" placeholder="Describe the project, special requirements, site conditions..."></textarea>
                </div>
            </div>

            <!-- Calculate Button -->
            <button class="btn btn-primary" id="calculateBtn" style="margin-bottom: 16px;">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V13.5zm0 2.25h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V18zm2.498-6.75h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V13.5zm0 2.25h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V18zm2.504-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zm0 2.25h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V18zm2.498-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zM8.25 6h7.5v2.25h-7.5V6zM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 002.25 2.25h10.5a2.25 2.25 0 002.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0012 2.25z"/>
                </svg>
                Calculate Quote
            </button>

            <!-- Quote Result (Hidden by default) -->
            <div class="quote-result" id="quoteResult" style="display: none;">
                <div class="quote-result-label">Estimated Quote</div>
                <div class="quote-result-total" id="totalAmount">$0</div>
                <div class="quote-result-subtitle">For <span id="customerNameDisplay">Customer</span></div>
                
                <div class="quote-breakdown">
                    <div class="quote-line">
                        <span class="quote-line-label">Materials</span>
                        <span class="quote-line-value" id="materialCost">$0</span>
                    </div>
                    <div class="quote-line">
                        <span class="quote-line-label">Labor (<span id="laborHoursDisplay">0</span> hrs @ $<span id="laborRateDisplay">85</span>/hr)</span>
                        <span class="quote-line-value" id="laborCost">$0</span>
                    </div>
                    <div class="quote-line" id="travelLine" style="display: none;">
                        <span class="quote-line-label">Travel/Mobilization</span>
                        <span class="quote-line-value" id="travelCost">$0</span>
                    </div>
                    <div class="quote-line" id="emergencyLine" style="display: none;">
                        <span class="quote-line-label">Emergency Surcharge (+50%)</span>
                        <span class="quote-line-value" id="emergencyCost">$0</span>
                    </div>
                    <div class="quote-line subtotal">
                        <span class="quote-line-label">Total</span>
                        <span class="quote-line-value" id="totalAmountBreakdown">$0</span>
                    </div>
                </div>
                
                <div class="action-row">
                    <button class="action-btn" id="saveQuoteBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"/>
                        </svg>
                        <span>Save Quote</span>
                    </button>
                    <button class="action-btn" id="shareTextBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"/>
                        </svg>
                        <span>Send Text</span>
                    </button>
                    <button class="action-btn" id="shareEmailBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"/>
                        </svg>
                        <span>Email</span>
                    </button>
                    <button class="action-btn" id="newQuoteBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"/>
                        </svg>
                        <span>New Quote</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Tab: Quote History -->
        <div id="tab-history" class="tab-content">
            <div class="card" style="background: transparent; border: none; box-shadow: none; padding: 0;">
                <h2 style="font-family: var(--font-display); font-size: 18px; margin-bottom: 16px;">Quote History</h2>
            </div>
            
            <div id="quoteHistoryList" class="quote-list">
                <!-- Demo quotes will be loaded here -->
            </div>
            
            <div id="emptyHistoryState" class="empty-state" style="display: none;">
                <svg class="empty-state-icon" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="20" y="30" width="80" height="70" rx="4" stroke="#DADCE0" stroke-width="2"/>
                    <line x1="30" y1="50" x2="90" y2="50" stroke="#DADCE0" stroke-width="2"/>
                    <line x1="30" y1="65" x2="70" y2="65" stroke="#DADCE0" stroke-width="2"/>
                    <line x1="30" y1="80" x2="80" y2="80" stroke="#DADCE0" stroke-width="2"/>
                    <circle cx="90" cy="30" r="15" fill="#C9A227" fill-opacity="0.2"/>
                    <path d="M90 23V37M83 30H97" stroke="#C9A227" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <div class="empty-state-title">No Quotes Yet</div>
                <div class="empty-state-text">Your saved quotes will appear here. Start by creating a new quote.</div>
            </div>
        </div>

        <!-- Tab: Settings -->
        <div id="tab-settings" class="tab-content">
            <div class="card" style="background: transparent; border: none; box-shadow: none; padding: 0;">
                <h2 style="font-family: var(--font-display); font-size: 18px; margin-bottom: 16px;">Settings</h2>
            </div>
            
            <div class="settings-section">
                <div class="settings-title">Labor Rates</div>
                <div class="settings-item">
                    <span class="settings-item-label">Shop Rate</span>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: var(--gray-500);">$</span>
                        <input type="number" class="form-input" id="shopRate" value="85" style="width: 80px; height: 44px; text-align: right;">
                        <span style="color: var(--gray-500);">/hr</span>
                    </div>
                </div>
                <div class="settings-item">
                    <span class="settings-item-label">Mobile Rate</span>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: var(--gray-500);">$</span>
                        <input type="number" class="form-input" id="mobileRate" value="95" style="width: 80px; height: 44px; text-align: right;">
                        <span style="color: var(--gray-500);">/hr</span>
                    </div>
                </div>
                <div class="settings-item">
                    <span class="settings-item-label">Emergency Rate</span>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: var(--gray-500);">+</span>
                        <input type="number" class="form-input" id="emergencyMultiplier" value="50" style="width: 80px; height: 44px; text-align: right;">
                        <span style="color: var(--gray-500);">%</span>
                    </div>
                </div>
            </div>
            
            <div class="settings-section">
                <div class="settings-title">Travel Fees</div>
                <div class="settings-item">
                    <span class="settings-item-label">Base Mobilization</span>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: var(--gray-500);">$</span>
                        <input type="number" class="form-input" id="baseMobilization" value="50" style="width: 80px; height: 44px; text-align: right;">
                    </div>
                </div>
                <div class="settings-item">
                    <span class="settings-item-label">Per Mile Rate</span>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: var(--gray-500);">$</span>
                        <input type="number" class="form-input" id="perMileRate" value="1.50" step="0.25" style="width: 80px; height: 44px; text-align: right;">
                        <span style="color: var(--gray-500);">/mi</span>
                    </div>
                </div>
            </div>
            
            <div class="settings-section">
                <div class="settings-title">Data</div>
                <button class="btn btn-outline" id="exportDataBtn" style="margin-bottom: 8px;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"/>
                    </svg>
                    Export Quotes (JSON)
                </button>
                <button class="btn btn-outline" id="clearDataBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"/>
                    </svg>
                    Clear All Data
                </button>
            </div>
            
            <div class="info-box mt-16">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"/>
                </svg>
                <div class="info-box-text">
                    Built for <strong>First Place Fabrication</strong> in Bloomingdale, GA. All quotes are estimates and subject to on-site assessment.
                    <br><br>
                    <strong>Contact:</strong> (912) 844-3403
                </div>
            </div>
        </div>
    </main>

    <!-- Bottom Tab Bar -->
    <nav class="tab-bar">
        <button class="tab-btn active" data-tab="quote">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V13.5zm0 2.25h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V18zm2.498-6.75h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V13.5zm0 2.25h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V18zm2.504-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zm0 2.25h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V18zm2.498-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zM8.25 6h7.5v2.25h-7.5V6zM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 002.25 2.25h10.5a2.25 2.25 0 002.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0012 2.25z"/>
            </svg>
            <span>Quote</span>
        </button>
        <button class="tab-btn" data-tab="history">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span>History</span>
        </button>
        <button class="tab-btn" data-tab="settings">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"/>
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
            </svg>
            <span>Settings</span>
        </button>
    </nav>

    <!-- Toast -->
    <div class="toast" id="toast">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span id="toastMessage">Quote saved</span>
    </div>

    <!-- Quote Detail Modal -->
    <div class="modal-overlay" id="quoteModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Quote Details</div>
                <button class="modal-close" id="closeModal">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="modalContent">
                <!-- Dynamic content -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="deleteQuoteBtn">Delete</button>
                <button class="btn btn-primary" id="editQuoteBtn">Edit Quote</button>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // SECURITY CHECK - Access Key Verification
        // ============================================
        function _h(s){let h=0;for(let i=0;i<s.length;i++){h=((h<<5)-h)+s.charCodeAt(i);h|=0;}return h;}
        const _V=1006407944;const _k=new URLSearchParams(window.location.search).get('key');if(!_k||_h(_k)!==_V){document.body.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100vh;font-family:sans-serif;background:#111;color:#fff;text-align:center;padding:20px"><div><h1 style="font-size:2rem;margin-bottom:1rem">Access Denied</h1><p style="color:#999">This tool requires a valid access key.</p><p style="margin-top:1rem"><a href="mailto:ben@bennycutools.com" style="color:#4da6ff">ben@bennycutools.com</a></p></div></div>';throw new Error('x');}

        // ============================================
        // Protection - Block Context Menu and Dev Tools
        // ============================================
        document.addEventListener('contextmenu',function(e){e.preventDefault();});
        document.addEventListener('keydown',function(e){if(e.key==='F12'||(e.ctrlKey&&e.shiftKey&&(e.key==='I'||e.key==='J'))||e.key==='F5')e.preventDefault();});

        // ============================================
        // First Place Fabrication - Field Quote Calculator
        // ============================================
        
        // Material pricing (per pound - Savannah area market rates 2026)
        const MATERIAL_PRICES = {
            mild_steel: 0.45,
            carbon_steel: 0.55,
            stainless_steel: 1.85,
            aluminum: 1.25
        };
        
        // Material density (lb per cubic inch)
        const MATERIAL_DENSITY = {
            mild_steel: 0.284,
            carbon_steel: 0.284,
            stainless_steel: 0.289,
            aluminum: 0.098
        };
        
        // Complexity multipliers
        const COMPLEXITY_MULTIPLIERS = {
            simple: 0.8,
            moderate: 1.0,
            complex: 1.35,
            expert: 1.75
        };
        
        // State
        let quotes = [];
        let currentQuote = null;
        let settings = {
            shopRate: 85,
            mobileRate: 95,
            emergencyMultiplier: 50,
            baseMobilization: 50,
            perMileRate: 1.50
        };
        
        // Demo quotes for Savannah area
        const DEMO_QUOTES = [
            {
                id: 'demo-1',
                customerName: 'Coastal Marina Services',
                customerPhone: '(912) 555-0147',
                projectType: 'marine',
                materialType: 'aluminum',
                total: 485,
                materials: 65,
                labor: 340,
                travel: 80,
                emergency: 0,
                laborHours: 4,
                laborRate: 85,
                status: 'accepted',
                date: new Date(Date.now() - 86400000 * 2).toISOString(),
                notes: 'Aluminum hull repair on 22ft center console. Two cracks near transom.'
            },
            {
                id: 'demo-2',
                customerName: 'Jake Thompson',
                customerPhone: '(912) 555-0283',
                projectType: 'exhaust',
                materialType: 'stainless_steel',
                total: 875,
                materials: 185,
                labor: 510,
                travel: 0,
                emergency: 180,
                laborHours: 6,
                laborRate: 85,
                status: 'pending',
                date: new Date(Date.now() - 86400000).toISOString(),
                notes: 'Custom 3" stainless TIG exhaust for LS-swapped C10. After-hours request.'
            },
            {
                id: 'demo-3',
                customerName: 'Savannah Logistics Corp',
                customerPhone: '(912) 555-0891',
                projectType: 'repair',
                materialType: 'carbon_steel',
                total: 325,
                materials: 45,
                labor: 170,
                travel: 110,
                emergency: 0,
                laborHours: 2,
                laborRate: 85,
                status: 'accepted',
                date: new Date(Date.now() - 86400000 * 5).toISOString(),
                notes: 'Forklift mast bracket repair. Port area location - 25 miles out.'
            },
            {
                id: 'demo-4',
                customerName: 'Riverside Property Mgmt',
                customerPhone: '(912) 555-0456',
                projectType: 'gate',
                materialType: 'mild_steel',
                total: 1250,
                materials: 280,
                labor: 680,
                travel: 95,
                emergency: 0,
                laborHours: 8,
                laborRate: 85,
                status: 'pending',
                date: new Date().toISOString(),
                notes: 'Driveway gate replacement. 12ft double swing gate with automatic opener prep.'
            }
        ];
        
        // ============================================
        // IndexedDB Setup
        // ============================================
        const DB_NAME = 'FirstPlaceFabDB';
        const DB_VERSION = 1;
        let db = null;
        
        function initDB() {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open(DB_NAME, DB_VERSION);
                
                request.onerror = () => {
                    console.warn('IndexedDB not available, using localStorage');
                    loadFromLocalStorage();
                    resolve(null);
                };
                
                request.onsuccess = (event) => {
                    db = event.target.result;
                    loadFromDB();
                    resolve(db);
                };
                
                request.onupgradeneeded = (event) => {
                    const database = event.target.result;
                    if (!database.objectStoreNames.contains('quotes')) {
                        database.createObjectStore('quotes', { keyPath: 'id' });
                    }
                    if (!database.objectStoreNames.contains('settings')) {
                        database.createObjectStore('settings', { keyPath: 'id' });
                    }
                };
            });
        }
        
        function loadFromDB() {
            if (!db) return loadFromLocalStorage();
            
            const quoteTx = db.transaction('quotes', 'readonly');
            const quoteStore = quoteTx.objectStore('quotes');
            const quoteRequest = quoteStore.getAll();
            
            quoteRequest.onsuccess = () => {
                quotes = quoteRequest.result.length > 0 ? quoteRequest.result : [...DEMO_QUOTES];
                renderQuoteHistory();
            };
            
            const settingsTx = db.transaction('settings', 'readonly');
            const settingsStore = settingsTx.objectStore('settings');
            const settingsRequest = settingsStore.get('main');
            
            settingsRequest.onsuccess = () => {
                if (settingsRequest.result) {
                    settings = { ...settings, ...settingsRequest.result };
                    applySettings();
                }
            };
        }
        
        function loadFromLocalStorage() {
            try {
                const savedQuotes = localStorage.getItem('fpf_quotes');
                quotes = savedQuotes ? JSON.parse(savedQuotes) : [...DEMO_QUOTES];
                
                const savedSettings = localStorage.getItem('fpf_settings');
                if (savedSettings) {
                    settings = { ...settings, ...JSON.parse(savedSettings) };
                }
                
                renderQuoteHistory();
                applySettings();
            } catch (e) {
                quotes = [...DEMO_QUOTES];
                renderQuoteHistory();
            }
        }
        
        function saveQuoteToDB(quote) {
            if (db) {
                const tx = db.transaction('quotes', 'readwrite');
                const store = tx.objectStore('quotes');
                store.put(quote);
            }
            localStorage.setItem('fpf_quotes', JSON.stringify(quotes));
        }
        
        function saveSettingsToDB() {
            if (db) {
                const tx = db.transaction('settings', 'readwrite');
                const store = tx.objectStore('settings');
                store.put({ id: 'main', ...settings });
            }
            localStorage.setItem('fpf_settings', JSON.stringify(settings));
        }
        
        function deleteQuoteFromDB(id) {
            if (db) {
                const tx = db.transaction('quotes', 'readwrite');
                const store = tx.objectStore('quotes');
                store.delete(id);
            }
            quotes = quotes.filter(q => q.id !== id);
            localStorage.setItem('fpf_quotes', JSON.stringify(quotes));
        }
        
        // ============================================
        // Weight Calculation
        // ============================================
        function calculateWeight() {
            const material = document.getElementById('materialType').value;
            const profile = document.getElementById('profileType').value;
            const size = parseFloat(document.getElementById('dimSize').value) || 0;
            const wall = parseFloat(document.getElementById('dimWall').value) || 0;
            const length = parseFloat(document.getElementById('dimLength').value) || 0;
            
            const density = MATERIAL_DENSITY[material];
            let volumeCubicInches = 0;
            const lengthInches = length * 12;
            
            switch (profile) {
                case 'pipe':
                    // Hollow cylinder:  * (OD - ID) / 4 * length
                    const od = size;
                    const id = size - (wall * 2);
                    volumeCubicInches = Math.PI * ((od * od) - (id * id)) / 4 * lengthInches;
                    break;
                    
                case 'square_tube':
                    // Hollow square: (OD - ID) * length
                    const outerArea = size * size;
                    const innerSize = size - (wall * 2);
                    const innerArea = innerSize > 0 ? innerSize * innerSize : 0;
                    volumeCubicInches = (outerArea - innerArea) * lengthInches;
                    break;
                    
                case 'angle':
                    // L-angle: 2 * (size * wall) - wall (simplified)
                    const angleArea = (2 * size * wall) - (wall * wall);
                    volumeCubicInches = angleArea * lengthInches;
                    break;
                    
                case 'flat_bar':
                    // Rectangle: width * thickness * length
                    volumeCubicInches = size * wall * lengthInches;
                    break;
                    
                case 'plate':
                    // width * length * thickness (use wall as thickness)
                    volumeCubicInches = size * lengthInches * wall;
                    break;
                    
                case 'channel':
                    // C-channel approximation
                    volumeCubicInches = (2 * size * wall + size * wall) * lengthInches;
                    break;
                    
                case 'i_beam':
                    // I-beam approximation (simplified)
                    volumeCubicInches = (3 * size * wall) * lengthInches;
                    break;
            }
            
            const weight = volumeCubicInches * density;
            document.getElementById('weightDisplay').innerHTML = 
                `${weight.toFixed(1)}<span class="weight-unit">lbs</span>`;
            
            return weight;
        }
        
        // ============================================
        // Quote Calculation
        // ============================================
        function calculateQuote() {
            const customerName = document.getElementById('customerName').value || 'Customer';
            const customerPhone = document.getElementById('customerPhone').value || '';
            const projectType = document.querySelector('.chip.selected')?.dataset.type || 'custom';
            const materialType = document.getElementById('materialType').value;
            const complexity = document.getElementById('complexityLevel').value;
            const laborHours = parseFloat(document.getElementById('laborHours').value) || 0;
            const isMobile = document.getElementById('mobileService').checked;
            const isEmergency = document.getElementById('emergencyService').checked;
            const distance = parseInt(document.getElementById('travelDistance').value) || 0;
            const notes = document.getElementById('projectNotes').value || '';
            
            // Get rates from settings
            const baseRate = isMobile ? settings.mobileRate : settings.shopRate;
            const laborRate = parseFloat(document.getElementById('laborRate').value) || baseRate;
            
            // Calculate material cost
            const weight = calculateWeight();
            const materialPrice = MATERIAL_PRICES[materialType];
            const materialCost = weight * materialPrice * 1.35; // 35% markup
            
            // Calculate labor cost with complexity multiplier
            const complexityMult = COMPLEXITY_MULTIPLIERS[complexity];
            const laborCost = laborHours * laborRate * complexityMult;
            
            // Calculate travel cost
            let travelCost = 0;
            if (isMobile && distance > 0) {
                travelCost = settings.baseMobilization + (distance * settings.perMileRate * 2); // Round trip
            }
            
            // Calculate subtotal before emergency
            const subtotal = materialCost + laborCost + travelCost;
            
            // Calculate emergency surcharge
            let emergencyCost = 0;
            if (isEmergency) {
                emergencyCost = subtotal * (settings.emergencyMultiplier / 100);
            }
            
            // Total
            const total = subtotal + emergencyCost;
            
            // Update display
            document.getElementById('customerNameDisplay').textContent = customerName;
            document.getElementById('materialCost').textContent = `$${materialCost.toFixed(0)}`;
            document.getElementById('laborHoursDisplay').textContent = laborHours;
            document.getElementById('laborRateDisplay').textContent = laborRate;
            document.getElementById('laborCost').textContent = `$${laborCost.toFixed(0)}`;
            
            const travelLine = document.getElementById('travelLine');
            if (isMobile && travelCost > 0) {
                travelLine.style.display = 'flex';
                document.getElementById('travelCost').textContent = `$${travelCost.toFixed(0)}`;
            } else {
                travelLine.style.display = 'none';
            }
            
            const emergencyLine = document.getElementById('emergencyLine');
            if (isEmergency) {
                emergencyLine.style.display = 'flex';
                document.getElementById('emergencyCost').textContent = `$${emergencyCost.toFixed(0)}`;
            } else {
                emergencyLine.style.display = 'none';
            }
            
            document.getElementById('totalAmount').textContent = `$${total.toFixed(0)}`;
            document.getElementById('totalAmountBreakdown').textContent = `$${total.toFixed(0)}`;
            
            // Show result
            document.getElementById('quoteResult').style.display = 'block';
            document.getElementById('quoteResult').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            
            // Store current quote data
            currentQuote = {
                id: 'quote-' + Date.now(),
                customerName,
                customerPhone,
                projectType,
                materialType,
                total: Math.round(total),
                materials: Math.round(materialCost),
                labor: Math.round(laborCost),
                travel: Math.round(travelCost),
                emergency: Math.round(emergencyCost),
                laborHours,
                laborRate,
                status: 'pending',
                date: new Date().toISOString(),
                notes
            };
        }
        
        // ============================================
        // Quote Actions
        // ============================================
        function saveQuote() {
            if (!currentQuote) return;
            
            quotes.unshift(currentQuote);
            saveQuoteToDB(currentQuote);
            renderQuoteHistory();
            showToast('Quote saved successfully');
        }
        
        function shareViaText() {
            if (!currentQuote) return;
            
            const message = `Hi ${currentQuote.customerName},

Here's your quote from First Place Fabrication:

Project: ${currentQuote.projectType.charAt(0).toUpperCase() + currentQuote.projectType.slice(1)}
Materials: $${currentQuote.materials}
Labor: $${currentQuote.labor}
${currentQuote.travel > 0 ? `Travel: $${currentQuote.travel}\n` : ''}${currentQuote.emergency > 0 ? `Emergency: $${currentQuote.emergency}\n` : ''}
TOTAL: $${currentQuote.total}

This quote is valid for 30 days.

Andrew Brasile
First Place Fabrication
(912) 844-3403`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Quote from First Place Fabrication',
                    text: message
                });
            } else {
                // Fallback to SMS link
                const phone = currentQuote.customerPhone.replace(/\D/g, '');
                window.open(`sms:${phone}?body=${encodeURIComponent(message)}`);
            }
        }
        
        function shareViaEmail() {
            if (!currentQuote) return;
            
            const subject = `Quote from First Place Fabrication - ${currentQuote.projectType.charAt(0).toUpperCase() + currentQuote.projectType.slice(1)}`;
            const body = `Hi ${currentQuote.customerName},

Thank you for contacting First Place Fabrication. Here's your quote:

PROJECT DETAILS
---------------
Type: ${currentQuote.projectType.charAt(0).toUpperCase() + currentQuote.projectType.slice(1)}
Material: ${currentQuote.materialType.replace('_', ' ').toUpperCase()}

PRICING BREAKDOWN
-----------------
Materials: $${currentQuote.materials}
Labor (${currentQuote.laborHours} hrs @ $${currentQuote.laborRate}/hr): $${currentQuote.labor}
${currentQuote.travel > 0 ? `Travel/Mobilization: $${currentQuote.travel}\n` : ''}${currentQuote.emergency > 0 ? `Emergency Surcharge: $${currentQuote.emergency}\n` : ''}
TOTAL: $${currentQuote.total}

This quote is valid for 30 days and subject to on-site assessment.

If you have any questions or would like to schedule the work, please call or text me at (912) 844-3403.

Best regards,
Andrew Brasile
First Place Fabrication
Bloomingdale, GA
"If It's Not Quality, It's Not First Place"`;
            
            window.open(`mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`);
        }
        
        function resetQuoteForm() {
            document.getElementById('customerName').value = '';
            document.getElementById('customerPhone').value = '';
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('selected'));
            document.getElementById('materialType').value = 'mild_steel';
            document.getElementById('profileType').value = 'pipe';
            document.getElementById('dimSize').value = '';
            document.getElementById('dimWall').value = '';
            document.getElementById('dimLength').value = '';
            document.getElementById('complexityLevel').value = 'moderate';
            document.getElementById('laborHours').value = '';
            document.getElementById('laborRate').value = settings.shopRate;
            document.getElementById('mobileService').checked = true;
            document.getElementById('travelDistance').value = 15;
            document.getElementById('distanceValue').textContent = 15;
            document.getElementById('emergencyService').checked = false;
            document.getElementById('projectNotes').value = '';
            document.getElementById('quoteResult').style.display = 'none';
            document.getElementById('weightDisplay').innerHTML = '0<span class="weight-unit">lbs</span>';
            currentQuote = null;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // ============================================
        // Quote History Rendering
        // ============================================
        function renderQuoteHistory() {
            const list = document.getElementById('quoteHistoryList');
            const emptyState = document.getElementById('emptyHistoryState');
            
            if (quotes.length === 0) {
                list.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            list.innerHTML = quotes.map(quote => {
                const date = new Date(quote.date);
                const dateStr = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                
                return `
                    <div class="quote-item" data-id="${quote.id}">
                        <div class="quote-item-header">
                            <div>
                                <div class="quote-item-customer">${quote.customerName}</div>
                                <span class="quote-status ${quote.status}">${quote.status}</span>
                            </div>
                            <div class="quote-item-amount">$${quote.total}</div>
                        </div>
                        <div class="quote-item-details">
                            <span class="quote-item-detail">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z"/>
                                </svg>
                                ${quote.projectType.charAt(0).toUpperCase() + quote.projectType.slice(1)}
                            </span>
                            <span class="quote-item-detail">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"/>
                                </svg>
                                ${dateStr}
                            </span>
                            ${quote.laborHours ? `
                            <span class="quote-item-detail">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                ${quote.laborHours} hrs
                            </span>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
            
            // Add click handlers
            list.querySelectorAll('.quote-item').forEach(item => {
                item.addEventListener('click', () => openQuoteModal(item.dataset.id));
            });
        }
        
        function openQuoteModal(id) {
            const quote = quotes.find(q => q.id === id);
            if (!quote) return;
            
            const date = new Date(quote.date);
            const dateStr = date.toLocaleDateString('en-US', { 
                weekday: 'long', 
                month: 'long', 
                day: 'numeric',
                year: 'numeric'
            });
            
            document.getElementById('modalContent').innerHTML = `
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 13px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Customer</div>
                    <div style="font-size: 18px; font-weight: 600;">${quote.customerName}</div>
                    ${quote.customerPhone ? `<div style="color: var(--gray-500); margin-top: 4px;">${quote.customerPhone}</div>` : ''}
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 13px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Date</div>
                    <div>${dateStr}</div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 13px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Project</div>
                    <div>${quote.projectType.charAt(0).toUpperCase() + quote.projectType.slice(1)} - ${quote.materialType.replace('_', ' ')}</div>
                </div>
                
                <div style="background: var(--gray-100); border-radius: var(--radius-md); padding: 16px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span style="color: var(--gray-500);">Materials</span>
                        <span>$${quote.materials}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span style="color: var(--gray-500);">Labor</span>
                        <span>$${quote.labor}</span>
                    </div>
                    ${quote.travel > 0 ? `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span style="color: var(--gray-500);">Travel</span>
                        <span>$${quote.travel}</span>
                    </div>` : ''}
                    ${quote.emergency > 0 ? `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span style="color: var(--gray-500);">Emergency</span>
                        <span>$${quote.emergency}</span>
                    </div>` : ''}
                    <div style="display: flex; justify-content: space-between; padding-top: 12px; border-top: 2px solid var(--gray-300); margin-top: 8px;">
                        <span style="font-weight: 600; color: var(--gold-dark);">Total</span>
                        <span style="font-family: var(--font-display); font-size: 20px; color: var(--gold-dark);">$${quote.total}</span>
                    </div>
                </div>
                
                ${quote.notes ? `
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 13px; color: var(--gray-500); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Notes</div>
                    <div style="color: var(--gray-600); line-height: 1.5;">${quote.notes}</div>
                </div>` : ''}
                
                <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button class="btn btn-outline" style="flex: 1; min-width: 120px; height: 48px;" onclick="updateQuoteStatus('${quote.id}', 'accepted')">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Accepted
                    </button>
                    <button class="btn btn-outline" style="flex: 1; min-width: 120px; height: 48px;" onclick="updateQuoteStatus('${quote.id}', 'declined')">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" width="20" height="20">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Declined
                    </button>
                </div>
            `;
            
            document.getElementById('deleteQuoteBtn').onclick = () => {
                deleteQuoteFromDB(id);
                renderQuoteHistory();
                closeModal();
                showToast('Quote deleted');
            };
            
            document.getElementById('quoteModal').classList.add('show');
        }
        
        function updateQuoteStatus(id, status) {
            const quote = quotes.find(q => q.id === id);
            if (quote) {
                quote.status = status;
                saveQuoteToDB(quote);
                renderQuoteHistory();
                closeModal();
                showToast(`Quote marked as ${status}`);
            }
        }
        
        function closeModal() {
            document.getElementById('quoteModal').classList.remove('show');
        }
        
        // ============================================
        // Settings
        // ============================================
        function applySettings() {
            document.getElementById('shopRate').value = settings.shopRate;
            document.getElementById('mobileRate').value = settings.mobileRate;
            document.getElementById('emergencyMultiplier').value = settings.emergencyMultiplier;
            document.getElementById('baseMobilization').value = settings.baseMobilization;
            document.getElementById('perMileRate').value = settings.perMileRate;
            document.getElementById('laborRate').value = settings.shopRate;
        }
        
        function updateSetting(key, value) {
            settings[key] = parseFloat(value);
            saveSettingsToDB();
        }
        
        function exportData() {
            const data = JSON.stringify(quotes, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `first-place-fab-quotes-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            showToast('Quotes exported');
        }
        
        function clearAllData() {
            if (confirm('Are you sure you want to delete all quotes? This cannot be undone.')) {
                quotes = [];
                if (db) {
                    const tx = db.transaction('quotes', 'readwrite');
                    tx.objectStore('quotes').clear();
                }
                localStorage.removeItem('fpf_quotes');
                renderQuoteHistory();
                showToast('All data cleared');
            }
        }
        
        // ============================================
        // UI Utilities
        // ============================================
        function showToast(message) {
            const toast = document.getElementById('toast');
            document.getElementById('toastMessage').textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
        
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            
            document.getElementById(`tab-${tabId}`).classList.add('active');
            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
        }
        
        // ============================================
        // Event Listeners
        // ============================================
        document.addEventListener('DOMContentLoaded', () => {
            initDB();
            
            // Tab navigation
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => switchTab(btn.dataset.tab));
            });
            
            // Project type chips
            document.querySelectorAll('.chip').forEach(chip => {
                chip.addEventListener('click', () => {
                    document.querySelectorAll('.chip').forEach(c => c.classList.remove('selected'));
                    chip.classList.add('selected');
                });
            });
            
            // Weight calculation on input change
            ['dimSize', 'dimWall', 'dimLength', 'materialType', 'profileType'].forEach(id => {
                document.getElementById(id).addEventListener('input', calculateWeight);
                document.getElementById(id).addEventListener('change', calculateWeight);
            });
            
            // Distance slider
            document.getElementById('travelDistance').addEventListener('input', (e) => {
                document.getElementById('distanceValue').textContent = e.target.value;
            });
            
            // Mobile service toggle
            document.getElementById('mobileService').addEventListener('change', (e) => {
                document.getElementById('travelSection').style.display = e.target.checked ? 'block' : 'none';
                document.getElementById('laborRate').value = e.target.checked ? settings.mobileRate : settings.shopRate;
            });
            
            // Calculate button
            document.getElementById('calculateBtn').addEventListener('click', calculateQuote);
            
            // Quote actions
            document.getElementById('saveQuoteBtn').addEventListener('click', saveQuote);
            document.getElementById('shareTextBtn').addEventListener('click', shareViaText);
            document.getElementById('shareEmailBtn').addEventListener('click', shareViaEmail);
            document.getElementById('newQuoteBtn').addEventListener('click', resetQuoteForm);
            
            // Modal
            document.getElementById('closeModal').addEventListener('click', closeModal);
            document.getElementById('quoteModal').addEventListener('click', (e) => {
                if (e.target === document.getElementById('quoteModal')) closeModal();
            });
            
            // Settings
            document.getElementById('shopRate').addEventListener('change', (e) => updateSetting('shopRate', e.target.value));
            document.getElementById('mobileRate').addEventListener('change', (e) => updateSetting('mobileRate', e.target.value));
            document.getElementById('emergencyMultiplier').addEventListener('change', (e) => updateSetting('emergencyMultiplier', e.target.value));
            document.getElementById('baseMobilization').addEventListener('change', (e) => updateSetting('baseMobilization', e.target.value));
            document.getElementById('perMileRate').addEventListener('change', (e) => updateSetting('perMileRate', e.target.value));
            
            document.getElementById('exportDataBtn').addEventListener('click', exportData);
            document.getElementById('clearDataBtn').addEventListener('click', clearAllData);
        });
    </script>

<!-- DEMO DISCLAIMER - Legal Notice -->
<div id="bct-demo-disclaimer" role="contentinfo" aria-label="Demo disclaimer">
  <p><strong>DEMO NOTICE:</strong> This tool was created by BennyCuTools as a free demonstration only.
  It is not affiliated with, endorsed by, or authorized by First Place Fabrication.
  All brand references are used solely for demonstration purposes.</p>
  <a href="mailto:cuuper225@gmail.com?subject=Delete%20Demo%3A%20First%20Place%20Fabrication&body=I%20am%20the%20owner%20of%20First%20Place%20Fabrication%20and%20I%20request%20permanent%20deletion%20of%20the%20demo%20tool%20on%20bennycutools.com." class="bct-delete-btn" aria-label="Request permanent deletion of this demo">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
    Request Permanent Deletion
  </a>
</div>

</body>
</html>
