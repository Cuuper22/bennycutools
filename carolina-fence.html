<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <title>Fence Project Cost Estimator ‚Äî Carolina Fence Company</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cfc: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#1e3a5f',
                            600: '#1a3050',
                            700: '#152742',
                            800: '#111e33',
                            900: '#0c1525'
                        },
                        gold: {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            200: '#fde68a',
                            300: '#fcd34d',
                            400: '#fbbf24',
                            500: '#d97706',
                            600: '#b45309'
                        }
                    },
                    fontFamily: { 'inter': ['Inter', 'system-ui', 'sans-serif'] }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Inter', system-ui, sans-serif; }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
        .slide-up { animation: slideUp 0.5s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: translateY(0); } }
        .opt-btn { transition: all 0.3s ease; }
        .opt-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px -5px rgba(0,0,0,0.1); }
        .opt-btn.selected { border-color: #d97706; background: #fffbeb; }
        .progress-fill { transition: width 0.5s ease; }
        .pulse-glow { animation: pulseGlow 2s ease-in-out infinite; }
        @keyframes pulseGlow { 0%, 100% { box-shadow: 0 0 0 0 rgba(217,119,6,0.3); } 50% { box-shadow: 0 0 0 8px rgba(217,119,6,0); } }
        input[type="range"] { -webkit-appearance: none; height: 8px; border-radius: 4px; background: #e2e8f0; outline: none; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 24px; height: 24px; border-radius: 50%; background: #d97706; cursor: pointer; box-shadow: 0 2px 6px rgba(217,119,6,0.4); }
        .estimate-card { background: linear-gradient(135deg, #1e3a5f 0%, #0c1525 100%); }
        .comparison-row:nth-child(even) { background: #f8fafc; }
    </style>

    <style>
    /* Kimi UI/UX Improvements */
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .radio-option, [class*="option"], [class*="choice"] { 
        min-height: 52px; transition: all 0.15s ease !important; 
    }
    .radio-option:active, [class*="option"]:active { transform: scale(0.98); }
    .btn-primary:active, [class*="btn"]:active { transform: translateY(1px); }
    /* Better progress bar */
    [class*="progress"] { height: 6px !important; border-radius: 3px; }
    </style>
    
</head>
<body class="bg-gray-50 min-h-screen">

    <!-- Header -->
    <header class="bg-cfc-500 text-white">
        <div class="max-w-4xl mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold tracking-tight">Carolina Fence Company</h1>
                    <p class="text-cfc-200 text-sm mt-1">Charleston's Premier Fence Builder ‚Äî Free Estimates</p>
                </div>
                <div class="text-right hidden sm:block">
                    <div class="text-gold-300 font-semibold text-sm">3-Year Warranty</div>
                    <p class="text-cfc-200 text-xs mt-0.5">Residential & Commercial</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress -->
    <div class="bg-white border-b sticky top-0 z-40">
        <div class="max-w-4xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-600" id="stepLabel">Step 1 of 4 ‚Äî Fence Style</span>
                <span class="text-sm text-gray-400" id="stepPercent">25%</span>
            </div>
            <div class="w-full bg-gray-100 rounded-full h-2">
                <div class="bg-gold-500 h-2 rounded-full progress-fill" id="progressBar" style="width: 25%"></div>
            </div>
        </div>
    </div>

    <main class="max-w-4xl mx-auto px-4 py-8">

        <!-- Step 1: Fence Style -->
        <div id="step1" class="fade-in">
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-14 h-14 bg-gold-100 rounded-2xl mb-4">
                    <i data-lucide="fence" class="w-7 h-7 text-gold-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">What type of fence are you looking for?</h2>
                <p class="text-gray-500 mt-2">Select your preferred style ‚Äî we'll show cost comparisons later</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-8">
                <button onclick="selectStyle('wood-privacy')" data-style="wood-privacy" class="opt-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="text-3xl">ü™µ</div>
                        <div>
                            <div class="font-semibold text-gray-900">Wood Privacy Fence</div>
                            <div class="text-sm text-gray-500 mt-0.5">Classic cedar or pine, 6ft tall, full privacy</div>
                            <div class="text-xs text-gold-600 mt-1 font-medium">Most popular in Charleston</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectStyle('vinyl')" data-style="vinyl" class="opt-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="text-3xl">‚¨ú</div>
                        <div>
                            <div class="font-semibold text-gray-900">Vinyl Fence</div>
                            <div class="text-sm text-gray-500 mt-0.5">Low maintenance, won't rot or warp, multiple styles</div>
                            <div class="text-xs text-green-600 mt-1 font-medium">Best for Lowcountry humidity</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectStyle('aluminum')" data-style="aluminum" class="opt-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="text-3xl">üî©</div>
                        <div>
                            <div class="font-semibold text-gray-900">Aluminum / Ornamental</div>
                            <div class="text-sm text-gray-500 mt-0.5">Decorative, rust-free, great for pools and front yards</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectStyle('chain-link')" data-style="chain-link" class="opt-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="text-3xl">üîó</div>
                        <div>
                            <div class="font-semibold text-gray-900">Chain Link</div>
                            <div class="text-sm text-gray-500 mt-0.5">Affordable, durable, ideal for security and pet areas</div>
                            <div class="text-xs text-blue-600 mt-1 font-medium">Best value option</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectStyle('picket')" data-style="picket" class="opt-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="text-3xl">üè°</div>
                        <div>
                            <div class="font-semibold text-gray-900">Picket Fence</div>
                            <div class="text-sm text-gray-500 mt-0.5">Classic Southern charm, 3-4ft, decorative boundary</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectStyle('not-sure')" data-style="not-sure" class="opt-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="text-3xl">ü§î</div>
                        <div>
                            <div class="font-semibold text-gray-900">Not Sure Yet</div>
                            <div class="text-sm text-gray-500 mt-0.5">I want to compare options and costs</div>
                        </div>
                    </div>
                </button>
            </div>
        </div>

        <!-- Step 2: Dimensions -->
        <div id="step2" class="hidden">
            <div class="text-center mb-8 fade-in">
                <div class="inline-flex items-center justify-center w-14 h-14 bg-cfc-100 rounded-2xl mb-4">
                    <i data-lucide="ruler" class="w-7 h-7 text-cfc-500"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">How much fence do you need?</h2>
                <p class="text-gray-500 mt-2">Don't worry about exact numbers ‚Äî estimates are fine</p>
            </div>

            <div class="space-y-6 mb-8">
                <!-- Linear Feet -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-2">Total Linear Feet</h3>
                    <p class="text-sm text-gray-400 mb-4">Average residential backyard: 150‚Äì250 ft. Full property: 300‚Äì500 ft.</p>
                    <input type="range" id="feetSlider" min="50" max="1000" step="10" value="200" oninput="updateFeet()" class="w-full">
                    <div class="flex justify-between mt-2">
                        <span class="text-sm text-gray-400">50 ft</span>
                        <span class="text-xl font-bold text-gold-600" id="feetValue">200 ft</span>
                        <span class="text-sm text-gray-400">1,000 ft</span>
                    </div>
                </div>

                <!-- Height -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">Fence Height</h3>
                    <div class="grid grid-cols-3 gap-3">
                        <button onclick="selectDetail('height','4')" data-detail="height-4" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl font-bold text-cfc-500 mb-1">4 ft</div>
                            <span class="text-xs text-gray-500">Decorative</span>
                        </button>
                        <button onclick="selectDetail('height','6')" data-detail="height-6" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl font-bold text-cfc-500 mb-1">6 ft</div>
                            <span class="text-xs text-gray-500">Standard</span>
                        </button>
                        <button onclick="selectDetail('height','8')" data-detail="height-8" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl font-bold text-cfc-500 mb-1">8 ft</div>
                            <span class="text-xs text-gray-500">Maximum</span>
                        </button>
                    </div>
                </div>

                <!-- Gates -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">How many gates?</h3>
                    <div class="grid grid-cols-4 gap-3">
                        <button onclick="selectDetail('gates','0')" data-detail="gates-0" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">None</button>
                        <button onclick="selectDetail('gates','1')" data-detail="gates-1" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">1 Gate</button>
                        <button onclick="selectDetail('gates','2')" data-detail="gates-2" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">2 Gates</button>
                        <button onclick="selectDetail('gates','3')" data-detail="gates-3" class="opt-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium">3+</button>
                    </div>
                </div>
            </div>

            <div class="flex gap-3">
                <button onclick="goToStep(1)" class="px-6 py-4 border-2 border-gray-200 rounded-xl text-gray-600 font-medium hover:bg-gray-50 transition">‚Üê Back</button>
                <button onclick="goToStep(3)" id="step2Next" class="flex-1 bg-gold-500 hover:bg-gold-600 text-white font-semibold py-4 rounded-xl transition disabled:opacity-40" disabled>Continue ‚Üí</button>
            </div>
        </div>

        <!-- Step 3: Terrain & Purpose -->
        <div id="step3" class="hidden">
            <div class="text-center mb-8 fade-in">
                <div class="inline-flex items-center justify-center w-14 h-14 bg-green-100 rounded-2xl mb-4">
                    <i data-lucide="mountain" class="w-7 h-7 text-green-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">A couple more details</h2>
                <p class="text-gray-500 mt-2">These affect installation complexity and cost</p>
            </div>

            <div class="space-y-6 mb-8">
                <!-- Terrain -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">What's the terrain like?</h3>
                    <div class="grid grid-cols-3 gap-3">
                        <button onclick="selectDetail('terrain','flat')" data-detail="terrain-flat" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üèñÔ∏è</div>
                            <span class="text-sm font-medium text-gray-700">Flat</span>
                        </button>
                        <button onclick="selectDetail('terrain','sloped')" data-detail="terrain-sloped" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">‚õ∞Ô∏è</div>
                            <span class="text-sm font-medium text-gray-700">Sloped</span>
                        </button>
                        <button onclick="selectDetail('terrain','mixed')" data-detail="terrain-mixed" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üåä</div>
                            <span class="text-sm font-medium text-gray-700">Mixed</span>
                        </button>
                    </div>
                </div>

                <!-- Purpose -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">Primary purpose?</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="selectDetail('purpose','privacy')" data-detail="purpose-privacy" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üîí</div>
                            <span class="text-sm font-medium text-gray-700">Privacy</span>
                        </button>
                        <button onclick="selectDetail('purpose','pets')" data-detail="purpose-pets" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üêï</div>
                            <span class="text-sm font-medium text-gray-700">Pet Containment</span>
                        </button>
                        <button onclick="selectDetail('purpose','kids')" data-detail="purpose-kids" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üë∂</div>
                            <span class="text-sm font-medium text-gray-700">Child Safety</span>
                        </button>
                        <button onclick="selectDetail('purpose','curb')" data-detail="purpose-curb" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">‚ú®</div>
                            <span class="text-sm font-medium text-gray-700">Curb Appeal</span>
                        </button>
                    </div>
                </div>

                <!-- Old fence? -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">Is there an existing fence to remove?</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="selectDetail('removal','yes')" data-detail="removal-yes" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">Yes, remove old fence</button>
                        <button onclick="selectDetail('removal','no')" data-detail="removal-no" class="opt-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">No, fresh install</button>
                    </div>
                </div>
            </div>

            <div class="flex gap-3">
                <button onclick="goToStep(2)" class="px-6 py-4 border-2 border-gray-200 rounded-xl text-gray-600 font-medium hover:bg-gray-50 transition">‚Üê Back</button>
                <button onclick="goToStep(4)" id="step3Next" class="flex-1 bg-gold-500 hover:bg-gold-600 text-white font-semibold py-4 rounded-xl transition disabled:opacity-40" disabled>See My Estimate ‚Üí</button>
            </div>
        </div>

        <!-- Step 4: Results -->
        <div id="step4" class="hidden">
            <div class="slide-up">
                <!-- Estimate Card -->
                <div class="estimate-card rounded-3xl p-8 text-white mb-8">
                    <div class="flex items-center gap-2 mb-1">
                        <i data-lucide="calculator" class="w-5 h-5 text-gold-400"></i>
                        <span class="text-gold-300 font-medium text-sm uppercase tracking-wide">Your Fence Estimate</span>
                    </div>
                    <div class="flex items-end gap-3 mb-2">
                        <span class="text-5xl font-extrabold" id="estLow">$0</span>
                        <span class="text-2xl font-light text-cfc-200 mb-1">‚Äî</span>
                        <span class="text-5xl font-extrabold" id="estHigh">$0</span>
                    </div>
                    <p class="text-cfc-200 text-sm" id="estSummary">‚Äî</p>

                    <div class="mt-6 pt-6 border-t border-white/10 grid grid-cols-2 gap-4 text-sm">
                        <div><span class="text-cfc-300">Per Linear Foot</span><div class="font-bold text-lg mt-0.5" id="perFoot">$0</div></div>
                        <div><span class="text-cfc-300">Est. Install Time</span><div class="font-bold text-lg mt-0.5" id="installTime">‚Äî</div></div>
                    </div>
                </div>

                <!-- Material Comparison -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-4 flex items-center gap-2">
                        <i data-lucide="bar-chart-3" class="w-5 h-5 text-cfc-500"></i>
                        Material Comparison
                    </h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b border-gray-200">
                                    <th class="text-left py-3 px-2 text-gray-500 font-medium">Material</th>
                                    <th class="text-center py-3 px-2 text-gray-500 font-medium">Cost/ft</th>
                                    <th class="text-center py-3 px-2 text-gray-500 font-medium">Lifespan</th>
                                    <th class="text-center py-3 px-2 text-gray-500 font-medium">Maintenance</th>
                                    <th class="text-center py-3 px-2 text-gray-500 font-medium">Your Cost</th>
                                </tr>
                            </thead>
                            <tbody id="comparisonTable"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Lowcountry tip -->
                <div class="bg-blue-50 border border-blue-200 rounded-2xl p-6 mb-6">
                    <div class="flex items-start gap-3">
                        <div class="text-2xl">üå¥</div>
                        <div>
                            <div class="font-semibold text-blue-900">Lowcountry Climate Tip</div>
                            <div class="text-sm text-blue-700 mt-1">Charleston's salt air, humidity, and hurricane season mean material choice matters more here than most places. Vinyl and aluminum resist moisture damage far better than untreated wood. Carolina Fence's 3-year installation warranty covers you either way.</div>
                        </div>
                    </div>
                </div>

                <!-- CTA -->
                <div class="bg-white rounded-2xl border-2 border-gold-200 p-6 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-2">Get Your Exact Quote ‚Äî Free</h3>
                    <p class="text-gray-500 text-sm mb-5">Carolina Fence Company provides free on-site estimates. Their team will measure, assess your property, and give you an exact price with no obligation.</p>

                    <div class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                                <input type="text" id="quoteName" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-gold-500 outline-none transition" placeholder="Your name">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                <input type="tel" id="quotePhone" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-gold-500 outline-none transition" placeholder="(843) 555-1234">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                            <input type="email" id="quoteEmail" class="w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-gold-500 focus:border-gold-500 outline-none transition" placeholder="you@email.com">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Your Area</label>
                            <select id="quoteArea" class="w-full border border-gray-300 rounded-xl px-4 py-3 bg-white focus:ring-2 focus:ring-gold-500 focus:border-gold-500 outline-none transition">
                                <option value="">Select area...</option>
                                <option>Charleston</option>
                                <option>Mt. Pleasant</option>
                                <option>North Charleston</option>
                                <option>West Ashley</option>
                                <option>Goose Creek</option>
                                <option>Summerville</option>
                                <option>Ladson</option>
                                <option>Moncks Corner</option>
                                <option>James Island</option>
                                <option>Daniel Island</option>
                                <option>Other</option>
                            </select>
                        </div>
                        <button onclick="submitQuote()" class="w-full bg-gold-500 hover:bg-gold-600 text-white font-bold py-4 rounded-xl transition pulse-glow flex items-center justify-center gap-2">
                            <i data-lucide="calendar" class="w-5 h-5"></i>
                            Schedule Free On-Site Estimate
                        </button>
                    </div>
                </div>

                <!-- Call -->
                <div class="text-center py-4">
                    <p class="text-gray-400 text-sm mb-2">Ready to talk now?</p>
                    <a href="tel:8438210486" class="inline-flex items-center gap-2 text-cfc-500 font-bold text-xl hover:text-cfc-600 transition">
                        <i data-lucide="phone" class="w-5 h-5"></i>
                        (843) 821-0486
                    </a>
                </div>

                <div class="flex gap-3 mt-6">
                    <button onclick="goToStep(3)" class="px-6 py-4 border-2 border-gray-200 rounded-xl text-gray-600 font-medium hover:bg-gray-50 transition">‚Üê Back</button>
                    <button onclick="startOver()" class="flex-1 border-2 border-gray-200 rounded-xl text-gray-600 font-medium py-4 hover:bg-gray-50 transition">Start Over</button>
                </div>
            </div>
        </div>

        <!-- Thank You -->
        <div id="thankYou" class="hidden text-center py-12">
            <div class="slide-up">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6">
                    <i data-lucide="check-circle-2" class="w-10 h-10 text-green-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Quote Request Sent!</h2>
                <p class="text-gray-500 max-w-md mx-auto">Carolina Fence Company will reach out to schedule your free on-site estimate. They're known for fast turnaround ‚Äî typically within 1 business day.</p>
                <button onclick="startOver()" class="mt-8 text-gold-600 font-medium hover:text-gold-700 transition">Run another estimate ‚Üí</button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-cfc-800 text-white mt-16">
        <div class="max-w-4xl mx-auto px-4 py-8">
            <div class="flex flex-col md:flex-row justify-between items-start gap-6">
                <div>
                    <h3 class="font-bold text-lg">Carolina Fence Company</h3>
                    <p class="text-cfc-200 text-sm mt-1">Charleston MSA / Tri-County</p>
                    <p class="text-cfc-200 text-sm">(843) 821-0486</p>
                    <p class="text-cfc-200 text-sm">3-Year Installation Warranty</p>
                </div>
                <div class="text-sm text-cfc-300">
                    <p>Charleston ‚Ä¢ Mt. Pleasant ‚Ä¢ N. Charleston ‚Ä¢ Summerville & more</p>
                    <p class="mt-2 text-cfc-400 text-xs">Estimates are approximate. Final pricing based on on-site measurement and material selection.<br>Demo tool by <a href="https://bennycutools.com" class="underline hover:text-white">BennyCu Tools</a>.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        let state = { style: null, feet: 200, height: null, gates: null, terrain: null, purpose: null, removal: null };

        // Price per linear foot by material (installed, 6ft height)
        const MATERIALS = {
            'wood-privacy': { name: 'Wood Privacy', perFt: [22, 35], lifespan: '15‚Äì20 yrs', maintenance: 'Moderate', icon: 'ü™µ' },
            'vinyl': { name: 'Vinyl', perFt: [28, 45], lifespan: '25‚Äì30 yrs', maintenance: 'Very Low', icon: '‚¨ú' },
            'aluminum': { name: 'Aluminum', perFt: [30, 50], lifespan: '30+ yrs', maintenance: 'Very Low', icon: 'üî©' },
            'chain-link': { name: 'Chain Link', perFt: [12, 22], lifespan: '20‚Äì25 yrs', maintenance: 'Low', icon: 'üîó' },
            'picket': { name: 'Picket', perFt: [15, 28], lifespan: '15‚Äì20 yrs', maintenance: 'Moderate', icon: 'üè°' }
        };

        function selectStyle(s) {
            state.style = s;
            document.querySelectorAll('[data-style]').forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-style="${s}"]`).classList.add('selected');
            setTimeout(() => goToStep(2), 300);
        }

        function updateFeet() {
            state.feet = parseInt(document.getElementById('feetSlider').value);
            document.getElementById('feetValue').textContent = state.feet + ' ft';
        }

        function selectDetail(key, val) {
            state[key] = val;
            document.querySelectorAll(`[data-detail^="${key}-"]`).forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-detail="${key}-${val}"]`).classList.add('selected');
            if (key === 'height' || key === 'gates') checkStep2();
            if (key === 'terrain' || key === 'purpose' || key === 'removal') checkStep3();
        }

        function checkStep2() { document.getElementById('step2Next').disabled = !(state.height && state.gates !== null); }
        function checkStep3() { document.getElementById('step3Next').disabled = !(state.terrain && state.purpose && state.removal !== null); }

        function calculate(materialKey) {
            const m = MATERIALS[materialKey];
            let heightMult = state.height === '4' ? 0.7 : state.height === '8' ? 1.35 : 1;
            let terrainMult = state.terrain === 'sloped' ? 1.15 : state.terrain === 'mixed' ? 1.1 : 1;
            let gates = parseInt(state.gates) || 0;
            let gateAdd = gates * (materialKey === 'chain-link' ? 200 : materialKey === 'aluminum' ? 450 : 350);
            let removalAdd = state.removal === 'yes' ? state.feet * 3 : 0;

            let low = Math.round(state.feet * m.perFt[0] * heightMult * terrainMult + gateAdd + removalAdd);
            let high = Math.round(state.feet * m.perFt[1] * heightMult * terrainMult + gateAdd + removalAdd);
            let perFtLow = Math.round(m.perFt[0] * heightMult * terrainMult);
            let perFtHigh = Math.round(m.perFt[1] * heightMult * terrainMult);

            return { low, high, perFtLow, perFtHigh };
        }

        function goToStep(step) {
            for (let i = 1; i <= 4; i++) document.getElementById('step' + i).classList.add('hidden');
            document.getElementById('thankYou').classList.add('hidden');
            const target = document.getElementById('step' + step);
            target.classList.remove('hidden');
            target.classList.add('fade-in');

            const labels = ['', 'Step 1 of 4 ‚Äî Fence Style', 'Step 2 of 4 ‚Äî Dimensions', 'Step 3 of 4 ‚Äî Property Details', 'Step 4 of 4 ‚Äî Your Estimate'];
            document.getElementById('stepLabel').textContent = labels[step];
            document.getElementById('stepPercent').textContent = (step * 25) + '%';
            document.getElementById('progressBar').style.width = (step * 25) + '%';

            if (step === 4) renderEstimate();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderEstimate() {
            const primaryStyle = state.style === 'not-sure' ? 'wood-privacy' : state.style;
            const est = calculate(primaryStyle);
            const m = MATERIALS[primaryStyle];

            document.getElementById('estLow').textContent = '$' + est.low.toLocaleString();
            document.getElementById('estHigh').textContent = '$' + est.high.toLocaleString();
            document.getElementById('estSummary').textContent = `${state.feet} linear feet of ${m.name} fence, ${state.height}ft tall` + (state.removal === 'yes' ? ', including old fence removal' : '');
            document.getElementById('perFoot').textContent = `$${est.perFtLow}‚Äì$${est.perFtHigh}/ft`;

            // Install time
            const days = state.feet <= 150 ? '1‚Äì2 days' : state.feet <= 300 ? '2‚Äì3 days' : state.feet <= 500 ? '3‚Äì5 days' : '5‚Äì7 days';
            document.getElementById('installTime').textContent = days;

            // Comparison table
            const tbody = document.getElementById('comparisonTable');
            tbody.innerHTML = Object.entries(MATERIALS).map(([key, mat]) => {
                const calc = calculate(key);
                const isSelected = key === primaryStyle;
                return `
                    <tr class="comparison-row border-b border-gray-100 ${isSelected ? 'bg-gold-50' : ''}">
                        <td class="py-3 px-2 font-medium ${isSelected ? 'text-gold-700' : 'text-gray-900'}">${mat.icon} ${mat.name} ${isSelected ? '‚≠ê' : ''}</td>
                        <td class="py-3 px-2 text-center text-gray-600">$${calc.perFtLow}‚Äì$${calc.perFtHigh}</td>
                        <td class="py-3 px-2 text-center text-gray-600">${mat.lifespan}</td>
                        <td class="py-3 px-2 text-center text-gray-600">${mat.maintenance}</td>
                        <td class="py-3 px-2 text-center font-semibold ${isSelected ? 'text-gold-700' : 'text-gray-900'}">$${calc.low.toLocaleString()}‚Äì$${calc.high.toLocaleString()}</td>
                    </tr>
                `;
            }).join('');

            lucide.createIcons();
        }

        function submitQuote() {
            const name = document.getElementById('quoteName').value.trim();
            const phone = document.getElementById('quotePhone').value.trim();
            if (!name || !phone) { alert('Please enter your name and phone number.'); return; }

            const subs = JSON.parse(localStorage.getItem('cfc-submissions') || '[]');
            subs.push({
                name, phone,
                email: document.getElementById('quoteEmail').value,
                area: document.getElementById('quoteArea').value,
                ...state,
                timestamp: new Date().toISOString()
            });
            localStorage.setItem('cfc-submissions', JSON.stringify(subs));

            document.getElementById('step4').classList.add('hidden');
            document.getElementById('thankYou').classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function startOver() {
            state = { style: null, feet: 200, height: null, gates: null, terrain: null, purpose: null, removal: null };
            document.querySelectorAll('.opt-btn').forEach(el => el.classList.remove('selected'));
            document.getElementById('feetSlider').value = 200;
            document.getElementById('feetValue').textContent = '200 ft';
            document.getElementById('step2Next').disabled = true;
            document.getElementById('step3Next').disabled = true;
            document.getElementById('quoteName').value = '';
            document.getElementById('quotePhone').value = '';
            document.getElementById('quoteEmail').value = '';
            document.getElementById('quoteArea').value = '';
            goToStep(1);
        }

        document.addEventListener('DOMContentLoaded', () => { lucide.createIcons(); });
    </script>
</body>
</html>
