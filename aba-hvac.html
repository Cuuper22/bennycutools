<!DOCTYPE html>
<html lang="en">
<head>
<meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Comfort Score - ABA Heating & Cooling | Austin, TX</title>
    <meta name="description" content="Is your AC ready for Austin's brutal summer? Take our free Home Comfort Score assessment and get personalized HVAC recommendations from ABA Heating & Cooling.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        * { font-family: 'Inter', sans-serif; }
        body { background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); }
        .gauge-container { position: relative; width: 200px; height: 200px; margin: 0 auto; }
        .gauge-bg { fill: none; stroke: #e5e7eb; stroke-width: 20; }
        .gauge-fill { fill: none; stroke-width: 20; stroke-linecap: round; transition: stroke-dashoffset 2s ease-out, stroke 2s ease-out; }
        .score-text { font-size: 3rem; font-weight: 800; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }
        .btn-primary { background: linear-gradient(135deg, #c2410c 0%, #ea580c 100%); }
        .btn-primary:hover { background: linear-gradient(135deg, #9a3412 0%, #c2410c 100%); }
        .btn-secondary { background: linear-gradient(135deg, #0284c7 0%, #0ea5e9 100%); }
        .btn-secondary:hover { background: linear-gradient(135deg, #075985 0%, #0284c7 100%); }
        .progress-bar { background: linear-gradient(90deg, #c2410c 0%, #0284c7 100%); height: 6px; transition: width 0.3s ease; }
        .badge { background: linear-gradient(135deg, #0284c7 0%, #0ea5e9 100%); }
        .card { background: white; border-radius: 1rem; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .radio-option { cursor: pointer; border: 2px solid #e5e7eb; transition: all 0.2s; }
        .radio-option:hover { border-color: #0284c7; background: #f0f9ff; }
        .radio-option.selected { border-color: #0284c7; background: #f0f9ff; box-shadow: 0 0 0 3px rgba(2,132,199,0.1); }
    </style>

    <style>
    /* Kimi UI/UX Improvements */
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .radio-option, [class*="option"], [class*="choice"] { 
        min-height: 52px; transition: all 0.15s ease !important; 
    }
    .radio-option:active, [class*="option"]:active { transform: scale(0.98); }
    .btn-primary:active, [class*="btn"]:active { transform: translateY(1px); }
    /* Better progress bar */
    [class*="progress"] { height: 6px !important; border-radius: 3px; }
    </style>
    
</head>
<body class="min-h-screen py-8 px-4">
    <div class="max-w-3xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-8 fade-in-up">
            <div class="flex items-center justify-center gap-3 mb-4">
                <div class="w-16 h-16 bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg">
                    <i data-lucide="thermometer-sun" class="w-10 h-10 text-white"></i>
                </div>
                <div class="text-left">
                    <h1 class="text-3xl font-bold text-gray-900">ABA Heating & Cooling</h1>
                    <p class="text-sm text-gray-600">Serving Austin Since 1994</p>
                </div>
            </div>
            <div class="flex flex-wrap gap-2 justify-center mb-4">
                <span class="badge text-white px-3 py-1 rounded-full text-xs font-semibold">Bryant Authorized Dealer</span>
                <span class="badge text-white px-3 py-1 rounded-full text-xs font-semibold">EPA Certified</span>
                <span class="badge text-white px-3 py-1 rounded-full text-xs font-semibold">BBB Accredited</span>
                <span class="badge text-white px-3 py-1 rounded-full text-xs font-semibold">65,000+ Customers</span>
            </div>
        </div>

        <!-- Main Card -->
        <div class="card p-8 fade-in-up" style="animation-delay: 0.2s;">
            <!-- Welcome Screen -->
            <div id="welcome-screen">
                <div class="text-center mb-8">
                    <div class="inline-block bg-orange-100 rounded-full p-4 mb-4">
                        <i data-lucide="sun" class="w-16 h-16 text-orange-600"></i>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-3">Is Your AC Ready for Austin's Summer?</h2>
                    <p class="text-lg text-gray-600 mb-6">Austin summers hit 100°F+ for weeks. Don't wait for a breakdown. Take our free Home Comfort Score assessment in 2 minutes and discover:</p>
                    <div class="grid md:grid-cols-2 gap-4 text-left mb-8">
                        <div class="flex gap-3">
                            <i data-lucide="check-circle" class="w-6 h-6 text-green-600 flex-shrink-0"></i>
                            <span class="text-gray-700">Your HVAC system's health score</span>
                        </div>
                        <div class="flex gap-3">
                            <i data-lucide="check-circle" class="w-6 h-6 text-green-600 flex-shrink-0"></i>
                            <span class="text-gray-700">Potential energy savings</span>
                        </div>
                        <div class="flex gap-3">
                            <i data-lucide="check-circle" class="w-6 h-6 text-green-600 flex-shrink-0"></i>
                            <span class="text-gray-700">Critical red flags to fix now</span>
                        </div>
                        <div class="flex gap-3">
                            <i data-lucide="check-circle" class="w-6 h-6 text-green-600 flex-shrink-0"></i>
                            <span class="text-gray-700">Austin Energy rebate eligibility</span>
                        </div>
                    </div>
                    <div class="bg-sky-50 border-l-4 border-blue-600 p-4 mb-6">
                        <p class="text-sm text-gray-700"><strong>Austin homeowners:</strong> Cedar fever season + aging AC = poor air quality. Our assessment helps you breathe easier and save money.</p>
                    </div>
                    <button onclick="startAssessment()" class="btn-primary text-white px-8 py-4 rounded-lg font-semibold text-lg shadow-lg hover:shadow-xl transition-all w-full md:w-auto">
                        Start Free Assessment <i data-lucide="arrow-right" class="w-5 h-5 inline ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Progress Bar -->
            <div id="progress-container" class="hidden mb-6">
                <div class="flex justify-between text-sm text-gray-600 mb-2">
                    <span>Question <span id="current-question">1</span> of 12</span>
                    <span id="progress-percent">8%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden">
                    <div id="progress-bar" class="progress-bar rounded-full" style="width: 8%;"></div>
                </div>
            </div>

            <!-- Question Screen -->
            <div id="question-screen" class="hidden">
                <div id="question-container"></div>
                <div class="flex gap-4 mt-8">
                    <button id="back-btn" onclick="previousQuestion()" class="hidden px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all">
                        <i data-lucide="arrow-left" class="w-5 h-5 inline mr-2"></i> Back
                    </button>
                    <button id="next-btn" onclick="nextQuestion()" class="btn-secondary text-white px-8 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all flex-1 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        Next <i data-lucide="arrow-right" class="w-5 h-5 inline ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Results Screen -->
            <div id="results-screen" class="hidden">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-900 mb-2">Your Home Comfort Score</h2>
                    <p class="text-gray-600">Based on your responses, here's how your HVAC system rates</p>
                </div>

                <!-- Score Gauge -->
                <div class="gauge-container mb-8">
                    <svg width="200" height="200" viewBox="0 0 200 200">
                        <circle class="gauge-bg" cx="100" cy="100" r="80" transform="rotate(-90 100 100)"></circle>
                        <circle id="gauge-fill" class="gauge-fill" cx="100" cy="100" r="80" transform="rotate(-90 100 100)" 
                                stroke-dasharray="502.4" stroke-dashoffset="502.4"></circle>
                    </svg>
                    <div class="absolute inset-0 flex flex-col items-center justify-center">
                        <div id="score-value" class="score-text text-gray-900">0</div>
                        <div id="score-label" class="text-sm font-semibold text-gray-600"></div>
                    </div>
                </div>

                <!-- Category Breakdown -->
                <div class="grid md:grid-cols-2 gap-4 mb-8">
                    <div class="bg-sky-50 p-4 rounded-lg">
                        <div class="flex items-center gap-2 mb-2">
                            <i data-lucide="activity" class="w-5 h-5 text-blue-600"></i>
                            <h3 class="font-semibold text-gray-900">System Health</h3>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="flex-1 bg-gray-200 rounded-full h-2">
                                <div id="health-bar" class="bg-blue-600 h-2 rounded-full transition-all duration-1000" style="width: 0%"></div>
                            </div>
                            <span id="health-score" class="text-sm font-semibold text-gray-700">0%</span>
                        </div>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg">
                        <div class="flex items-center gap-2 mb-2">
                            <i data-lucide="zap" class="w-5 h-5 text-green-600"></i>
                            <h3 class="font-semibold text-gray-900">Efficiency</h3>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="flex-1 bg-gray-200 rounded-full h-2">
                                <div id="efficiency-bar" class="bg-green-600 h-2 rounded-full transition-all duration-1000" style="width: 0%"></div>
                            </div>
                            <span id="efficiency-score" class="text-sm font-semibold text-gray-700">0%</span>
                        </div>
                    </div>
                    <div class="bg-purple-50 p-4 rounded-lg">
                        <div class="flex items-center gap-2 mb-2">
                            <i data-lucide="wind" class="w-5 h-5 text-purple-600"></i>
                            <h3 class="font-semibold text-gray-900">Air Quality</h3>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="flex-1 bg-gray-200 rounded-full h-2">
                                <div id="air-bar" class="bg-purple-600 h-2 rounded-full transition-all duration-1000" style="width: 0%"></div>
                            </div>
                            <span id="air-score" class="text-sm font-semibold text-gray-700">0%</span>
                        </div>
                    </div>
                    <div class="bg-orange-50 p-4 rounded-lg">
                        <div class="flex items-center gap-2 mb-2">
                            <i data-lucide="piggy-bank" class="w-5 h-5 text-orange-600"></i>
                            <h3 class="font-semibold text-gray-900">Cost Optimization</h3>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="flex-1 bg-gray-200 rounded-full h-2">
                                <div id="cost-bar" class="bg-orange-600 h-2 rounded-full transition-all duration-1000" style="width: 0%"></div>
                            </div>
                            <span id="cost-score" class="text-sm font-semibold text-gray-700">0%</span>
                        </div>
                    </div>
                </div>

                <!-- Red Flags -->
                <div id="red-flags" class="hidden bg-red-50 border-l-4 border-red-600 p-4 mb-6">
                    <div class="flex gap-3 mb-3">
                        <i data-lucide="alert-triangle" class="w-6 h-6 text-red-600 flex-shrink-0"></i>
                        <h3 class="font-bold text-red-900 text-lg">Critical Issues Found</h3>
                    </div>
                    <ul id="red-flags-list" class="space-y-2 ml-9"></ul>
                </div>

                <!-- Savings Estimate -->
                <div class="bg-green-50 border-l-4 border-green-600 p-6 mb-6">
                    <div class="flex items-start gap-3">
                        <i data-lucide="dollar-sign" class="w-8 h-8 text-green-600 flex-shrink-0"></i>
                        <div>
                            <h3 class="font-bold text-green-900 text-xl mb-2">Estimated Annual Savings</h3>
                            <p class="text-3xl font-bold text-green-700 mb-2">$<span id="savings-amount">0</span>/year</p>
                            <p class="text-sm text-gray-700" id="savings-details"></p>
                            <div class="mt-3 bg-white p-3 rounded-lg">
                                <p class="text-sm text-gray-700"><strong>💰 Austin Energy Rebate:</strong> <span id="rebate-info"></span></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recommendations -->
                <div id="recommendations" class="bg-blue-50 p-6 rounded-lg mb-6">
                    <h3 class="font-bold text-blue-900 text-xl mb-4 flex items-center gap-2">
                        <i data-lucide="clipboard-list" class="w-6 h-6"></i>
                        Recommended Actions
                    </h3>
                    <ul id="recommendations-list" class="space-y-3"></ul>
                </div>

                <!-- CTA -->
                <div class="bg-gradient-to-r from-orange-600 to-blue-600 p-8 rounded-xl text-white text-center">
                    <h3 class="text-2xl font-bold mb-3">Ready to Improve Your Comfort?</h3>
                    <p class="mb-6 text-orange-50">Schedule a free estimate with ABA Heating & Cooling. Randy Jenkins and our expert team have served 65,000+ Austin homeowners since 1994.</p>
                    <a href="tel:5126871463" class="inline-block bg-white text-orange-600 px-8 py-4 rounded-lg font-bold text-xl shadow-lg hover:shadow-xl transition-all mb-3">
                        <i data-lucide="phone" class="w-6 h-6 inline mr-2"></i> (512) 687-1463
                    </a>
                    <p class="text-sm text-orange-100">24/7 Emergency AC Service Available</p>
                </div>

                <!-- Service Area -->
                <div class="mt-6 text-center text-sm text-gray-600">
                    <p><strong>Serving:</strong> Austin, Leander, Round Rock, Pflugerville, Georgetown, Cedar Park</p>
                    <p class="mt-2">10,000+ AC Installations • Bryant Factory Authorized • 31 Years of Excellence</p>
                </div>

                <!-- Restart -->
                <div class="mt-6 text-center">
                    <button onclick="location.reload()" class="text-blue-600 hover:text-blue-700 font-semibold">
                        <i data-lucide="refresh-cw" class="w-4 h-4 inline mr-1"></i> Take Assessment Again
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center mt-8 text-gray-600 text-sm">
            <p>&copy; 2025 ABA Heating & Cooling | Licensed & Insured | EPA Certified | BBB Accredited</p>
            <p class="mt-1">Owner: Randy Jenkins | (512) 687-1463 | Austin, TX</p>
        </div>
    </div>

    <script>
        const questions = [
            {
                id: 'system-age',
                question: 'How old is your AC system?',
                icon: 'calendar',
                options: [
                    { value: 'new', label: '0-5 years', points: 25 },
                    { value: 'middle', label: '6-10 years', points: 20 },
                    { value: 'aging', label: '11-15 years', points: 10 },
                    { value: 'old', label: '15+ years', points: 0, flag: 'System is 15+ years old and nearing end of life. Replacement recommended.' }
                ]
            },
            {
                id: 'system-type',
                question: 'What type of cooling system do you have?',
                icon: 'air-vent',
                options: [
                    { value: 'central', label: 'Central AC', points: 25 },
                    { value: 'heat-pump', label: 'Heat Pump', points: 25 },
                    { value: 'mini-split', label: 'Mini-Split/Ductless', points: 20 },
                    { value: 'window', label: 'Window Units', points: 5 }
                ]
            },
            {
                id: 'last-maintenance',
                question: 'When was your last professional HVAC maintenance?',
                icon: 'wrench',
                options: [
                    { value: 'recent', label: 'Within 6 months', points: 25 },
                    { value: 'year', label: '6-12 months ago', points: 15 },
                    { value: 'long', label: '1-2 years ago', points: 5 },
                    { value: 'never', label: '2+ years or never', points: 0, flag: 'No maintenance in 2+ years. Efficiency and reliability severely compromised.' }
                ]
            },
            {
                id: 'filter-change',
                question: 'How often do you change your air filter?',
                icon: 'filter',
                options: [
                    { value: 'monthly', label: 'Every 1-2 months', points: 25 },
                    { value: 'quarterly', label: 'Every 3 months', points: 20 },
                    { value: 'rarely', label: 'Once or twice a year', points: 5 },
                    { value: 'never', label: 'Rarely/Never', points: 0 }
                ]
            },
            {
                id: 'unusual-noises',
                question: 'Does your AC make unusual noises?',
                icon: 'volume-2',
                options: [
                    { value: 'quiet', label: 'No, runs quietly', points: 25 },
                    { value: 'minor', label: 'Occasional light sounds', points: 15 },
                    { value: 'moderate', label: 'Frequent rattling/humming', points: 5 },
                    { value: 'loud', label: 'Loud grinding/banging', points: 0, flag: 'Loud unusual noises indicate mechanical failure. Immediate inspection needed.' }
                ]
            },
            {
                id: 'uneven-cooling',
                question: 'Do you experience uneven cooling between rooms?',
                icon: 'thermometer',
                options: [
                    { value: 'even', label: 'No, all rooms comfortable', points: 25 },
                    { value: 'slight', label: 'Slight variation', points: 15 },
                    { value: 'noticeable', label: 'Some rooms too hot/cold', points: 5 },
                    { value: 'extreme', label: 'Major temperature differences', points: 0 }
                ]
            },
            {
                id: 'energy-bills',
                question: 'How have your energy bills been trending?',
                icon: 'trending-up',
                options: [
                    { value: 'stable', label: 'Stable or decreasing', points: 25 },
                    { value: 'slight-increase', label: 'Slight increase', points: 15 },
                    { value: 'moderate-increase', label: 'Noticeably higher', points: 5 },
                    { value: 'spike', label: 'Major spike', points: 0 }
                ]
            },
            {
                id: 'thermostat-type',
                question: 'What type of thermostat do you have?',
                icon: 'gauge',
                options: [
                    { value: 'smart', label: 'Smart/WiFi (Nest, Ecobee)', points: 25 },
                    { value: 'programmable', label: 'Programmable digital', points: 20 },
                    { value: 'digital', label: 'Basic digital', points: 10 },
                    { value: 'manual', label: 'Manual/Dial', points: 0 }
                ]
            },
            {
                id: 'ductwork-age',
                question: 'How old is your ductwork?',
                icon: 'git-branch',
                options: [
                    { value: 'new', label: '0-10 years', points: 25 },
                    { value: 'middle', label: '11-20 years', points: 15 },
                    { value: 'old', label: '20+ years', points: 5 },
                    { value: 'unknown', label: 'Don\'t know', points: 10 }
                ]
            },
            {
                id: 'insulation',
                question: 'How would you rate your home\'s insulation?',
                icon: 'home',
                options: [
                    { value: 'excellent', label: 'Excellent (recently upgraded)', points: 25 },
                    { value: 'good', label: 'Good (well-maintained)', points: 20 },
                    { value: 'fair', label: 'Fair (original/aging)', points: 10 },
                    { value: 'poor', label: 'Poor (needs work)', points: 0 }
                ]
            },
            {
                id: 'refrigerant',
                question: 'Do you know what refrigerant your AC uses?',
                icon: 'droplet',
                options: [
                    { value: 'r410a', label: 'R-410A (modern)', points: 25 },
                    { value: 'r22', label: 'R-22 (Freon)', points: 0, flag: 'R-22 refrigerant is phased out and extremely expensive. Replacement recommended.' },
                    { value: 'unknown', label: 'Don\'t know', points: 15 }
                ]
            },
            {
                id: 'runtime',
                question: 'During Austin summer, how often does your AC run?',
                icon: 'clock',
                options: [
                    { value: 'normal', label: 'Cycles on/off normally', points: 25 },
                    { value: 'frequent', label: 'Runs frequently but cycles', points: 15 },
                    { value: 'constant', label: 'Runs almost constantly', points: 5 },
                    { value: 'struggle', label: 'Runs constantly, can\'t keep up', points: 0, flag: 'System can\'t maintain temperature during peak heat. Undersized or failing.' }
                ]
            }
        ];

        let currentQuestionIndex = 0;
        let answers = {};

        function startAssessment() {
            document.getElementById('welcome-screen').classList.add('hidden');
            document.getElementById('progress-container').classList.remove('hidden');
            document.getElementById('question-screen').classList.remove('hidden');
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentQuestionIndex];
            const container = document.getElementById('question-container');
            
            container.innerHTML = `
                <div class="mb-6">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="${q.icon}" class="w-6 h-6 text-blue-600"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900">${q.question}</h3>
                    </div>
                    <div class="space-y-3">
                        ${q.options.map((opt, idx) => `
                            <div class="radio-option p-4 rounded-lg ${answers[q.id] === opt.value ? 'selected' : ''}" 
                                 onclick="selectAnswer('${q.id}', '${opt.value}')">
                                <div class="flex items-center gap-3">
                                    <div class="w-5 h-5 rounded-full border-2 ${answers[q.id] === opt.value ? 'border-blue-600 bg-blue-600' : 'border-gray-300'} flex items-center justify-center">
                                        ${answers[q.id] === opt.value ? '<div class="w-2 h-2 bg-white rounded-full"></div>' : ''}
                                    </div>
                                    <span class="font-medium text-gray-900">${opt.label}</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;

            lucide.createIcons();
            updateProgress();
            updateNavButtons();
        }

        function selectAnswer(questionId, value) {
            answers[questionId] = value;
            const options = document.querySelectorAll('.radio-option');
            options.forEach(opt => opt.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            document.getElementById('next-btn').disabled = false;
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
            document.getElementById('progress-percent').textContent = Math.round(progress) + '%';
        }

        function updateNavButtons() {
            const backBtn = document.getElementById('back-btn');
            const nextBtn = document.getElementById('next-btn');
            
            if (currentQuestionIndex > 0) {
                backBtn.classList.remove('hidden');
            } else {
                backBtn.classList.add('hidden');
            }

            if (answers[questions[currentQuestionIndex].id]) {
                nextBtn.disabled = false;
            } else {
                nextBtn.disabled = true;
            }

            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.innerHTML = 'See Results <i data-lucide="check-circle" class="w-5 h-5 inline ml-2"></i>';
                lucide.createIcons();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        function calculateScore() {
            let totalPoints = 0;
            let maxPoints = 0;
            let healthPoints = 0, efficiencyPoints = 0, airPoints = 0, costPoints = 0;
            let redFlags = [];

            questions.forEach((q, idx) => {
                const answer = answers[q.id];
                const selected = q.options.find(opt => opt.value === answer);
                
                if (selected) {
                    totalPoints += selected.points;
                    maxPoints += 25;

                    // Category scoring
                    if (idx <= 2) healthPoints += selected.points;
                    else if (idx <= 5) efficiencyPoints += selected.points;
                    else if (idx <= 8) airPoints += selected.points;
                    else costPoints += selected.points;

                    if (selected.flag) {
                        redFlags.push(selected.flag);
                    }
                }
            });

            const score = Math.round((totalPoints / maxPoints) * 100);
            const health = Math.round((healthPoints / 75) * 100);
            const efficiency = Math.round((efficiencyPoints / 75) * 100);
            const air = Math.round((airPoints / 75) * 100);
            const cost = Math.round((costPoints / 75) * 100);

            return { score, health, efficiency, air, cost, redFlags };
        }

        function showResults() {
            document.getElementById('progress-container').classList.add('hidden');
            document.getElementById('question-screen').classList.add('hidden');
            document.getElementById('results-screen').classList.remove('hidden');

            const { score, health, efficiency, air, cost, redFlags } = calculateScore();

            // Animate gauge
            animateScore(score);

            // Category bars
            setTimeout(() => {
                animateBar('health-bar', 'health-score', health);
                animateBar('efficiency-bar', 'efficiency-score', efficiency);
                animateBar('air-bar', 'air-score', air);
                animateBar('cost-bar', 'cost-score', cost);
            }, 1000);

            // Red flags
            if (redFlags.length > 0) {
                document.getElementById('red-flags').classList.remove('hidden');
                const flagsList = document.getElementById('red-flags-list');
                flagsList.innerHTML = redFlags.map(flag => `
                    <li class="flex gap-2">
                        <i data-lucide="x-circle" class="w-5 h-5 text-red-600 flex-shrink-0"></i>
                        <span class="text-red-900">${flag}</span>
                    </li>
                `).join('');
            }

            // Savings estimate
            let savings = 0;
            let savingsDetails = '';
            let rebateInfo = '';

            if (score < 40) {
                savings = 1500;
                savingsDetails = 'With a new high-efficiency system, you could save up to $1,500/year on cooling costs.';
                rebateInfo = 'You may qualify for up to $1,200 in Austin Energy rebates for high-efficiency AC upgrades!';
            } else if (score < 60) {
                savings = 800;
                savingsDetails = 'Upgrading to a modern efficient system could save you $800/year on energy bills.';
                rebateInfo = 'Austin Energy offers rebates of $400-$1,200 for qualifying high-efficiency systems.';
            } else if (score < 80) {
                savings = 400;
                savingsDetails = 'Minor efficiency upgrades and regular maintenance could save you $400/year.';
                rebateInfo = 'Tune-ups and smart thermostats qualify for Austin Energy rebates up to $85.';
            } else {
                savings = 200;
                savingsDetails = 'Your system is in great shape! Regular maintenance can preserve efficiency and save $200+/year.';
                rebateInfo = 'Keep your rebate eligibility by maintaining your system. Smart thermostat rebates available.';
            }

            document.getElementById('savings-amount').textContent = savings;
            document.getElementById('savings-details').textContent = savingsDetails;
            document.getElementById('rebate-info').textContent = rebateInfo;

            // Recommendations
            const recommendations = [];
            if (score < 40) {
                recommendations.push('Schedule immediate system inspection — replacement likely needed');
                recommendations.push('Get free estimate on new high-efficiency Bryant system');
                recommendations.push('Ask about Austin Energy rebates (up to $1,200)');
                recommendations.push('Consider financing options for new installation');
            } else if (score < 60) {
                recommendations.push('Schedule professional tune-up and inspection');
                recommendations.push('Discuss efficiency upgrade options with ABA');
                recommendations.push('Consider upgrading to a smart thermostat');
                recommendations.push('Increase filter change frequency');
            } else if (score < 80) {
                recommendations.push('Schedule annual maintenance visit');
                recommendations.push('Upgrade to high-quality air filters for cedar season');
                recommendations.push('Seal and insulate ductwork if needed');
                recommendations.push('Consider smart thermostat for energy savings');
            } else {
                recommendations.push('Keep up the great work with regular maintenance!');
                recommendations.push('Schedule annual spring tune-up');
                recommendations.push('Monitor energy bills for any changes');
                recommendations.push('Upgrade filters during cedar fever season');
            }

            const recList = document.getElementById('recommendations-list');
            recList.innerHTML = recommendations.map(rec => `
                <li class="flex gap-3">
                    <i data-lucide="check" class="w-5 h-5 text-blue-600 flex-shrink-0"></i>
                    <span class="text-gray-700">${rec}</span>
                </li>
            `).join('');

            lucide.createIcons();
        }

        function animateScore(targetScore) {
            const gaugeCircumference = 502.4;
            const gaugeFill = document.getElementById('gauge-fill');
            const scoreValue = document.getElementById('score-value');
            const scoreLabel = document.getElementById('score-label');

            let color, label;
            if (targetScore >= 80) {
                color = '#16a34a';
                label = 'Excellent';
            } else if (targetScore >= 60) {
                color = '#0284c7';
                label = 'Good';
            } else if (targetScore >= 40) {
                color = '#ea580c';
                label = 'Fair';
            } else {
                color = '#dc2626';
                label = 'Needs Attention';
            }

            gaugeFill.style.stroke = color;
            const offset = gaugeCircumference - (targetScore / 100) * gaugeCircumference;
            gaugeFill.style.strokeDashoffset = offset;

            let current = 0;
            const increment = targetScore / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= targetScore) {
                    current = targetScore;
                    clearInterval(timer);
                }
                scoreValue.textContent = Math.round(current);
                scoreLabel.textContent = label;
            }, 40);
        }

        function animateBar(barId, scoreId, targetPercent) {
            const bar = document.getElementById(barId);
            const scoreEl = document.getElementById(scoreId);
            
            setTimeout(() => {
                bar.style.width = targetPercent + '%';
                scoreEl.textContent = targetPercent + '%';
            }, 100);
        }

        lucide.createIcons();
    </script>
<script>// Anti-scrape protection — injected into all tool pages
(function(){
  // Disable right-click context menu

  
  
  // Disable text selection on body (forms still selectable)
  
  
  // Re-enable for inputs/textareas
  document.querySelectorAll('input,textarea,select').forEach(function(el){
    el.style.userSelect = 'auto'; el.style.webkitUserSelect = 'auto';
  });
  
  // Disable drag
  document.addEventListener('dragstart', function(e){ e.preventDefault(); });
  
  // Disable print
  var style = document.createElement('style');
  style.textContent = '@media print { body { display: none !important; } }';
  document.head.appendChild(style);
  
  // Add invisible watermark
  var wm = document.createElement('div');
  wm.style.cssText = 'position:fixed;bottom:0;right:0;opacity:0.03;font-size:10px;pointer-events:none;z-index:99999;color:#000;';
  wm.textContent = 'Licensed demo — bennycutools.com — ' + new Date().toISOString().slice(0,10);
  document.body.appendChild(wm);
  
  // Detect devtools (basic)
  var threshold = 160;
  setInterval(function(){
    if (window.outerWidth - window.innerWidth > threshold || window.outerHeight - window.innerHeight > threshold) {
      document.body.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100vh;font-family:sans-serif;"><h1>This demo is proprietary. Please contact ben@bennycutools.com for licensing.</h1></div>';
    }
  }, 1000);
})();
</script>
</body>
</html>