<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asphalt Paving Calculator | P & B Paving</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }
        
        .content {
            padding: 40px 30px;
        }
        
        .input-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 25px;
            font-weight: 600;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 1em;
        }
        
        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #e74c3c;
        }
        
        .btn {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(231, 76, 60, 0.4);
        }
        
        .results {
            display: none;
            margin-top: 30px;
        }
        
        .result-card {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .result-item {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .result-item .value {
            font-size: 2em;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .result-item .label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .breakdown {
            background: white;
            color: #333;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }
        
        .breakdown h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .breakdown-list {
            list-style: none;
        }
        
        .breakdown-list li {
            padding: 12px;
            background: #f8f9fa;
            margin-bottom: 10px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .breakdown-list li strong {
            color: #2c3e50;
        }
        
        .savings-box {
            background: #27ae60;
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            font-size: 1.2em;
        }
        
        .comparison {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }
        
        .comparison h3 {
            color: #2c3e50;
            margin-bottom: 20px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .comparison-card {
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            transition: border-color 0.3s;
        }
        
        .comparison-card:hover {
            border-color: #e74c3c;
        }
        
        .comparison-card h4 {
            color: #e74c3c;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .comparison-card ul {
            list-style: none;
        }
        
        .comparison-card ul li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .comparison-card ul li:last-child {
            border-bottom: none;
        }
        
        .recommended {
            border-color: #27ae60;
            background: #e8f5e9;
        }
        
        .recommended h4 {
            color: #27ae60;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .input-row {
                grid-template-columns: 1fr;
            }
            
            .result-grid {
                grid-template-columns: 1fr;
            }
            
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <style>
    /* Kimi UI/UX Improvements */
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .radio-option, [class*="option"], [class*="choice"] { 
        min-height: 52px; transition: all 0.15s ease !important; 
    }
    .radio-option:active, [class*="option"]:active { transform: scale(0.98); }
    .btn-primary:active, [class*="btn"]:active { transform: translateY(1px); }
    /* Better progress bar */
    [class*="progress"] { height: 6px !important; border-radius: 3px; }
    </style>
    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üõ£Ô∏è Asphalt Paving Calculator</h1>
            <p>Get instant estimates for your paving project</p>
        </div>
        
        <div class="content">
            <div class="input-section">
                <h2 class="section-title">Project Details</h2>
                
                <div class="input-group">
                    <label>Project Type</label>
                    <select id="projectType" onchange="updateProjectType()">
                        <option value="driveway">Residential Driveway</option>
                        <option value="parking">Commercial Parking Lot</option>
                        <option value="road">Private Road</option>
                        <option value="court">Sports Court / Pad</option>
                    </select>
                </div>
                
                <div class="input-row">
                    <div class="input-group">
                        <label>Length (feet)</label>
                        <input type="number" id="length" value="50" min="1" step="1">
                    </div>
                    <div class="input-group">
                        <label>Width (feet)</label>
                        <input type="number" id="width" value="12" min="1" step="1">
                    </div>
                </div>
                
                <div class="input-group">
                    <label>Work Type</label>
                    <select id="workType">
                        <option value="new">New Construction</option>
                        <option value="overlay">Overlay (existing surface)</option>
                        <option value="repair">Repair & Patch</option>
                        <option value="replacement">Full Replacement</option>
                    </select>
                </div>
                
                <div class="input-row">
                    <div class="input-group">
                        <label>Asphalt Thickness (inches)</label>
                        <select id="thickness">
                            <option value="2">2" (Overlay)</option>
                            <option value="2.5">2.5" (Residential Standard)</option>
                            <option value="3" selected>3" (Residential Heavy)</option>
                            <option value="4">4" (Commercial Light)</option>
                            <option value="5">5" (Commercial Heavy)</option>
                            <option value="6">6" (DOT / Municipal)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Base Condition</label>
                        <select id="baseCondition">
                            <option value="good">Good (stable, minimal prep)</option>
                            <option value="fair" selected>Fair (some grading needed)</option>
                            <option value="poor">Poor (extensive prep required)</option>
                        </select>
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-group">
                        <label>Gravel Base Depth (inches)</label>
                        <select id="gravelDepth">
                            <option value="0">None (overlay)</option>
                            <option value="4">4" (Minimal)</option>
                            <option value="6" selected>6" (Standard)</option>
                            <option value="8">8" (Heavy duty)</option>
                            <option value="12">12" (Commercial)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Asphalt Cost per Ton ($)</label>
                        <input type="number" id="asphaltCost" value="120" min="80" step="5">
                    </div>
                </div>
                
                <h2 class="section-title" style="margin-top: 30px;">Add-Ons</h2>
                
                <div class="input-row">
                    <div class="input-group">
                        <label><input type="checkbox" id="edging"> Bituminous Curbing</label>
                    </div>
                    <div class="input-group">
                        <label><input type="checkbox" id="milling"> Milling (remove old surface)</label>
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-group">
                        <label><input type="checkbox" id="demo"> Demo & Removal</label>
                    </div>
                    <div class="input-group">
                        <label><input type="checkbox" id="sealcoat"> Sealcoating (2 years out)</label>
                    </div>
                </div>
                
                <button class="btn" onclick="calculatePaving()">Calculate Project Cost</button>
            </div>
            
            <div class="results" id="results">
                <div class="result-card">
                    <h2 style="margin-bottom: 10px;">üìä Project Estimate</h2>
                    <div class="result-grid">
                        <div class="result-item">
                            <div class="value" id="totalCost">$0</div>
                            <div class="label">Total Project Cost</div>
                        </div>
                        <div class="result-item">
                            <div class="value" id="totalArea">0</div>
                            <div class="label">Total Area (sq ft)</div>
                        </div>
                        <div class="result-item">
                            <div class="value" id="asphaltTons">0</div>
                            <div class="label">Asphalt Needed (tons)</div>
                        </div>
                        <div class="result-item">
                            <div class="value" id="gravelTons">0</div>
                            <div class="label">Gravel Base (tons)</div>
                        </div>
                    </div>
                    
                    <div class="breakdown">
                        <h3>üí∞ Cost Breakdown</h3>
                        <ul class="breakdown-list" id="breakdownList"></ul>
                    </div>
                    
                    <div class="comparison">
                        <h3>üîß Should You Repair or Replace?</h3>
                        <div class="comparison-grid" id="comparisonGrid"></div>
                    </div>
                    
                    <div class="savings-box">
                        üí° <strong>Tip:</strong> Spring & Fall are ideal paving seasons in Maine. Book early for best rates!
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function updateProjectType() {
            const type = document.getElementById('projectType').value;
            const workType = document.getElementById('workType');
            const thickness = document.getElementById('thickness');
            
            // Adjust defaults based on project type
            if (type === 'parking' || type === 'road') {
                thickness.value = '4';
            } else if (type === 'court') {
                thickness.value = '3';
            } else {
                thickness.value = '3';
            }
        }
        
        function calculatePaving() {
            const length = parseFloat(document.getElementById('length').value) || 0;
            const width = parseFloat(document.getElementById('width').value) || 0;
            const thickness = parseFloat(document.getElementById('thickness').value) || 3;
            const workType = document.getElementById('workType').value;
            const baseCondition = document.getElementById('baseCondition').value;
            const gravelDepth = parseFloat(document.getElementById('gravelDepth').value) || 0;
            const asphaltCost = parseFloat(document.getElementById('asphaltCost').value) || 120;
            
            const edging = document.getElementById('edging').checked;
            const milling = document.getElementById('milling').checked;
            const demo = document.getElementById('demo').checked;
            const sealcoat = document.getElementById('sealcoat').checked;
            
            // Calculate area
            const area = length * width;
            
            // Calculate asphalt tonnage (110 lbs per sq in per inch thickness)
            const cubicFeet = (area * thickness) / 12;
            const asphaltTons = (cubicFeet * 110) / 2000; // 110 lbs/cubic ft, convert to tons
            
            // Calculate gravel tonnage if needed
            const gravelCubicFeet = (area * gravelDepth) / 12;
            const gravelTons = gravelDepth > 0 ? (gravelCubicFeet * 100) / 2000 : 0; // 100 lbs/cubic ft
            
            // Base costs
            let materialCost = asphaltTons * asphaltCost;
            let gravelCost = gravelTons * 30; // $30/ton gravel
            let laborCost = area * 3.5; // $3.50/sqft labor
            
            // Adjustments based on work type
            if (workType === 'overlay') {
                laborCost *= 0.8; // 20% less labor
            } else if (workType === 'replacement') {
                laborCost *= 1.3; // 30% more labor
            } else if (workType === 'repair') {
                laborCost *= 1.5; // Premium for patch work
                materialCost *= 0.5; // Less material
            }
            
            // Base prep adjustments
            let prepCost = 0;
            if (baseCondition === 'fair') {
                prepCost = area * 1.5;
            } else if (baseCondition === 'poor') {
                prepCost = area * 3.0;
            }
            
            // Add-on costs
            let addonCost = 0;
            let addons = [];
            
            if (edging) {
                const edgingCost = (length + width) * 2 * 15; // $15/linear ft
                addonCost += edgingCost;
                addons.push({ name: 'Bituminous Curbing', cost: edgingCost });
            }
            
            if (milling) {
                const millingCost = area * 1.5;
                addonCost += millingCost;
                addons.push({ name: 'Milling', cost: millingCost });
            }
            
            if (demo) {
                const demoCost = area * 2.0;
                addonCost += demoCost;
                addons.push({ name: 'Demo & Removal', cost: demoCost });
            }
            
            if (sealcoat) {
                const sealcoatCost = area * 0.25;
                addonCost += sealcoatCost;
                addons.push({ name: 'Sealcoating (future)', cost: sealcoatCost });
            }
            
            // Total cost
            const totalCost = materialCost + gravelCost + laborCost + prepCost + addonCost;
            
            // Display results
            document.getElementById('totalCost').textContent = '$' + totalCost.toLocaleString(undefined, {maximumFractionDigits: 0});
            document.getElementById('totalArea').textContent = area.toLocaleString();
            document.getElementById('asphaltTons').textContent = asphaltTons.toFixed(1);
            document.getElementById('gravelTons').textContent = gravelTons > 0 ? gravelTons.toFixed(1) : 'N/A';
            
            // Build breakdown
            const breakdownList = document.getElementById('breakdownList');
            breakdownList.innerHTML = `
                <li><strong>Asphalt Material</strong><span>$${materialCost.toLocaleString(undefined, {maximumFractionDigits: 0})}</span></li>
                ${gravelCost > 0 ? `<li><strong>Gravel Base</strong><span>$${gravelCost.toLocaleString(undefined, {maximumFractionDigits: 0})}</span></li>` : ''}
                <li><strong>Labor & Installation</strong><span>$${laborCost.toLocaleString(undefined, {maximumFractionDigits: 0})}</span></li>
                ${prepCost > 0 ? `<li><strong>Site Preparation</strong><span>$${prepCost.toLocaleString(undefined, {maximumFractionDigits: 0})}</span></li>` : ''}
                ${addons.map(addon => `<li><strong>${addon.name}</strong><span>$${addon.cost.toLocaleString(undefined, {maximumFractionDigits: 0})}</span></li>`).join('')}
                <li style="background: #e8f5e9; font-size: 1.1em;"><strong>TOTAL PROJECT COST</strong><span><strong>$${totalCost.toLocaleString(undefined, {maximumFractionDigits: 0})}</strong></span></li>
            `;
            
            // Build comparison
            const repairCost = area * 2.5;
            const overlayGost = totalCost * 0.6;
            const fullReplaceCost = totalCost;
            
            const comparisonGrid = document.getElementById('comparisonGrid');
            
            if (workType === 'replacement' || workType === 'new') {
                comparisonGrid.innerHTML = `
                    <div class="comparison-card">
                        <h4>Overlay Option</h4>
                        <ul>
                            <li>Cost: $${overlayGost.toLocaleString(undefined, {maximumFractionDigits: 0})}</li>
                            <li>Lifespan: 10-15 years</li>
                            <li>Best if: Base is stable</li>
                            <li>Savings: $${(fullReplaceCost - overlayGost).toLocaleString(undefined, {maximumFractionDigits: 0})}</li>
                        </ul>
                    </div>
                    <div class="comparison-card recommended">
                        <h4>‚úÖ Full Replacement</h4>
                        <ul>
                            <li>Cost: $${fullReplaceCost.toLocaleString(undefined, {maximumFractionDigits: 0})}</li>
                            <li>Lifespan: 20-30 years</li>
                            <li>Best if: Base needs work</li>
                            <li>Investment: Best long-term value</li>
                        </ul>
                    </div>
                `;
            } else {
                comparisonGrid.innerHTML = `
                    <div class="comparison-card">
                        <h4>Repair & Patch</h4>
                        <ul>
                            <li>Cost: $${repairCost.toLocaleString(undefined, {maximumFractionDigits: 0})}</li>
                            <li>Lifespan: 2-5 years</li>
                            <li>Best if: Limited damage</li>
                            <li>Quick fix, temporary</li>
                        </ul>
                    </div>
                    <div class="comparison-card recommended">
                        <h4>‚úÖ Your Selected Option</h4>
                        <ul>
                            <li>Cost: $${totalCost.toLocaleString(undefined, {maximumFractionDigits: 0})}</li>
                            <li>Better long-term value</li>
                            <li>Proper fix that lasts</li>
                            <li>Worth the investment</li>
                        </ul>
                    </div>
                `;
            }
            
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
