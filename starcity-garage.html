<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <title>Garage Door Problem Diagnostic ‚Äî Star City Garage Doors</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        star: {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            200: '#fde68a',
                            300: '#fcd34d',
                            400: '#fbbf24',
                            500: '#f59e0b',
                            600: '#d97706',
                            700: '#b45309'
                        },
                        navy: {
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            200: '#c7d2fe',
                            300: '#a5b4fc',
                            400: '#818cf8',
                            500: '#1e3a5f',
                            600: '#1a3050',
                            700: '#152742',
                            800: '#111e33',
                            900: '#0c1424'
                        },
                        urgent: {
                            50: '#fef2f2',
                            100: '#fee2e2',
                            500: '#ef4444',
                            600: '#dc2626'
                        },
                        caution: {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            500: '#f59e0b',
                            600: '#d97706'
                        },
                        safe: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            500: '#22c55e',
                            600: '#16a34a'
                        }
                    },
                    fontFamily: {
                        'inter': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        * { font-family: 'Inter', system-ui, sans-serif; }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
        .slide-up { animation: slideUp 0.5s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: translateY(0); } }
        .symptom-btn { transition: all 0.3s ease; }
        .symptom-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px -5px rgba(0,0,0,0.1); }
        .symptom-btn.selected { border-color: #f59e0b; background: #fffbeb; }
        .check-item { transition: all 0.2s ease; }
        .check-item.checked { background: #f0fdf4; border-color: #22c55e; }
        .pulse-ring { animation: pulseRing 2s ease-in-out infinite; }
        @keyframes pulseRing { 0%, 100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.3); } 50% { box-shadow: 0 0 0 8px rgba(245, 158, 11, 0); } }
        .progress-fill { transition: width 0.5s ease; }
        .diag-card { background: linear-gradient(135deg, #1e3a5f 0%, #0c1424 100%); }
    </style>

    <style>
    /* Kimi UI/UX Improvements */
    .fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
    .radio-option, [class*="option"], [class*="choice"] { 
        min-height: 52px; transition: all 0.15s ease !important; 
    }
    .radio-option:active, [class*="option"]:active { transform: scale(0.98); }
    .btn-primary:active, [class*="btn"]:active { transform: translateY(1px); }
    /* Better progress bar */
    [class*="progress"] { height: 6px !important; border-radius: 3px; }
    </style>
    
</head>
<body class="bg-gray-50 min-h-screen">

    <!-- Header -->
    <header class="bg-navy-500 text-white relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-4 right-8 text-6xl">‚≠ê</div>
            <div class="absolute bottom-2 right-24 text-4xl">‚≠ê</div>
        </div>
        <div class="max-w-3xl mx-auto px-4 py-6 relative">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold tracking-tight flex items-center gap-2">
                        <span class="text-star-400">‚≠ê</span> Star City Garage Doors
                    </h1>
                    <p class="text-navy-200 text-sm mt-1">Shining Service, Stellar Solutions ‚Äî Roanoke & Lynchburg</p>
                </div>
                <div class="text-right hidden sm:block">
                    <div class="text-star-300 font-semibold text-sm">Since 2018</div>
                    <p class="text-navy-200 text-xs mt-0.5">5.0 ‚òÖ on Google</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Progress -->
    <div class="bg-white border-b sticky top-0 z-40">
        <div class="max-w-3xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-600" id="stepLabel">Step 1 of 3 ‚Äî What's happening?</span>
                <span class="text-sm text-gray-400" id="stepPercent">33%</span>
            </div>
            <div class="w-full bg-gray-100 rounded-full h-2">
                <div class="bg-star-500 h-2 rounded-full progress-fill" id="progressBar" style="width: 33%"></div>
            </div>
        </div>
    </div>

    <main class="max-w-3xl mx-auto px-4 py-8">

        <!-- Step 1: Main Symptom -->
        <div id="step1" class="fade-in">
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-14 h-14 bg-star-100 rounded-2xl mb-4">
                    <i data-lucide="search" class="w-7 h-7 text-star-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">What's going on with your garage door?</h2>
                <p class="text-gray-500 mt-2">Select the symptom that best describes your situation</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-8">
                <button onclick="selectSymptom('wont-open')" data-sym="wont-open" class="symptom-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="w-11 h-11 rounded-xl bg-urgent-50 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="lock" class="w-5 h-5 text-urgent-500"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-gray-900">Won't Open or Close</div>
                            <div class="text-sm text-gray-500 mt-0.5">Door is stuck, unresponsive, or only moves partially</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSymptom('noisy')" data-sym="noisy" class="symptom-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="w-11 h-11 rounded-xl bg-caution-50 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="volume-2" class="w-5 h-5 text-caution-500"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-gray-900">Making Strange Noises</div>
                            <div class="text-sm text-gray-500 mt-0.5">Grinding, squeaking, popping, or banging sounds</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSymptom('off-track')" data-sym="off-track" class="symptom-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="w-11 h-11 rounded-xl bg-urgent-50 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="move-diagonal" class="w-5 h-5 text-urgent-500"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-gray-900">Off Track or Crooked</div>
                            <div class="text-sm text-gray-500 mt-0.5">Door looks uneven, tilted, or has come off the rails</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSymptom('spring')" data-sym="spring" class="symptom-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="w-11 h-11 rounded-xl bg-urgent-50 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="zap" class="w-5 h-5 text-urgent-500"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-gray-900">Broken Spring</div>
                            <div class="text-sm text-gray-500 mt-0.5">Heard a loud bang, door is very heavy, visible gap in spring</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSymptom('opener')" data-sym="opener" class="symptom-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="w-11 h-11 rounded-xl bg-caution-50 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="radio" class="w-5 h-5 text-caution-500"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-gray-900">Opener / Remote Issues</div>
                            <div class="text-sm text-gray-500 mt-0.5">Remote not working, keypad unresponsive, motor runs but door doesn't move</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSymptom('slow')" data-sym="slow" class="symptom-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="w-11 h-11 rounded-xl bg-caution-50 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="clock" class="w-5 h-5 text-caution-500"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-gray-900">Slow or Jerky Movement</div>
                            <div class="text-sm text-gray-500 mt-0.5">Door hesitates, reverses, moves unevenly, or is very slow</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSymptom('damage')" data-sym="damage" class="symptom-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="w-11 h-11 rounded-xl bg-caution-50 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="shield-alert" class="w-5 h-5 text-caution-500"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-gray-900">Physical Damage</div>
                            <div class="text-sm text-gray-500 mt-0.5">Dented panels, weathering, cracks, or impact damage</div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSymptom('new')" data-sym="new" class="symptom-btn border-2 border-gray-200 rounded-xl p-5 text-left cursor-pointer bg-white">
                    <div class="flex items-start gap-3">
                        <div class="w-11 h-11 rounded-xl bg-safe-50 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="plus-square" class="w-5 h-5 text-safe-500"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-gray-900">Need New Door or Opener</div>
                            <div class="text-sm text-gray-500 mt-0.5">Looking for installation, replacement, or upgrade</div>
                        </div>
                    </div>
                </button>
            </div>
        </div>

        <!-- Step 2: Details -->
        <div id="step2" class="hidden">
            <div class="text-center mb-8 fade-in">
                <div class="inline-flex items-center justify-center w-14 h-14 bg-navy-100 rounded-2xl mb-4">
                    <i data-lucide="clipboard-list" class="w-7 h-7 text-navy-500"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">A few more details</h2>
                <p class="text-gray-500 mt-2">This helps us give you a better diagnosis</p>
            </div>

            <div class="space-y-6 mb-8">
                <!-- Door Type -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">What type of garage door?</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="selectDetail('doorType','single')" data-detail="doorType-single" class="symptom-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üöó</div>
                            <span class="text-sm font-medium text-gray-700">Single (1-car)</span>
                        </button>
                        <button onclick="selectDetail('doorType','double')" data-detail="doorType-double" class="symptom-btn border-2 border-gray-200 rounded-xl p-4 text-center cursor-pointer bg-white">
                            <div class="text-2xl mb-1">üöóüöó</div>
                            <span class="text-sm font-medium text-gray-700">Double (2-car)</span>
                        </button>
                    </div>
                </div>

                <!-- Age -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">How old is the system?</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <button onclick="selectDetail('age','0-5')" data-detail="age-0-5" class="symptom-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">0‚Äì5 years</button>
                        <button onclick="selectDetail('age','5-10')" data-detail="age-5-10" class="symptom-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">5‚Äì10 years</button>
                        <button onclick="selectDetail('age','10-20')" data-detail="age-10-20" class="symptom-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">10‚Äì20 years</button>
                        <button onclick="selectDetail('age','20+')" data-detail="age-20+" class="symptom-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">20+ years</button>
                    </div>
                </div>

                <!-- Additional Symptoms -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6">
                    <h3 class="font-semibold text-gray-900 mb-4">Any of these also happening? <span class="text-gray-400 font-normal">(select all that apply)</span></h3>
                    <div class="space-y-2" id="extraSymptoms">
                        <button onclick="toggleExtra('cable-loose')" data-extra="cable-loose" class="check-item w-full border-2 border-gray-200 rounded-xl p-3 text-left cursor-pointer bg-white flex items-center gap-3">
                            <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 check-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                            <span class="text-sm text-gray-700">Cable hanging loose or frayed</span>
                        </button>
                        <button onclick="toggleExtra('gap-bottom')" data-extra="gap-bottom" class="check-item w-full border-2 border-gray-200 rounded-xl p-3 text-left cursor-pointer bg-white flex items-center gap-3">
                            <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 check-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                            <span class="text-sm text-gray-700">Gap at the bottom when closed</span>
                        </button>
                        <button onclick="toggleExtra('reverses')" data-extra="reverses" class="check-item w-full border-2 border-gray-200 rounded-xl p-3 text-left cursor-pointer bg-white flex items-center gap-3">
                            <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 check-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                            <span class="text-sm text-gray-700">Door reverses after hitting the floor</span>
                        </button>
                        <button onclick="toggleExtra('light-blink')" data-extra="light-blink" class="check-item w-full border-2 border-gray-200 rounded-xl p-3 text-left cursor-pointer bg-white flex items-center gap-3">
                            <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 check-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                            <span class="text-sm text-gray-700">Opener light flashing / blinking</span>
                        </button>
                        <button onclick="toggleExtra('weather-seal')" data-extra="weather-seal" class="check-item w-full border-2 border-gray-200 rounded-xl p-3 text-left cursor-pointer bg-white flex items-center gap-3">
                            <div class="w-6 h-6 rounded-md border-2 border-gray-300 flex items-center justify-center flex-shrink-0 check-box"><i data-lucide="check" class="w-4 h-4 text-white"></i></div>
                            <span class="text-sm text-gray-700">Weather seal worn or missing</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="flex gap-3">
                <button onclick="goToStep(1)" class="px-6 py-4 border-2 border-gray-200 rounded-xl text-gray-600 font-medium hover:bg-gray-50 transition">‚Üê Back</button>
                <button onclick="goToStep(3)" id="step2Next" class="flex-1 bg-star-500 hover:bg-star-600 text-white font-semibold py-4 rounded-xl transition disabled:opacity-40 disabled:cursor-not-allowed" disabled>
                    Get My Diagnosis ‚Üí
                </button>
            </div>
        </div>

        <!-- Step 3: Results -->
        <div id="step3" class="hidden">
            <div class="slide-up">
                <!-- Diagnosis Card -->
                <div class="diag-card rounded-3xl p-8 text-white mb-8">
                    <div class="flex items-center gap-2 mb-4">
                        <i data-lucide="stethoscope" class="w-5 h-5 text-star-400"></i>
                        <span class="text-star-300 font-medium text-sm uppercase tracking-wide">Your Diagnosis</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-2" id="diagTitle">‚Äî</h3>
                    <p class="text-navy-200 text-sm leading-relaxed" id="diagDesc">‚Äî</p>

                    <!-- Urgency -->
                    <div class="mt-6 flex items-center gap-3" id="urgencyBadge">
                        <!-- filled by JS -->
                    </div>

                    <!-- Cost Range -->
                    <div class="mt-6 pt-6 border-t border-white/10">
                        <div class="text-sm text-navy-200 mb-1">Estimated Repair Cost</div>
                        <div class="text-3xl font-extrabold" id="costRange">$0 ‚Äì $0</div>
                        <div class="text-xs text-navy-300 mt-1">Based on typical Roanoke-area pricing. Final quote after on-site inspection.</div>
                    </div>
                </div>

                <!-- What's Likely Wrong -->
                <div class="bg-white rounded-2xl border border-gray-200 p-6 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-4 flex items-center gap-2">
                        <i data-lucide="wrench" class="w-5 h-5 text-navy-500"></i>
                        What's Likely Happening
                    </h3>
                    <div id="likelyCauses" class="space-y-3"></div>
                </div>

                <!-- Safety Warning (conditional) -->
                <div id="safetyWarning" class="bg-urgent-50 border border-red-200 rounded-2xl p-6 mb-6 hidden">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 rounded-full bg-red-200 flex items-center justify-center flex-shrink-0">
                            <i data-lucide="alert-triangle" class="w-5 h-5 text-red-700"></i>
                        </div>
                        <div>
                            <div class="font-semibold text-red-900">‚ö†Ô∏è Safety Notice</div>
                            <div class="text-sm text-red-700 mt-1" id="safetyText">Do NOT attempt to repair garage door springs yourself. They are under extreme tension and can cause serious injury. Call a professional.</div>
                        </div>
                    </div>
                </div>

                <!-- CTA -->
                <div class="bg-white rounded-2xl border-2 border-star-200 p-6 mb-6">
                    <h3 class="font-semibold text-gray-900 mb-2">Let Jesse & Micah take a look</h3>
                    <p class="text-gray-500 text-sm mb-5">Star City Garage Doors offers same-day service with fully stocked trucks. Most repairs completed in a single visit.</p>

                    <div class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                                <input type="text" id="contactName" class="w-full border border-gray-300 rounded-xl px-4 py-3 text-gray-900 focus:ring-2 focus:ring-star-500 focus:border-star-500 outline-none transition" placeholder="Your name">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                <input type="tel" id="contactPhone" class="w-full border border-gray-300 rounded-xl px-4 py-3 text-gray-900 focus:ring-2 focus:ring-star-500 focus:border-star-500 outline-none transition" placeholder="(540) 555-1234">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Your Area</label>
                            <select id="contactArea" class="w-full border border-gray-300 rounded-xl px-4 py-3 text-gray-900 bg-white focus:ring-2 focus:ring-star-500 focus:border-star-500 outline-none transition">
                                <option value="">Select area...</option>
                                <option>Roanoke</option>
                                <option>Lynchburg</option>
                                <option>Smith Mountain Lake</option>
                                <option>Salem</option>
                                <option>Blue Ridge</option>
                                <option>Cave Spring</option>
                                <option>Amherst</option>
                                <option>Bedford</option>
                                <option>Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Preferred Time</label>
                            <div class="grid grid-cols-3 gap-2">
                                <button onclick="selectTime('morning')" data-time="morning" class="symptom-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">Morning</button>
                                <button onclick="selectTime('afternoon')" data-time="afternoon" class="symptom-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">Afternoon</button>
                                <button onclick="selectTime('asap')" data-time="asap" class="symptom-btn border-2 border-gray-200 rounded-xl p-3 text-center cursor-pointer bg-white text-sm font-medium text-gray-700">ASAP</button>
                            </div>
                        </div>
                        <button onclick="submitRequest()" id="submitBtn" class="w-full bg-star-500 hover:bg-star-600 text-white font-bold py-4 rounded-xl transition pulse-ring flex items-center justify-center gap-2">
                            <i data-lucide="calendar" class="w-5 h-5"></i>
                            Schedule My Service Call
                        </button>
                        <p class="text-xs text-gray-400 text-center">Free estimates on new installations. Financing available through Wisetack.</p>
                    </div>
                </div>

                <!-- Or call -->
                <div class="text-center py-4">
                    <p class="text-gray-400 text-sm mb-2">Need help right now?</p>
                    <a href="tel:5407971293" class="inline-flex items-center gap-2 text-navy-500 font-bold text-xl hover:text-navy-600 transition">
                        <i data-lucide="phone" class="w-5 h-5"></i>
                        (540) 797-1293
                    </a>
                    <p class="text-gray-400 text-xs mt-1">Mon‚ÄìFri 8am‚Äì5:30pm</p>
                </div>

                <div class="flex gap-3 mt-6">
                    <button onclick="goToStep(2)" class="px-6 py-4 border-2 border-gray-200 rounded-xl text-gray-600 font-medium hover:bg-gray-50 transition">‚Üê Back</button>
                    <button onclick="startOver()" class="flex-1 border-2 border-gray-200 rounded-xl text-gray-600 font-medium py-4 hover:bg-gray-50 transition">Start Over</button>
                </div>
            </div>
        </div>

        <!-- Thank You -->
        <div id="thankYou" class="hidden text-center py-12">
            <div class="slide-up">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-safe-100 rounded-full mb-6">
                    <i data-lucide="check-circle-2" class="w-10 h-10 text-safe-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Service Request Submitted!</h2>
                <p class="text-gray-500 max-w-md mx-auto">Jesse will be in touch to confirm your appointment. Star City is known for lightning-fast responses ‚Äî most customers hear back within the hour.</p>
                <button onclick="startOver()" class="mt-8 text-star-600 font-medium hover:text-star-700 transition">Run another diagnostic ‚Üí</button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-navy-800 text-white mt-16">
        <div class="max-w-3xl mx-auto px-4 py-8">
            <div class="flex flex-col md:flex-row justify-between items-start gap-6">
                <div>
                    <h3 class="font-bold text-lg">‚≠ê Star City Garage Doors LLC</h3>
                    <p class="text-navy-200 text-sm mt-1">3451 Brandon Ave SW, Suite 20, Roanoke, VA 24018</p>
                    <p class="text-navy-200 text-sm">(540) 797-1293</p>
                    <p class="text-navy-200 text-sm">Serving Roanoke, Lynchburg & Smith Mountain Lake</p>
                </div>
                <div class="text-sm text-navy-300">
                    <p>doorLink & Haas Doors ‚Ä¢ LiftMaster & SOMMER Openers</p>
                    <p class="mt-1">Same-day service ‚Ä¢ Financing available</p>
                    <p class="mt-2 text-navy-400 text-xs">Diagnostic results are informational estimates only. Actual diagnosis requires on-site inspection.<br>Demo tool by <a href="https://bennycutools.com" class="underline hover:text-white">BennyCu Tools</a>.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // State
        let state = {
            symptom: null,
            doorType: null,
            age: null,
            extras: new Set(),
            time: null
        };

        // Diagnosis database
        const DIAGNOSES = {
            'wont-open': {
                title: 'Door Mechanism Failure',
                desc: 'When a garage door refuses to open or close, the most common culprits are broken springs, snapped cables, or a failed opener motor. If the motor runs but the door doesn\'t move, the drive mechanism (chain, belt, or screw) may have disconnected.',
                urgency: 'high',
                urgencyLabel: 'üî¥ Needs Immediate Attention',
                urgencyDesc: 'Your vehicle may be trapped and your home security is compromised.',
                costLow: 150, costHigh: 450,
                causes: [
                    { icon: 'zap', text: 'Broken torsion or extension spring ‚Äî the #1 cause of a non-functioning door' },
                    { icon: 'link', text: 'Snapped or frayed lift cable preventing balanced operation' },
                    { icon: 'cpu', text: 'Opener motor failure or stripped drive gear' },
                    { icon: 'eye', text: 'Misaligned safety sensors blocking the close signal' }
                ],
                safety: true,
                safetyMsg: 'Do NOT attempt to force the door open. If a spring is broken, the door is extremely heavy and dangerous to lift manually.'
            },
            'noisy': {
                title: 'Worn Mechanical Components',
                desc: 'Grinding, squeaking, and banging typically indicate worn rollers, dry hinges, or loose hardware. Left untreated, these cause accelerated wear on the entire system and can lead to a breakdown.',
                urgency: 'medium',
                urgencyLabel: 'üü° Schedule Soon',
                urgencyDesc: 'Not an emergency, but will get worse (and more expensive) if ignored.',
                costLow: 85, costHigh: 250,
                causes: [
                    { icon: 'circle', text: 'Worn nylon or steel rollers grinding against the track' },
                    { icon: 'droplets', text: 'Dry hinges, bearings, or springs needing lubrication' },
                    { icon: 'settings', text: 'Loose mounting hardware causing vibration and rattling' },
                    { icon: 'ruler', text: 'Track misalignment creating metal-on-metal contact' }
                ],
                safety: false
            },
            'off-track': {
                title: 'Track Derailment',
                desc: 'A garage door that has come off its tracks is a serious issue. This usually happens from impact (car bumping it), broken cables causing uneven lifting, or severely worn rollers popping out of the track.',
                urgency: 'high',
                urgencyLabel: 'üî¥ Needs Immediate Attention',
                urgencyDesc: 'An off-track door can fall unexpectedly. Do not operate it.',
                costLow: 125, costHigh: 350,
                causes: [
                    { icon: 'car', text: 'Impact damage knocked the door out of alignment' },
                    { icon: 'link', text: 'Cable broke on one side, pulling the door unevenly' },
                    { icon: 'circle', text: 'Rollers worn to the point they\'ve popped from the track' },
                    { icon: 'ruler', text: 'Track brackets loosened from the wall/ceiling' }
                ],
                safety: true,
                safetyMsg: 'Do NOT try to force the door back on track yourself. An off-track door can fall without warning. Keep children and pets away.'
            },
            'spring': {
                title: 'Broken Garage Door Spring',
                desc: 'A broken spring is unmistakable ‚Äî you likely heard a loud bang like a gunshot. The door will be extremely heavy to lift because springs bear 90% of the door\'s weight. This is the most common garage door repair.',
                urgency: 'high',
                urgencyLabel: 'üî¥ Needs Immediate Attention',
                urgencyDesc: 'Door is essentially non-functional and attempting manual operation is dangerous.',
                costLow: 175, costHigh: 350,
                causes: [
                    { icon: 'zap', text: 'Torsion spring reached end of life cycle (typically 10,000 cycles / 7-10 years)' },
                    { icon: 'thermometer', text: 'Cold weather increases spring brittleness ‚Äî common in Virginia winters' },
                    { icon: 'alert-triangle', text: 'Rust and corrosion weakened the spring over time' }
                ],
                safety: true,
                safetyMsg: 'NEVER attempt to replace garage door springs yourself. They are under extreme tension (up to 300+ lbs of force) and can cause severe injury or death. This is strictly a professional repair.'
            },
            'opener': {
                title: 'Opener / Remote Malfunction',
                desc: 'Opener issues range from simple (dead remote battery, need reprogramming) to complex (circuit board failure, stripped gears). If the wall button works but remote doesn\'t, it\'s usually a simple fix.',
                urgency: 'low',
                urgencyLabel: 'üü¢ Can Schedule at Convenience',
                urgencyDesc: 'Usually not a security risk. Door can typically be operated manually.',
                costLow: 65, costHigh: 275,
                causes: [
                    { icon: 'battery', text: 'Dead batteries in remote or keypad' },
                    { icon: 'radio', text: 'Remote needs reprogramming or replacement' },
                    { icon: 'cpu', text: 'Opener logic board failure (common in units 10+ years old)' },
                    { icon: 'settings', text: 'Stripped drive gear ‚Äî motor runs but nothing moves' }
                ],
                safety: false
            },
            'slow': {
                title: 'Resistance or Balance Issue',
                desc: 'A slow, jerky, or hesitating door usually means something is creating resistance in the system. Springs may be losing tension, tracks may be misaligned, or rollers could be binding.',
                urgency: 'medium',
                urgencyLabel: 'üü° Schedule Soon',
                urgencyDesc: 'Progressive issue that will worsen. Risk of complete failure if ignored.',
                costLow: 95, costHigh: 275,
                causes: [
                    { icon: 'zap', text: 'Springs losing tension ‚Äî not fully broken but weakening' },
                    { icon: 'ruler', text: 'Track alignment off, creating friction points' },
                    { icon: 'circle', text: 'Rollers binding or flat-spotted from wear' },
                    { icon: 'eye', text: 'Safety sensor misalignment causing hesitation/reversal' }
                ],
                safety: false
            },
            'damage': {
                title: 'Panel or Structural Damage',
                desc: 'Dented, cracked, or warped panels affect both curb appeal and door function. Depending on severity, individual panels can often be replaced without replacing the entire door ‚Äî saving significant cost.',
                urgency: 'low',
                urgencyLabel: 'üü¢ Can Schedule at Convenience',
                urgencyDesc: 'Unless the door doesn\'t close securely, this is cosmetic/structural.',
                costLow: 150, costHigh: 600,
                causes: [
                    { icon: 'car', text: 'Vehicle impact ‚Äî most common cause of panel damage' },
                    { icon: 'cloud-rain', text: 'Weather damage, rot (wood doors), or UV deterioration' },
                    { icon: 'thermometer', text: 'Warping from temperature extremes over time' }
                ],
                safety: false
            },
            'new': {
                title: 'New Installation or Replacement',
                desc: 'Star City Garage Doors carries industry-leading brands including doorLink and Haas garage doors with SOMMER, LiftMaster, and Linear openers. Free estimates on all new installations, and financing is available through Wisetack.',
                urgency: 'info',
                urgencyLabel: 'üìã Free Estimate Available',
                urgencyDesc: 'Schedule a free consultation to explore door styles, materials, and opener options.',
                costLow: 800, costHigh: 3500,
                causes: [
                    { icon: 'home', text: 'Full garage door replacement with insulated panel options' },
                    { icon: 'radio', text: 'Smart opener installation with WiFi and smartphone control' },
                    { icon: 'palette', text: 'Style upgrade ‚Äî carriage house, modern, traditional designs' },
                    { icon: 'shield', text: 'Energy-efficient insulated doors for Virginia weather' }
                ],
                safety: false
            }
        };

        function selectSymptom(sym) {
            state.symptom = sym;
            document.querySelectorAll('.symptom-btn[data-sym]').forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-sym="${sym}"]`).classList.add('selected');
            setTimeout(() => goToStep(2), 300);
        }

        function selectDetail(key, val) {
            state[key] = val;
            // Clear others in same group
            document.querySelectorAll(`[data-detail^="${key}-"]`).forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-detail="${key}-${val}"]`).classList.add('selected');
            checkStep2();
        }

        function toggleExtra(extra) {
            const el = document.querySelector(`[data-extra="${extra}"]`);
            if (state.extras.has(extra)) {
                state.extras.delete(extra);
                el.classList.remove('checked');
                el.querySelector('.check-box').style.background = '';
                el.querySelector('.check-box').style.borderColor = '';
            } else {
                state.extras.add(extra);
                el.classList.add('checked');
                el.querySelector('.check-box').style.background = '#22c55e';
                el.querySelector('.check-box').style.borderColor = '#22c55e';
            }
        }

        function selectTime(t) {
            state.time = t;
            document.querySelectorAll('[data-time]').forEach(el => el.classList.remove('selected'));
            document.querySelector(`[data-time="${t}"]`).classList.add('selected');
        }

        function checkStep2() {
            document.getElementById('step2Next').disabled = !(state.doorType && state.age);
        }

        function goToStep(step) {
            for (let i = 1; i <= 3; i++) document.getElementById('step' + i).classList.add('hidden');
            document.getElementById('thankYou').classList.add('hidden');

            const target = document.getElementById('step' + step);
            target.classList.remove('hidden');
            target.classList.add('fade-in');

            const labels = ['', 'Step 1 of 3 ‚Äî What\'s happening?', 'Step 2 of 3 ‚Äî Door Details', 'Step 3 of 3 ‚Äî Your Diagnosis'];
            const pcts = ['', '33', '66', '100'];
            document.getElementById('stepLabel').textContent = labels[step];
            document.getElementById('stepPercent').textContent = pcts[step] + '%';
            document.getElementById('progressBar').style.width = pcts[step] + '%';

            if (step === 3) renderDiagnosis();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderDiagnosis() {
            const d = DIAGNOSES[state.symptom];
            if (!d) return;

            // Adjust cost for double door
            let costMult = state.doorType === 'double' ? 1.4 : 1;
            // Adjust for age
            if (state.age === '10-20') costMult *= 1.1;
            if (state.age === '20+') costMult *= 1.25;

            const low = Math.round(d.costLow * costMult);
            const high = Math.round(d.costHigh * costMult);

            document.getElementById('diagTitle').textContent = d.title;
            document.getElementById('diagDesc').textContent = d.desc;
            document.getElementById('costRange').textContent = `$${low} ‚Äì $${high}`;

            // Urgency
            const urgColors = { high: 'bg-red-500/20 text-red-200', medium: 'bg-yellow-500/20 text-yellow-200', low: 'bg-green-500/20 text-green-200', info: 'bg-blue-500/20 text-blue-200' };
            document.getElementById('urgencyBadge').innerHTML = `
                <span class="px-3 py-1.5 rounded-full text-sm font-medium ${urgColors[d.urgency]}">${d.urgencyLabel}</span>
                <span class="text-sm text-navy-300">${d.urgencyDesc}</span>
            `;

            // Causes
            document.getElementById('likelyCauses').innerHTML = d.causes.map(c => `
                <div class="flex items-start gap-3 p-3 bg-gray-50 rounded-xl">
                    <i data-lucide="${c.icon}" class="w-5 h-5 text-navy-500 mt-0.5 flex-shrink-0"></i>
                    <span class="text-sm text-gray-700">${c.text}</span>
                </div>
            `).join('');

            // Safety
            if (d.safety) {
                document.getElementById('safetyWarning').classList.remove('hidden');
                document.getElementById('safetyText').textContent = d.safetyMsg;
            } else {
                document.getElementById('safetyWarning').classList.add('hidden');
            }

            // Re-init icons
            lucide.createIcons();
        }

        function submitRequest() {
            const name = document.getElementById('contactName').value.trim();
            const phone = document.getElementById('contactPhone').value.trim();
            if (!name || !phone) { alert('Please enter your name and phone number.'); return; }

            const d = DIAGNOSES[state.symptom];
            const submission = {
                name, phone,
                area: document.getElementById('contactArea').value,
                time: state.time,
                symptom: state.symptom,
                diagnosis: d.title,
                doorType: state.doorType,
                age: state.age,
                extras: Array.from(state.extras),
                timestamp: new Date().toISOString()
            };

            const submissions = JSON.parse(localStorage.getItem('starcity-submissions') || '[]');
            submissions.push(submission);
            localStorage.setItem('starcity-submissions', JSON.stringify(submissions));

            document.getElementById('step3').classList.add('hidden');
            document.getElementById('thankYou').classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function startOver() {
            state = { symptom: null, doorType: null, age: null, extras: new Set(), time: null };
            document.querySelectorAll('.symptom-btn, .check-item').forEach(el => el.classList.remove('selected', 'checked'));
            document.querySelectorAll('.check-box').forEach(el => { el.style.background = ''; el.style.borderColor = ''; });
            document.getElementById('step2Next').disabled = true;
            document.getElementById('contactName').value = '';
            document.getElementById('contactPhone').value = '';
            document.getElementById('contactArea').value = '';
            goToStep(1);
        }

        document.addEventListener('DOMContentLoaded', () => { lucide.createIcons(); });
    </script>

<!-- BennyCuTools Purchase CTA ‚Äî injected by inject-cta.py -->
<style>
#bct-cta-bar {
  position: fixed;
  bottom: 48px;
  left: 0;
  right: 0;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  border-top: 2px solid #6366f1;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  z-index: 99998;
  flex-wrap: wrap;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
}
#bct-cta-bar .bct-cta-text {
  color: #e4e4e7;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  font-weight: 500;
}
#bct-cta-bar .bct-cta-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 20px;
  background: #6366f1;
  color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  text-decoration: none;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
}
#bct-cta-bar .bct-cta-btn:hover {
  background: #4f46e5;
  transform: translateY(-1px);
}
#bct-cta-bar .bct-cta-btn-secondary {
  background: transparent;
  border: 1px solid #6366f1;
  color: #a5b4fc;
}
#bct-cta-bar .bct-cta-btn-secondary:hover {
  background: rgba(99,102,241,0.15);
}
@media (max-width: 600px) {
  #bct-cta-bar {
    flex-direction: column;
    gap: 8px;
    padding: 8px 12px;
    bottom: 44px;
  }
  #bct-cta-bar .bct-cta-text { font-size: 12px; }
  #bct-cta-bar .bct-cta-btn { font-size: 13px; padding: 7px 16px; width: 100%; justify-content: center; }
}
</style>
<div id="bct-cta-bar" role="banner" aria-label="Purchase this tool">
  <span class="bct-cta-text">Like this tool? Make it yours.</span>
  <a class="bct-cta-btn" id="bct-buy-btn" href="https://bennycutools.com/buy.html">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
    Get It ‚Äî $200 One-Time
  </a>
  <a class="bct-cta-btn bct-cta-btn-secondary" href="mailto:cuuper225@gmail.com?subject=Question%20about%20my%20custom%20tool">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
    Questions? Email Ben
  </a>
</div>
<script>
// Auto-fill the buy link with the current tool's page name
(function(){
  try {
    var pg = location.pathname.replace(/.*\//, '').replace('.html','');
    var buyBtn = document.getElementById('bct-buy-btn');
    if (buyBtn && pg) {
      buyBtn.href = 'https://bennycutools.com/buy.html?tool=' + encodeURIComponent(pg);
    }
  } catch(e){}
})();
</script>
<!-- End BennyCuTools Purchase CTA -->

</body>
</html>
